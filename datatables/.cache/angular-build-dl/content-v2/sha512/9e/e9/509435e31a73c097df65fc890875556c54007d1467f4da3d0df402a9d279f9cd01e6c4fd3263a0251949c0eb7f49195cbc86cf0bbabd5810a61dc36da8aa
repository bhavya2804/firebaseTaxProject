(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},"2QA8":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function l(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(l((n,r)=>Object(a.a)(e(n,r)).pipe(Object(s.a)((e,i)=>t(n,e,r,i))),n)):("number"==typeof t&&(n=t),t=>t.lift(new u(e,n)))}class u{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new c(e,this.project,this.concurrent))}}class c extends i.a{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const i=new o.a(this,void 0,void 0);this.destination.add(i),Object(r.a)(this,e,t,n,i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,r,i){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),l=n("NJ4a");class u extends o.a{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!e){this.destination=i.a;break}if("object"==typeof e){e instanceof u?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,e,t,n)}}[s.a](){return this}static create(e,t,n){const r=new u(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}class c extends u{constructor(e,t,n,o){let s;super(),this._parentSubscriber=e;let a=this;Object(r.a)(t)?s=t:t&&(s=t.next,n=t.error,o=t.complete,t!==i.a&&(a=Object.create(t),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(l.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(l.a)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(l.a)(n)}}__tryOrSetError(e,t,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(l.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},"8Y7J":function(e,t,n){"use strict";n.d(t,"hb",(function(){return Bs})),n.d(t,"ib",(function(){return Ws})),n.d(t,"jb",(function(){return zs})),n.d(t,"kb",(function(){return Qs})),n.d(t,"gb",(function(){return Fo})),n.d(t,"fb",(function(){return bo})),n.d(t,"g",(function(){return xs})),n.d(t,"P",(function(){return Es})),n.d(t,"w",(function(){return Cs})),n.d(t,"Q",(function(){return ft})),n.d(t,"T",(function(){return pt})),n.d(t,"c",(function(){return Mo})),n.d(t,"A",(function(){return Vo})),n.d(t,"z",(function(){return jo})),n.d(t,"b",(function(){return Uo})),n.d(t,"d",(function(){return Ro})),n.d(t,"e",(function(){return Po})),n.d(t,"S",(function(){return Us})),n.d(t,"K",(function(){return ps})),n.d(t,"V",(function(){return ms})),n.d(t,"s",(function(){return Ho})),n.d(t,"f",(function(){return $s})),n.d(t,"m",(function(){return Oo})),n.d(t,"l",(function(){return ct})),n.d(t,"E",(function(){return Vt})),n.d(t,"F",(function(){return Lt})),n.d(t,"a",(function(){return Sn})),n.d(t,"N",(function(){return K})),n.d(t,"L",(function(){return ur})),n.d(t,"Jb",(function(){return m})),n.d(t,"R",(function(){return w})),n.d(t,"p",(function(){return gn})),n.d(t,"Kb",(function(){return q})),n.d(t,"o",(function(){return N})),n.d(t,"n",(function(){return c})),n.d(t,"y",(function(){return h})),n.d(t,"G",(function(){return p})),n.d(t,"x",(function(){return ss})),n.d(t,"B",(function(){return ar})),n.d(t,"C",(function(){return or})),n.d(t,"D",(function(){return sr})),n.d(t,"i",(function(){return Ko})),n.d(t,"j",(function(){return Jn})),n.d(t,"k",(function(){return nr})),n.d(t,"t",(function(){return z})),n.d(t,"v",(function(){return W})),n.d(t,"u",(function(){return Is})),n.d(t,"H",(function(){return Ps})),n.d(t,"I",(function(){return Ds})),n.d(t,"J",(function(){return Ar})),n.d(t,"M",(function(){return Nr})),n.d(t,"h",(function(){return hn})),n.d(t,"q",(function(){return wr})),n.d(t,"r",(function(){return Cr})),n.d(t,"O",(function(){return On})),n.d(t,"U",(function(){return Hs})),n.d(t,"ub",(function(){return kn})),n.d(t,"Y",(function(){return qo})),n.d(t,"W",(function(){return pn})),n.d(t,"X",(function(){return Xn})),n.d(t,"bb",(function(){return Mt})),n.d(t,"cb",(function(){return qt})),n.d(t,"db",(function(){return vt})),n.d(t,"sb",(function(){return x})),n.d(t,"xb",(function(){return Nn})),n.d(t,"Db",(function(){return y})),n.d(t,"vb",(function(){return zn})),n.d(t,"wb",(function(){return Wn})),n.d(t,"rb",(function(){return To})),n.d(t,"qb",(function(){return Ao})),n.d(t,"Z",(function(){return wo})),n.d(t,"ab",(function(){return Co})),n.d(t,"Ib",(function(){return oe})),n.d(t,"Gb",(function(){return Tn})),n.d(t,"Mb",(function(){return Rn})),n.d(t,"Lb",(function(){return Pn})),n.d(t,"Hb",(function(){return Mn})),n.d(t,"Nb",(function(){return Vn})),n.d(t,"eb",(function(){return Gs})),n.d(t,"lb",(function(){return Ri})),n.d(t,"mb",(function(){return fl})),n.d(t,"nb",(function(){return Qr})),n.d(t,"ob",(function(){return ro})),n.d(t,"pb",(function(){return Ks})),n.d(t,"tb",(function(){return yi})),n.d(t,"yb",(function(){return Ai})),n.d(t,"zb",(function(){return Ti})),n.d(t,"Ab",(function(){return Wi})),n.d(t,"Bb",(function(){return io})),n.d(t,"Cb",(function(){return ea})),n.d(t,"Eb",(function(){return sa})),n.d(t,"Fb",(function(){return ua}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");const l="__parameters__";function u(e,t,n){const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(l)?e[l]:Object.defineProperty(e,l,{value:[]})[l];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}const c=u("Inject",e=>({token:e})),h=u("Optional"),d=u("Self"),p=u("SkipSelf");var f=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function g(e){for(let t in e)if(e[t]===g)return t;throw Error("Could not find renamed property on target object.")}function m(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function _(e){const t=e[v];return t&&t.token===e?t:null}const v=g({ngInjectableDef:g});function y(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(y).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const b=g({__forward_ref__:g});function w(e){return e.__forward_ref__=w,e.toString=function(){return y(this())},e}function C(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(b)&&t.__forward_ref__===w?t():e}const E="undefined"!=typeof globalThis&&globalThis,S="undefined"!=typeof window&&window,T="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,A="undefined"!=typeof global&&global,x=E||A||S||T;class N{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=m({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const I=new N("INJECTOR",-1),O=new Object,k="ngTempTokenPath",D="ngTokenPath",R=/\n/gm,P="\u0275",M="__source",F=g({provide:String,useValue:g});let L,V=void 0;function j(e){const t=V;return V=e,t}function U(e,t=f.Default){if(void 0===V)throw new Error("inject() must be called from an injection context");return null===V?function(e,t,n){const r=_(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&f.Optional)return null;throw new Error(`Injector: NOT_FOUND [${y(e)}]`)}(e,0,t):V.get(e,t&f.Optional?null:void 0,t)}function q(e,t=f.Default){return(L||U)(e,t)}class H{get(e,t=O){if(t===O){const t=new Error(`NullInjectorError: No provider for ${y(e)}!`);throw t.name="NullInjectorError",t}return t}}function B(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==P?e.substr(2):e;let i=y(t);if(t instanceof Array)i=t.map(y).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):y(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(R,"\n  ")}`}class W{}class z{}function Q(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function $(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const G=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),K=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Y={},Z=[],J=g({ngComponentDef:g}),X=g({ngDirectiveDef:g}),ee=g({ngPipeDef:g});let te=0;function ne(e){return function(e){return e[J]||null}(e)||function(e){return e[X]||null}(e)}function re(e){return function(e){return e[ee]||null}(e)}function ie(e,t){if(null==e)return Y;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}const oe=function(e){const t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,consts:e.consts,vars:e.vars,factory:e.factory,template:e.template||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===G.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||K.Emulated,id:"c",styles:e.styles||Z,_:null,setInput:null,schemas:e.schemas||null,tView:null};return i._=""+{toString:()=>{const n=e.directives,o=e.features,s=e.pipes;i.id+=te++,i.inputs=ie(e.inputs,r),i.outputs=ie(e.outputs),o&&o.forEach(e=>e(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(ne):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(re):null,t.hasOwnProperty(v)||(t[v]=m({token:t,factory:e.factory}))}},i},se=0,ae=1,le=7,ue=12,ce=19;let he=null;const de=new Map;let pe=null;const fe=1,ge=0;function me(e,t){return pe&&e===pe||(pe=e,t&&(he=de.get(e)||null),he=he||{classesBitMask:ge,classesIndex:fe,stylesBitMask:ge,stylesIndex:fe}),he}function _e(e,t){return function(e){for(;Array.isArray(e);)e=e[se];return e}(t[e.index])}function ve(e,t){return t[ae].data[e+ce]}let ye=null;function be(){return Ce}let we,Ce,Ee,Se=1,Te=0,Ae=0,xe=-1;function Ne(){return xe}function Ie(){return Ee}const Oe=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(x))(),ke="--MAP--",De=0;function Re(e,t){t===De?e[2]>De&&function(e){Me(e,2|Pe(e))}(e):e[2]=t}function Pe(e){return e[1]}function Me(e,t){e[1]=t}function Fe(e,t){return e[t+2]}function Le(e,t){return 1&e[t+0]}function Ve(e,t){return(1&Le(e,t))>0}function je(e,t){return e[t+0]>>1}function Ue(e,t,n){const r=Le(e,t);e[t+0]=r|n<<1}function qe(e,t){return e[t+1]}function He(e,t,n){return e[t+3+n]}function Be(e,t){return!(!e||t!==e[2])}function We(e){return(1&Pe(e))>0}function ze(e){return(2&Pe(e))>0}function Qe(e){return 6+e[4]}function $e(e,t){let n=Array.isArray(e)?e[0]:e,r=Array.isArray(t)?t[0]:t;return n instanceof String&&(n=n.toString()),r instanceof String&&(r=r.toString()),function(e,t){return!(e!=e&&t!=t)&&e!==t}(n,r)}function Ge(e){return null!=e&&""!==e}function Ke(e,t,n=" "){return e+(t.length&&e.length?n:"")+t}function Ye(e){return e.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function Ze(e){return Je(e)?e[0]:e}function Je(e){return Array.isArray(e)&&e.length>=6&&"string"!=typeof e[1]}function Xe(e,t){return e[t+0]}function et(e,t,n){e[t+1]=n}function tt(e,t){return e[t+1]}const nt=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();function rt(e){return!!e.listen}const it="ngDebugContext",ot="ngOriginalError",st="ngErrorLogger";function at(e){return e[it]}function lt(e){return e[ot]}function ut(e,...t){e.error(...t)}class ct{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e[st]||ut}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?at(e)?at(e):this._findContext(lt(e)):null}_findOriginalError(e){let t=lt(e);for(;t&&lt(t);)t=lt(t);return t}}let ht=!0,dt=!1;function pt(){return dt=!0,ht}function ft(){if(dt)throw new Error("Cannot enable prod mode after platform setup.");ht=!1}class gt{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const mt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,_t=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function vt(e){return(e=String(e)).match(mt)||e.match(_t)?e:(pt()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function yt(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function bt(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const wt=yt("area,br,col,hr,img,wbr"),Ct=yt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Et=yt("rp,rt"),St=bt(Et,Ct),Tt=bt(wt,bt(Ct,yt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bt(Et,yt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),St),At=yt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xt=yt("srcset"),Nt=bt(At,xt,yt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),yt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),It=yt("script,style,template");class Ot{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Tt.hasOwnProperty(t))return this.sanitizedSomething=!0,!It.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,o=t.toLowerCase();if(!Nt.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=e.value;At[o]&&(s=vt(s)),xt[o]&&(r=s,s=(r=String(r)).split(",").map(e=>vt(e.trim())).join(", ")),this.buf.push(" ",t,'="',Rt(s),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Tt.hasOwnProperty(t)&&!wt.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Rt(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const kt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dt=/([^\#-~ |!])/g;function Rt(e){return e.replace(/&/g,"&amp;").replace(kt,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Dt,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Pt;function Mt(e,t){let n=null;try{Pt=Pt||new gt(e);let r=t?String(t):"";n=Pt.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Pt.getInertBodyElement(r)}while(r!==o);const s=new Ot,a=s.sanitizeChildren(Ft(n)||n);return pt()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const e=Ft(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Ft(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const Lt=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();class Vt{}const jt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ut=/^url\(([^)]+)\)$/;function qt(e){if(!(e=String(e).trim()))return"";const t=e.match(Ut);return t&&vt(t[1])===t[1]||e.match(jt)&&function(e){let t=!0,n=!0;for(let r=0;r<e.length;r++){const i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(pt()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}const Ht=/([A-Z])/g;function Bt(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}const Wt=1,zt=0,Qt=null,$t=1;let Gt=[];function Kt(e,t,n,r,i,o,s,a,l){We(e)||(s?function(e,t,n,r,i){Gt.unshift(e,t,n,r,i)}(e,n,r,i,l):(Gt.length&&Yt(),Zt(e,n,r,i,l)));const u=a||$e(t[i],o);return u&&(t[i]=o),u}function Yt(){let e=0;for(;e<Gt.length;)Zt(Gt[e++],Gt[e++],Gt[e++],Gt[e++],Gt[e++]);Gt.length=0}function Zt(e,t,n,r,i){let o=!1;if(n){let s=!1,a=Qe(e);for(;a<e.length;){const o=qe(e,a),l=Fe(e,a);if(s=n<=l){n<l&&Jt(e,a,n,i),Xt(e,!1,a,r,t);break}a+=3+o}s||(Jt(e,e.length,n,i),Xt(e,!1,a,r,t),o=!0)}else Xt(e,!0,3,r,t),o=!0;return o}function Jt(e,t,n,r){e.splice(t,0,r?1:0,$t,n,Qt),Ue(e,t,Wt)}function Xt(e,t,n,r,i){const o=n+3;let s=o+qe(e,n);if(t||s--,"number"==typeof r){for(let t=o;t<=s;t++)if(e[t]===r)return;e.splice(s,0,r),e[n+1]++,Ue(e,n,je(e,n)|1<<i)}else null!==r&&null==e[s]&&(e[s]=r)}function en(e,t,n,r,i,o,s,a){return i&&r&&(function(e){if(!We(e)){const t=Ze(e);t&&function(e,t){for(let n=1;n<t.length;n+=2){const r=tt(t,n);r&&Zt(e,-1,Xe(t,n),r,!1)}}(e,t),function(e){Me(e,1|Pe(e))}(e)}}(r),function(e,t){return e&&t>ge}(r,o))?(function(e,t,n,r,i,o,s){const a=!0===(l=i)?-1:!1===l?0:l;var l;const u=tn,c=(a&je(e,3))>0?1:0;let h=Qe(e);for(;h<e.length;){const i=qe(e,h);if(a&je(e,h)){let a=!1;const l=Fe(e,h),d=i-1,p=He(e,h,d);for(let i=0;i<d;i++){const u=He(e,h,i),c=r[u];if(Ge(c)){o(t,n,l,s&&Ve(e,h)?s(l,c,2):c,u),a=!0;break}}if(u){const i=u(e,t,n,r,o,s,c|(a?4:2),l,p);a=a||i}a||o(t,n,l,p)}h+=3+i}u&&u(e,t,n,r,o,s,c)}(r,e,t,n,o,s,a),!0):i}let tn=null;const nn=(e,t,n,r)=>{const i=t.style;r?(r=r.toString(),e&&rt(e)?e.setStyle(t,n,r,nt.DashCase):i&&i.setProperty(n,r)):e&&rt(e)?e.removeStyle(t,n,nt.DashCase):i&&i.removeProperty(n)},rn=(e,t,n,r)=>{if(""!==n){const i=t.classList;r?e&&rt(e)?e.addClass(t,n):i&&i.add(n):e&&rt(e)?e.removeClass(t,n):i&&i.remove(n)}},on={},sn=(e,t,n,r,i,o,s,a,l)=>{let u=!1;if(qe(e,3)){let c=!0;const h=!a;h&&-2&s&&(c=!1,u=!0),c&&(u=function e(t,n,r,i,o,s,a,l,u,c){let h=!1;if(u<qe(t,3)){const p=He(t,3,u),f=i[p];let g=((d=u)>=un.length&&un.push(1),un[d]);for(;g<f.length;){const d=Xe(f,g),m=l&&d>l,_=!m&&d===l,v=tt(f,g),y=Ge(v);let b=e(t,n,r,i,o,s,m?a:an(a,y,_),m?l:d,u+1,c);if(m){h||(h=b);break}if(!b&&ln(a,_)){const e=_&&!y,t=e?c:v,i=e?p:null;o(n,r,d,s?s(d,t,3):t,i),b=!0}h=b&&_,g+=2}if(un[u]=g,1===f.length||!l)return e(t,n,r,i,o,s,a,l,u+1,c)}var d;return h}(e,t,n,r,i,o,s,a||null,0,l||null)),h&&function(){for(let e=0;e<un.length;e++)un[e]=1}()}return u};function an(e,t,n){let r=e;return t||4&e||!(n||1&e)?(r|=4,r&=-3):(r|=2,r&=-5),r}function ln(e,t){let n=(1&e)>0;return n?4&e&&t&&(n=!1):2&e&&(n=t),n}const un=[];function cn(e,t,n,r){for(let i=1;i<e.length;i+=2){const o=Xe(e,i);if(t<=o){let s=!1;if(o===t){const t=e[i];!r&&Ge(t)||(s=!0,et(e,i,n))}else s=!0,e.splice(i,0,t,n);return s}}return e.push(t,n),!0}let hn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>dn(),e})();const dn=(...e)=>{},pn=new N("The presence of this token marks an injector as being the root injector."),fn=function(e,t,n){return new wn(e,t,n)};let gn=(()=>{class e{static create(e,t){return Array.isArray(e)?fn(e,t,""):fn(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=O,e.NULL=new H,e.ngInjectableDef=m({token:e,providedIn:"any",factory:()=>q(I)}),e.__NG_ELEMENT_ID__=-1,e})();const mn=function(e){return e},_n=[],vn=mn,yn=function(){return Array.prototype.slice.call(arguments)},bn="\u0275";class wn{constructor(e,t=gn.NULL,n=null){this.parent=t,this.source=n;const r=this._records=new Map;r.set(gn,{token:gn,fn:mn,deps:_n,value:this,useNew:!1}),r.set(I,{token:I,fn:mn,deps:_n,value:this,useNew:!1}),function e(t,n){if(n)if((n=C(n))instanceof Array)for(let r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw En("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw En("Unexpected provider",n);{let e=C(n.provide);const r=function(e){const t=function(e){let t=_n;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let r=6,i=C(n[e]);if(i instanceof Array)for(let e=0,t=i;e<t.length;e++){const n=t[e];n instanceof h||n==h?r|=1:n instanceof p||n==p?r&=-3:n instanceof d||n==d?r&=-5:i=n instanceof c?n.token:C(n)}t.push({token:i,options:r})}}else if(e.useExisting)t=[{token:C(e.useExisting),options:6}];else if(!(n||F in e))throw En("'deps' required",e);return t}(e);let n=mn,r=_n,i=!1,o=C(e.provide);if(F in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=C(e.useClass);else{if("function"!=typeof o)throw En("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=o}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=t.get(e);if(r){if(r.fn!==yn)throw Cn(e)}else t.set(e,r={token:n.provide,deps:[],useNew:!1,fn:yn,value:_n});r.deps.push({token:e=n,options:6})}const i=t.get(e);if(i&&i.fn==yn)throw Cn(e);t.set(e,r)}}}(r,e)}get(e,t,n=f.Default){const r=this._records.get(e);try{return function e(t,n,r,i,o,s){try{return function(t,n,r,i,o,s){let a;if(!n||s&f.SkipSelf)s&f.Self||(a=i.get(t,o,f.Default));else{if((a=n.value)==vn)throw Error(bn+"Circular dependency");if(a===_n){n.value=vn;let t=void 0,o=n.useNew,s=n.fn,l=n.deps,u=_n;if(l.length){u=[];for(let t=0;t<l.length;t++){const n=l[t],o=n.options,s=2&o?r.get(n.token):void 0;u.push(e(n.token,s,r,s||4&o?i:gn.NULL,1&o?null:gn.THROW_IF_NOT_FOUND,f.Default))}}n.value=a=o?new s(...u):s.apply(t,u)}}return a}(t,n,r,i,o,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a[k]=a[k]||[]).unshift(t),n&&n.value==vn&&(n.value=_n),a}}(e,r,this._records,this.parent,t,n)}catch(i){return function(e,t,n,r){const i=e[k];throw t[M]&&i.unshift(t[M]),e.message=B("\n"+e.message,i,"StaticInjectorError",r),e[D]=i,e[k]=null,e}(i,e,0,this.source)}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(y(n))),`StaticInjector[${e.join(", ")}]`}}function Cn(e){return En("Cannot mix multi providers and regular providers",e)}function En(e,t){return new Error(B(e,t,"StaticInjectorError"))}const Sn=new N("AnalyzeForEntryComponents");function Tn(e){const t=be(),n=t[ae];n.firstTemplatePass&&(function(e,t,n){const r=e.expandoInstructions,i=r.length;i>=2&&r[i-2]===t.hostBindings?r[i-1]=r[i-1]+n:r.push(t.hostBindings,n)}(n,ye,e),function(e,t,n){for(let r=0;r<n;r++)t.push(on),e.blueprint.push(on),e.data.push(null)}(n,t,e))}let An=null;function xn(){if(!An){const e=x.Symbol;if(e&&e.iterator)An=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(An=n)}}}return An}function Nn(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function In(e,t){const n=kn(e),r=kn(t);if(n&&r)return function(e,t,n){const r=e[xn()](),i=t[xn()]();for(;;){const e=r.next(),t=i.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,In);{const i=e&&("object"==typeof e||"function"==typeof e),o=t&&("object"==typeof t||"function"==typeof t);return!(n||!i||r||!o)||Nn(e,t)}}class On{constructor(e){this.wrapped=e}static wrap(e){return new On(e)}static unwrap(e){return On.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof On}}function kn(e){return!!Dn(e)&&(Array.isArray(e)||!(e instanceof Map)&&xn()in e)}function Dn(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Rn(){var e,t;be()[ae].firstTemplatePass&&(e=we,t=jn(),Re(qn(e),t),Re(Un(e),t))}function Pn(e){const t=Ne(),n=be(),r=ve(t,n),i=Un(r),o=jn(),s=n[le]++;!o&&function(e){return 0!=(16&e.flags)}(r)&&e!==on&&(Ln(i,n,r,s,e,!1),e=on),Fn(t,i,s,e,!1,Bn())}function Mn(e){!function(e,t){const n=be(),r=ve(e,n),i=qn(r),o=jn(),s=n[le]++;!o&&function(e){return 0!=(8&e.flags)}(r)&&t!==on&&(Ln(i,n,r,s,t,!0),t=on),Fn(e,i,s,t,!0,Bn())}(Ne(),e)}function Fn(e,t,n,r,i,o){tn=sn;const s=be();let a=!1;if(r!==on){const l=_e(ve(e,s),s),u=s[n];a=$e(u,r);const c=function(e,t,n){const r=Array.isArray(e)?e:[null];r[0]=t||null;for(let a=1;a<r.length;a+=2)et(r,a,null);let i,o=null,s=!1;if("string"==typeof t?t.length&&(o=t.split(/\s+/),s=!0):(o=t?Object.keys(t):null,i=t),o)for(let a=0;a<o.length;a++){const e=o[a];cn(r,n?Ye(e):e,!!s||i[e],!0)}return r}(u,r,!i);i?function(e,t,n,r,i,o,s,a){const l=me(n,ze(e)),u=zt;!Kt(e,t,u,null,i,o,s,a,!1)&&!a||(l.classesBitMask|=1<<u)}(t,s,l,0,n,c,o,a):function(e,t,n,r,i,o,s,a,l){const u=me(n,ze(e)),c=zt;!Kt(e,t,c,null,i,o,a,l,!0)&&!l||(u.stylesBitMask|=1<<c)}(t,s,l,0,n,c,Ie(),o,a)}return a}function Ln(e,t,n,r,i,o){t[r]!==i&&((i||We(e))&&function(e,t,n){const r=e[ae];for(let i=0;i<t.length;){const o=t[i++],s=t[i++],a=t[i++],l=e[o],u=r.data[o];u.setInput?u.setInput(l,n,s,a):l[a]=n}}(t,n.inputs[o?"class":"style"],function(e,t,n){let r=t;var i;return e.length>0&&(r=n?Ke(e,((i=t)&&"string"!=typeof i&&(i=Object.keys(i).join(" ")),i||"")):Ke(e,function(e){let t="";if(e){const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];t=Ke(t,`${i}:${e[i]}`,";")}}return t}(t),";")),r}(function(e){const t=Ze(e);return t&&t[0]||""}(e),i,o)),t[r]=i)}function Vn(){const e=Ne(),t=be(),n=ve(e,t),r=function(e,t){return 3===e.type?t[ue]:null}(n,t),i=_e(n,t),o=jn(),s=Ie();(function(e,t,n,r,i,o,s){const a=n?ze(n):!!r&&ze(r),l=Be(n,o),u=Be(r,o);Gt.length&&(l||u)&&Yt();const c=me(i,a),h=en(e,i,t,n,l,c.classesBitMask,rn,null),d=en(e,i,t,r,u,c.stylesBitMask,nn,s);h&&d?(he=null,pe=null,a&&function(e){de.delete(e)}(i)):a&&function(e,t){de.set(e,t)}(i,c)})(r,t,qn(n),Un(n),i,o,s),Ee=null}function jn(){return Se+Te}function Un(e){return Hn(e,!1)}function qn(e){return Hn(e,!0)}function Hn(e,t){let n=t?e.classes:e.styles;return Je(n)||(n=[n||[""],0,De,1,0,ke],t?e.classes=n:e.styles=n),n}function Bn(){return Ae>0}function Wn(e){return!!e&&"function"==typeof e.then}function zn(e){return!!e&&"function"==typeof e.subscribe}class Qn{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}class $n{}class Gn{}function Kn(e){const t=Error(`No component factory found for ${y(e)}. Did you add it to @NgModule.entryComponents?`);return t[Yn]=e,t}const Yn="ngComponent";class Zn{resolveComponentFactory(e){throw Kn(e)}}let Jn=(()=>{class e{}return e.NULL=new Zn,e})();class Xn{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let r=0;r<e.length;r++){const t=e[r];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Kn(e);return new er(t,this._ngModule)}}class er extends Gn{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}function tr(...e){}let nr=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>rr(e),e})();const rr=tr;class ir{}class or{}const sr=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let ar=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>lr(),e})();const lr=tr;class ur{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const cr=new ur("8.2.14");class hr{constructor(){}supports(e){return kn(e)}create(e){return new pr(e)}}const dr=(e,t)=>t;class pr{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||dr}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const o=!n||t&&t.currentIndex<_r(n,r,i)?t:n,s=_r(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);const e=s-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;t<=o&&o<e&&(i[n]=r+1)}i[o.previousIndex]=t-e}}s!==a&&e(o,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!kn(e))throw new Error(`Error trying to diff '${y(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)r=this._trackByFn(t,n=e[t]),null!==i&&Nn(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,t)),Nn(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),o=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[xn()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Nn(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,e,r,t)),Nn(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),o=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Nn(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Nn(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new fr(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new mr),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mr),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class fr{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gr{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Nn(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class mr{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new gr,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _r(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class vr{constructor(){}supports(e){return e instanceof Map||Dn(e)}create(){return new yr}}class yr{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Dn(e)))throw new Error(`Error trying to diff '${y(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new br(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Nn(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class br{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let wr=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new p,new h]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.ngInjectableDef=m({token:e,providedIn:"root",factory:()=>new e([new hr])}),e})(),Cr=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new p,new h]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.ngInjectableDef=m({token:e,providedIn:"root",factory:()=>new e([new vr])}),e})();const Er=[new vr],Sr=new wr([new hr]),Tr=new Cr(Er);let Ar=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>xr(e,nr),e})();const xr=tr;let Nr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ir(e,nr),e})();const Ir=tr;function Or(e,t,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return kr(n,t),n}(i,e)}function kr(e,t){e[it]=t,e[st]=t.logError.bind(t)}function Dr(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function Rr(e,t,n){const r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function Pr(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function Mr(e,t){return e.nodes[t]}function Fr(e,t){return e.nodes[t]}function Lr(e,t){return e.nodes[t]}function Vr(e,t){return e.nodes[t]}function jr(e,t){return e.nodes[t]}const Ur={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},qr=()=>{},Hr=new Map;function Br(e){let t=Hr.get(e);return t||(t=y(e)+"_"+Hr.size,Hr.set(e,t)),t}const Wr="$$undefined",zr="$$empty";function Qr(e){return{id:Wr,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let $r=0;function Gr(e,t,n,r){return!(!(2&e.state)&&Nn(e.oldValues[t.bindingIndex+n],r))}function Kr(e,t,n,r){return!!Gr(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function Yr(e,t,n,r){const i=e.oldValues[t.bindingIndex+n];if(1&e.state||!In(i,r)){const o=t.bindings[n].name;throw Or(Ur.createDebugContext(e,t.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&e.state))}}function Zr(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Jr(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Xr(e,t,n,r){try{return Zr(33554432&e.def.nodes[t].flags?Fr(e,t).componentView:e),Ur.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function ei(e){return e.parent?Fr(e.parent,e.parentNodeDef.nodeIndex):null}function ti(e){return e.parent?e.parentNodeDef.parent:null}function ni(e,t){switch(201347067&t.flags){case 1:return Fr(e,t.nodeIndex).renderElement;case 2:return Mr(e,t.nodeIndex).renderText}}function ri(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function ii(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function oi(e){return 1<<e%32}function si(e){const t={};let n=0;const r={};return e&&e.forEach(([e,i])=>{"number"==typeof e?(t[e]=i,n|=oi(e)):r[e]=i}),{matchedQueries:t,references:r,matchedQueryIds:n}}function ai(e,t){return e.map(e=>{let n,r;return Array.isArray(e)?[r,n]=e:(r=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,M,{value:t,configurable:!0}),{flags:r,token:n,tokenKey:Br(n)}})}function li(e,t,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===K.Native?Fr(e,n.renderParent.nodeIndex).renderElement:void 0:t}const ui=new WeakMap;function ci(e){let t=ui.get(e);return t||((t=e(()=>qr)).factory=e,ui.set(e,t)),t}function hi(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(ni(e,e.def.lastRenderRootNode))),di(e,t,0,e.def.nodes.length-1,n,r,i)}function di(e,t,n,r,i,o,s){for(let a=n;a<=r;a++){const n=e.def.nodes[a];11&n.flags&&fi(e,n,t,i,o,s),a+=n.childCount}}function pi(e,t,n,r,i,o){let s=e;for(;s&&!ri(s);)s=s.parent;const a=s.parent,l=ti(s),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const e=a.def.nodes[c];e.ngContentIndex===t&&fi(a,e,n,r,i,o),c+=e.childCount}if(!a.parent){const s=e.root.projectableNodes[t];if(s)for(let t=0;t<s.length;t++)gi(e,s[t],n,r,i,o)}}function fi(e,t,n,r,i,o){if(8&t.flags)pi(e,t.ngContent.index,n,r,i,o);else{const s=ni(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&gi(e,s,n,r,i,o),32&t.bindingFlags&&gi(Fr(e,t.nodeIndex).componentView,s,n,r,i,o)):gi(e,s,n,r,i,o),16777216&t.flags){const s=Fr(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<s.length;e++)hi(s[e],n,r,i,o)}1&t.flags&&!t.element.name&&di(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function gi(e,t,n,r,i,o){const s=e.renderer;switch(n){case 1:s.appendChild(r,t);break;case 2:s.insertBefore(r,t,i);break;case 3:s.removeChild(r,t);break;case 0:o.push(t)}}const mi=/^:([^:]+):(.+)$/;function _i(e){if(":"===e[0]){const t=e.match(mi);return[t[1],t[2]]}return["",e]}function vi(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function yi(e,t,n,r,i,o,s,a,l,u,c,h,d,p,f,g,m,_,v,y){switch(e){case 1:return t+bi(n)+r;case 2:return t+bi(n)+r+bi(i)+o;case 3:return t+bi(n)+r+bi(i)+o+bi(s)+a;case 4:return t+bi(n)+r+bi(i)+o+bi(s)+a+bi(l)+u;case 5:return t+bi(n)+r+bi(i)+o+bi(s)+a+bi(l)+u+bi(c)+h;case 6:return t+bi(n)+r+bi(i)+o+bi(s)+a+bi(l)+u+bi(c)+h+bi(d)+p;case 7:return t+bi(n)+r+bi(i)+o+bi(s)+a+bi(l)+u+bi(c)+h+bi(d)+p+bi(f)+g;case 8:return t+bi(n)+r+bi(i)+o+bi(s)+a+bi(l)+u+bi(c)+h+bi(d)+p+bi(f)+g+bi(m)+_;case 9:return t+bi(n)+r+bi(i)+o+bi(s)+a+bi(l)+u+bi(c)+h+bi(d)+p+bi(f)+g+bi(m)+_+bi(v)+y;default:throw new Error("Does not support more than 9 expressions")}}function bi(e){return null!=e?e.toString():""}const wi=new Object,Ci=Br(gn),Ei=Br(I),Si=Br(W);function Ti(e,t,n,r){return n=C(n),{index:-1,deps:ai(r,y(t)),flags:e,token:t,value:n}}function Ai(e){const t={},n=[];let r=!1;for(let i=0;i<e.length;i++){const o=e[i];o.token===pn&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,t[Br(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}function xi(e,t,n=gn.THROW_IF_NOT_FOUND){const r=j(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const s=t.tokenKey;switch(s){case Ci:case Ei:case Si:return e}const a=e._def.providersByKey[s];let l;if(a){let t=e._providers[a.index];return void 0===t&&(t=e._providers[a.index]=Ni(e,a)),t===wi?void 0:t}if((l=_(t.token))&&(i=e,null!=(o=l).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(i,o.providedIn)||"root"===o.providedIn&&i._def.isRoot))){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:t.token},e._providers[n]=wi,e._providers[n]=Ni(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{j(r)}var i,o}function Ni(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const r=n.length;switch(r){case 0:return new t;case 1:return new t(xi(e,n[0]));case 2:return new t(xi(e,n[0]),xi(e,n[1]));case 3:return new t(xi(e,n[0]),xi(e,n[1]),xi(e,n[2]));default:const i=new Array(r);for(let t=0;t<r;t++)i[t]=xi(e,n[t]);return new t(...i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const r=n.length;switch(r){case 0:return t();case 1:return t(xi(e,n[0]));case 2:return t(xi(e,n[0]),xi(e,n[1]));case 3:return t(xi(e,n[0]),xi(e,n[1]),xi(e,n[2]));default:const i=Array(r);for(let t=0;t<r;t++)i[t]=xi(e,n[t]);return t(...i)}}(e,t.value,t.deps);break;case 2048:n=xi(e,t.deps[0]);break;case 256:n=t.value}return n===wi||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?wi:n}function Ii(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const r=n[t];return r.viewContainerParent=null,$(n,t),Ur.dirtyParentQueries(r),ki(r),r}function Oi(e,t,n){const r=t?ni(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);hi(n,2,i,o,void 0)}function ki(e){hi(e,3,null,null,void 0)}const Di=new Object;function Ri(e,t,n,r,i,o){return new Pi(e,t,n,r,i,o)}class Pi extends Gn{constructor(e,t,n,r,i,o){super(),this.selector=e,this.componentType=t,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,r){if(!r)throw new Error("ngModule should be provided");const i=ci(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=Ur.createRootView(e,t||[],n,i,r,Di),a=Lr(s,o).instance;return n&&s.renderer.setAttribute(Fr(s,0).renderElement,"ng-version",cr.full),new Mi(s,new ji(s),a)}}class Mi extends $n{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new nr(Fr(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Bi(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function Fi(e,t,n){return new Li(e,t,n)}class Li{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new nr(this._data.renderElement)}get injector(){return new Bi(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=ti(e),e=e.parent;return e?new Bi(e,t):new Bi(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=Ii(this._data,e);Ur.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new ji(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const o=n||this.parentInjector;i||e instanceof er||(i=o.get(W));const s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,r){let i=t.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=e,Q(i,n,r),function(e,t){const n=ei(t);if(!n||n===e||16&t.state)return;t.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,r),Ur.dirtyParentQueries(r),Oi(t,n>0?i[n-1]:null,r)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const r=e.viewContainer._embeddedViews,i=r[t];$(r,t),null==n&&(n=r.length),Q(r,n,i),Ur.dirtyParentQueries(i),ki(i),Oi(e,n>0?r[n-1]:null,i)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=Ii(this._data,e);t&&Ur.destroyView(t)}detach(e){const t=Ii(this._data,e);return t?new ji(t):null}}function Vi(e){return new ji(e)}class ji{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return hi(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Zr(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{Ur.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){Ur.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Ur.destroyView(this._view)}detachFromAppRef(){this._appRef=null,ki(this._view),Ur.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function Ui(e,t){return new qi(e,t)}class qi extends Ar{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new ji(Ur.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new nr(Fr(this._parentView,this._def.nodeIndex).renderElement)}}function Hi(e,t){return new Bi(e,t)}class Bi{constructor(e,t){this.view=e,this.elDef=t}get(e,t=gn.THROW_IF_NOT_FOUND){return Ur.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Br(e)},t)}}function Wi(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=Fr(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return Mr(e,n.nodeIndex).renderText;if(20240&n.flags)return Lr(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function zi(e){return new Qi(e.renderer)}class Qi{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,r]=_i(t),i=this.delegate.createElement(r,n);return e&&this.delegate.appendChild(e,i),i}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e);for(let i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[r,i]=_i(t);null!=n?this.delegate.setAttribute(e,i,n,r):this.delegate.removeAttribute(e,i,r)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function $i(e,t,n,r){return new Gi(e,t,n,r)}class Gi{constructor(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let r=0;r<t.providers.length;r++){const i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Ni(e,i))}}(this)}get(e,t=gn.THROW_IF_NOT_FOUND,n=f.Default){let r=0;return n&f.SkipSelf?r|=1:n&f.Self&&(r|=4),xi(this,{token:e,tokenKey:Br(e),flags:r},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Jn)}destroy(){if(this._destroyed)throw new Error(`The ng module ${y(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const t=e._providers[i];if(t&&t!==wi){const e=t.ngOnDestroy;"function"!=typeof e||r.has(t)||(e.apply(t),r.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const Ki=Br(ir),Yi=Br(ar),Zi=Br(nr),Ji=Br(Nr),Xi=Br(Ar),eo=Br(hn),to=Br(gn),no=Br(I);function ro(e,t,n,r,i,o,s,a){const l=[];if(s)for(let c in s){const[e,t]=s[c];l[e]={flags:8,name:c,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const u=[];if(a)for(let c in a)u.push({type:1,propName:c,target:null,eventName:a[c]});return oo(e,t|=16384,n,r,i,i,o,l,u)}function io(e,t,n,r,i){return oo(-1,e,t,0,n,r,i)}function oo(e,t,n,r,i,o,s,a,l){const{matchedQueries:u,references:c,matchedQueryIds:h}=si(n);l||(l=[]),a||(a=[]),o=C(o);const d=ai(s,y(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:vi(a),outputs:l,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function so(e,t){return co(e,t)}function ao(e,t){let n=e;for(;n.parent&&!ri(n);)n=n.parent;return ho(n.parent,ti(n),!0,t.provider.value,t.provider.deps)}function lo(e,t){const n=ho(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let r=0;r<t.outputs.length;r++){const i=t.outputs[r],o=n[i.propName];if(!zn(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(uo(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function uo(e,t,n){return r=>Xr(e,t,n,r)}function co(e,t){const n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return ho(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(fo(e,t,n,i[0]));case 2:return r(fo(e,t,n,i[0]),fo(e,t,n,i[1]));case 3:return r(fo(e,t,n,i[0]),fo(e,t,n,i[1]),fo(e,t,n,i[2]));default:const s=Array(o);for(let r=0;r<o;r++)s[r]=fo(e,t,n,i[r]);return r(...s)}}(e,t.parent,n,r.value,r.deps);case 2048:return fo(e,t.parent,n,r.deps[0]);case 256:return r.value}}function ho(e,t,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(fo(e,t,n,i[0]));case 2:return new r(fo(e,t,n,i[0]),fo(e,t,n,i[1]));case 3:return new r(fo(e,t,n,i[0]),fo(e,t,n,i[1]),fo(e,t,n,i[2]));default:const s=new Array(o);for(let r=0;r<o;r++)s[r]=fo(e,t,n,i[r]);return new r(...s)}}const po={};function fo(e,t,n,r,i=gn.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=e;2&r.flags&&(i=null);const s=r.tokenKey;s===eo&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);let a=e;for(;a;){if(t)switch(s){case Ki:return zi(go(a,t,n));case Yi:return go(a,t,n).renderer;case Zi:return new nr(Fr(a,t.nodeIndex).renderElement);case Ji:return Fr(a,t.nodeIndex).viewContainer;case Xi:if(t.element.template)return Fr(a,t.nodeIndex).template;break;case eo:return Vi(go(a,t,n));case to:case no:return Hi(a,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[s];if(e){let t=Lr(a,e.nodeIndex);return t||(t={instance:co(a,e)},a.nodes[e.nodeIndex]=t),t.instance}}n=ri(a),t=ti(a),a=a.parent,4&r.flags&&(a=null)}const l=o.root.injector.get(r.token,po);return l!==po||i===po?l:o.root.ngModule.injector.get(r.token,i)}function go(e,t,n){let r;if(n)r=Fr(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!ri(r);)r=r.parent;return r}function mo(e,t,n,r,i,o){if(32768&n.flags){const t=Fr(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const t=On.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Qn(t,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function _o(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&t&&yo(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&t&&(r=vo(e,s,t,r)),s=s.parent}}function vo(e,t,n,r){for(let i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){const t=e.def.nodes[i];t.flags&n&&yo(e,i,t.flags&n,r++),i+=t.childCount}return r}function yo(e,t,n,r){const i=Lr(e,t);if(!i)return;const o=i.instance;o&&(Ur.setCurrentNode(e,t),1048576&n&&Pr(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Pr(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}const bo=new N("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Oe}),wo={},Co=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),Eo=void 0;var So=["en",[["a","p"],["AM","PM"],Eo],[["AM","PM"],Eo,Eo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eo,"{1} 'at' {0}",Eo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];function To(e){return Ao(e)[Co.PluralCase]}function Ao(e){const t=e.toLowerCase().replace(/_/g,"-");let n=wo[t];if(n)return n;const r=t.split("-")[0];if(n=wo[r])return n;if("en"===r)return So;throw new Error(`Missing locale data for the locale "${e}".`)}const xo="en-US";let No=xo;function Io(e){var t;t="Expected localeId to be defined",null==e&&function(e){throw new Error(`ASSERTION ERROR: ${e}`)}(t),"string"==typeof e&&(No=e.toLowerCase().replace(/_/g,"-"))}class Oo extends r.a{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r,o=e=>null,s=()=>null;e&&"object"==typeof e?(r=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(o=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(s=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(o=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return e instanceof i.a&&e.add(a),a}}function ko(){return this._results[xn()]()}class Do{constructor(){this.dirty=!0,this._results=[],this.changes=new Oo,this.length=0;const e=xn(),t=Do.prototype;t[e]||(t[e]=ko)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Ro=new N("Application Initializer");class Po{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Wn(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}const Mo=new N("AppId");function Fo(){return`${Lo()}${Lo()}${Lo()}`}function Lo(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Vo=new N("Platform Initializer"),jo=new N("Platform ID"),Uo=new N("appBootstrapListener");class qo{log(e){console.log(e)}warn(e){console.warn(e)}}const Ho=new N("LocaleId"),Bo=!1;function Wo(){throw new Error("Runtime compiler is not loaded")}const zo=Wo,Qo=Wo,$o=Wo,Go=Wo;class Ko{constructor(){this.compileModuleSync=zo,this.compileModuleAsync=Qo,this.compileModuleAndAllComponentsSync=$o,this.compileModuleAndAllComponentsAsync=Go}clearCache(){}clearCacheFor(e){}getModuleId(e){}}class Yo{}let Zo,Jo;function Xo(){const e=x.wtf;return!(!e||!(Zo=e.trace)||(Jo=Zo.events,0))}const es=Xo();function ts(e,t){return null}const ns=es?function(e,t=null){return Jo.createScope(e,t)}:(e,t)=>ts,rs=es?function(e,t){return Zo.leaveScope(e,t),t}:(e,t)=>t,is=(()=>Promise.resolve(0))();function os(e){"undefined"==typeof Zone?is.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class ss{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oo(!1),this.onMicrotaskEmpty=new Oo(!1),this.onStable=new Oo(!1),this.onError=new Oo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var t;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,i,o,s)=>{try{return cs(t),e.invokeTask(r,i,o,s)}finally{hs(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return cs(t),e.invoke(r,i,o,s,a)}finally{hs(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t.hasPendingMicrotasks=i.microTask,us(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ss.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ss.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,ls,as,as);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function as(){}const ls={};function us(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function cs(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function hs(e){e._nesting--,us(e)}class ds{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oo,this.onMicrotaskEmpty=new Oo,this.onStable=new Oo,this.onError=new Oo}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class ps{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ss.assertNotInAngularZone(),os(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())os(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}class fs{constructor(){this._applications=new Map,vs.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return vs.findTestabilityInTree(this,e,t)}}class gs{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function ms(e){vs=e}let _s,vs=new gs,ys=function(e,t,n){return e.get(Yo).createCompiler([t]).compileModuleAsync(n)},bs=function(e){return e instanceof er};const ws=new N("AllowMultipleToken");class Cs{constructor(e,t){this.name=e,this.token=t}}function Es(e,t,n=[]){const r=`Platform: ${t}`,i=new N(r);return(t=[])=>{let o=Ss();if(!o||o.injector.get(ws,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(_s&&!_s.destroyed&&!_s.injector.get(ws,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_s=e.get(Ts);const t=e.get(Vo,null);t&&t.forEach(e=>e())}(gn.create({providers:e,name:r}))}return function(e){const t=Ss();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Ss(){return _s&&!_s.destroyed?_s:null}class Ts{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n="noop"===(i=t?t.ngZone:void 0)?new ds:("zone.js"===i?void 0:i)||new ss({enableLongStackTrace:pt()}),r=[{provide:ss,useValue:n}];var i;return n.run(()=>{const t=gn.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),o=i.injector.get(ct,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return Bo&&Io(i.injector.get(Ho,xo)||xo),i.onDestroy(()=>Ns(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{o.handleError(e)}})),function(e,t,n){try{const r=n();return Wn(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(o,n,()=>{const e=i.injector.get(Po);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=As({},t);return ys(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(xs);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${y(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function As(e,t){return Array.isArray(t)?t.reduce(As,e):Object.assign({},e,t)}let xs=(()=>{class e{constructor(e,t,n,r,i,l){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=pt(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.a(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),c=new o.a(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{ss.assertNotInAngularZone(),os(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ss.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(u,c.pipe(Object(a.a)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Gn?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=bs(n)?null:this._injector.get(W),i=n.create(gn.NULL,[],t||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(ps,null);return o&&i.injector.get(fs).registerApplication(i.location.nativeElement,o),this._loadComponent(i),pt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=e._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,rs(t)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Ns(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Uo,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Ns(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e._tickScope=ns("ApplicationRef#tick()"),e})();function Ns(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Is{}const Os="#",ks="NgFactory";class Ds{}const Rs={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Ps{constructor(e,t){this._compiler=e,this._config=t||Rs}load(e){return!Bo&&this._compiler instanceof Ko?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split(Os);return void 0===r&&(r="default"),n("zn8P")(t).then(e=>e[r]).then(e=>Ms(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split(Os),i=ks;return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>Ms(e,t,r))}}function Ms(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}class Fs{constructor(e,t){this.name=e,this.callback=t}}class Ls{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof Vs&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Vs extends Ls{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,r){t.childNodes.forEach(t=>{t instanceof Vs&&(n(t)&&r.push(t),e(t,n,r))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,r){t instanceof Vs&&t.childNodes.forEach(t=>{n(t)&&r.push(t),t instanceof Vs&&e(t,n,r)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof Vs)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const js=new Map,Us=function(e){return js.get(e)||null};function qs(e){js.set(e.nativeNode,e)}const Hs=Es(null,"core",[{provide:jo,useValue:"unknown"},{provide:Ts,deps:[gn]},{provide:fs,deps:[]},{provide:qo,deps:[]}]);function Bs(){return Sr}function Ws(){return Tr}function zs(e){return e?(Bo&&Io(e),e):xo}function Qs(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}class $s{constructor(e){}}function Gs(e,t,n,r,i,o){e|=1;const{matchedQueries:s,references:a,matchedQueryIds:l}=si(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?ci(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||qr},provider:null,text:null,query:null,ngContent:null}}function Ks(e,t,n,r,i,o,s=[],a,l,u,c,h){u||(u=qr);const{matchedQueries:d,references:p,matchedQueryIds:f}=si(n);let g=null,m=null;o&&([g,m]=_i(o)),a=a||[];const _=new Array(a.length);for(let b=0;b<a.length;b++){const[e,t,n]=a[b],[r,i]=_i(t);let o=void 0,s=void 0;switch(15&e){case 4:s=n;break;case 1:case 8:o=n}_[b]={flags:e,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}l=l||[];const v=new Array(l.length);for(let b=0;b<l.length;b++){const[e,t]=l[b];v[b]={type:0,target:e,eventName:t,propName:null}}const y=(s=s||[]).map(([e,t])=>{const[n,r]=_i(e);return[n,r,t]});return h=function(e){if(e&&e.id===Wr){const t=null!=e.encapsulation&&e.encapsulation!==K.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${$r++}`:zr}return e&&e.id===zr&&(e=null),e||null}(h),c&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:r,childCount:i,bindings:_,bindingFlags:vi(_),outputs:v,element:{ns:g,name:m,attrs:y,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||qr},provider:null,text:null,query:null,ngContent:null}}function Ys(e,t,n){const r=n.element,i=e.root.selectorOrNode,o=e.renderer;let s;if(e.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=li(e,t,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===K.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[e,t,n]=r.attrs[a];o.setAttribute(s,t,n,e)}return s}function Zs(e,t,n,r){for(let s=0;s<n.outputs.length;s++){const a=n.outputs[s],l=Js(e,n.nodeIndex,(o=a.eventName,(i=a.target)?`${i}:${o}`:o));let u=a.target,c=e;"component"===a.target&&(u=null,c=t);const h=c.renderer.listen(u||r,a.eventName,l);e.disposables[n.outputIndex+s]=h}var i,o}function Js(e,t,n){return r=>Xr(e,t,n,r)}function Xs(e,t,n,r){if(!Kr(e,t,n,r))return!1;const i=t.bindings[n],o=Fr(e,t.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){const s=t.securityContext;let a=s?e.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const l=e.renderer;null!=o?l.setAttribute(n,i,a,r):l.removeAttribute(n,i,r)}(e,i,s,i.ns,a,r);break;case 2:!function(e,t,n,r){const i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,s,a,r);break;case 4:!function(e,t,n,r,i){let o=e.root.sanitizer.sanitize(Lt.STYLE,i);if(null!=o){o=o.toString();const e=t.suffix;null!=e&&(o+=e)}else o=null;const s=e.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(e,i,s,a,r);break;case 8:!function(e,t,n,r,i){const o=t.securityContext;let s=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,s)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,s,a,r)}return!0}function ea(e,t,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:oi(t),bindings:r},ngContent:null}}function ta(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&ii(e);){let n=e.parentNodeDef;e=e.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=e.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&jr(e,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&jr(e,n).setDirty(),n+=t.childCount}}function na(e,t){const n=jr(e,t.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&t.flags){const n=t.parent.parent;i=ra(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),r=Lr(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=ra(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);const o=t.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const e=o[a];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,s=!0}r[e.propName]=t}s&&n.notifyOnChanges()}function ra(e,t,n,r,i){for(let o=t;o<=n;o++){const t=e.def.nodes[o],n=t.matchedQueries[r.id];if(null!=n&&i.push(ia(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=Fr(e,o);if((t.childMatchedQueries&r.filterId)===r.filterId&&(ra(e,o+1,o+t.childCount,r,i),o+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const o=e[t],s=ei(o);s&&s===n&&ra(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let e=0;e<s.length;e++){const t=s[e];ra(t,0,t.def.nodes.length-1,r,i)}}(t.childMatchedQueries&r.filterId)!==r.filterId&&(o+=t.childCount)}return i}function ia(e,t,n){if(null!=n)switch(n){case 1:return Fr(e,t.nodeIndex).renderElement;case 0:return new nr(Fr(e,t.nodeIndex).renderElement);case 2:return Fr(e,t.nodeIndex).template;case 3:return Fr(e,t.nodeIndex).viewContainer;case 4:return Lr(e,t.nodeIndex).instance}}function oa(e,t,n){const r=li(e,t,n);r&&pi(e,n.ngContent.index,1,r,null,void 0)}function sa(e,t,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function aa(e,t,n){let r;const i=e.renderer;r=i.createText(n.text.prefix);const o=li(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function la(e,t){return(null!=e?e.toString():"")+t.suffix}function ua(e,t,n,r){let i=0,o=0,s=0,a=0,l=0,u=null,c=null,h=!1,d=!1,p=null;for(let f=0;f<t.length;f++){const e=t[f];if(e.nodeIndex=f,e.parent=u,e.bindingIndex=i,e.outputIndex=o,e.renderParent=c,s|=e.flags,l|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=u?u.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,d=!1,e.element.template&&(l|=e.element.template.nodeMatchedQueries)}if(ha(u,e,t.length),i+=e.bindings.length,o+=e.outputs.length,!c&&3&e.flags&&(p=e),20224&e.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?u.element.publicProviders[Br(e.provider.token)]=e:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Br(e.provider.token)]=e),t&&(u.element.componentProvider=e)}if(u?(u.childFlags|=e.flags,u.directChildFlags|=e.flags,u.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(u.childMatchedQueries|=e.element.template.nodeMatchedQueries)):a|=e.flags,e.childCount>0)u=e,ca(e)||(c=e);else for(;u&&f===u.nodeIndex+u.childCount;){const e=u.parent;e&&(e.childFlags|=u.childFlags,e.childMatchedQueries|=u.childMatchedQueries),c=(u=e)&&ca(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:l,flags:e,nodes:t,updateDirectives:n||qr,updateRenderer:r||qr,handleEvent:(e,n,r,i)=>t[n].element.handleEvent(e,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:p}}function ca(e){return 0!=(1&e.flags)&&null===e.element.name}function ha(e,t,n){const r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const r=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function da(e,t,n,r){const i=ga(e.root,e.renderer,e,t,n);return ma(i,e.component,r),_a(i),i}function pa(e,t,n){const r=ga(e,e.renderer,null,null,t);return ma(r,n,n),_a(r),r}function fa(e,t,n,r){const i=t.element.componentRendererType;let o;return o=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,ga(e.root,o,e,t.element.componentProvider,n)}function ga(e,t,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function ma(e,t,n){e.component=t,e.context=n}function _a(e){let t;ri(e)&&(t=Fr(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,r=e.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(Ur.setCurrentNode(e,i),201347067&o.flags){case 1:const n=Ys(e,t,o);let a=void 0;if(33554432&o.flags){const t=ci(o.element.componentView);a=Ur.createComponentView(e,o,t,n)}Zs(e,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?Ui(e,o):void 0},16777216&o.flags&&(s.viewContainer=Fi(e,o,s));break;case 2:s=aa(e,t,o);break;case 512:case 1024:case 2048:case 256:(s=r[i])||4096&o.flags||(s={instance:so(e,o)});break;case 16:s={instance:ao(e,o)};break;case 16384:(s=r[i])||(s={instance:lo(e,o)}),32768&o.flags&&ma(Fr(e,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Do;break;case 8:oa(e,t,o),s=void 0}r[i]=s}Aa(e,Ta.CreateViewNodes),Oa(e,201326592,268435456,0)}function va(e){wa(e),Ur.updateDirectives(e,1),xa(e,Ta.CheckNoChanges),Ur.updateRenderer(e,1),Aa(e,Ta.CheckNoChanges),e.state&=-97}function ya(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Rr(e,0,256),wa(e),Ur.updateDirectives(e,0),xa(e,Ta.CheckAndUpdate),Oa(e,67108864,536870912,0);let t=Rr(e,256,512);_o(e,2097152|(t?1048576:0)),Ur.updateRenderer(e,0),Aa(e,Ta.CheckAndUpdate),Oa(e,134217728,536870912,0),_o(e,8388608|((t=Rr(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Rr(e,768,1024)}function ba(e,t,n,r,i,o,s,a,l,u,c,h,d){return 0===n?function(e,t,n,r,i,o,s,a,l,u,c,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,s,a,l,u,c,h){const d=t.bindings.length;let p=!1;return d>0&&Xs(e,t,0,n)&&(p=!0),d>1&&Xs(e,t,1,r)&&(p=!0),d>2&&Xs(e,t,2,i)&&(p=!0),d>3&&Xs(e,t,3,o)&&(p=!0),d>4&&Xs(e,t,4,s)&&(p=!0),d>5&&Xs(e,t,5,a)&&(p=!0),d>6&&Xs(e,t,6,l)&&(p=!0),d>7&&Xs(e,t,7,u)&&(p=!0),d>8&&Xs(e,t,8,c)&&(p=!0),d>9&&Xs(e,t,9,h)&&(p=!0),p}(e,t,n,r,i,o,s,a,l,u,c,h);case 2:return function(e,t,n,r,i,o,s,a,l,u,c,h){let d=!1;const p=t.bindings,f=p.length;if(f>0&&Kr(e,t,0,n)&&(d=!0),f>1&&Kr(e,t,1,r)&&(d=!0),f>2&&Kr(e,t,2,i)&&(d=!0),f>3&&Kr(e,t,3,o)&&(d=!0),f>4&&Kr(e,t,4,s)&&(d=!0),f>5&&Kr(e,t,5,a)&&(d=!0),f>6&&Kr(e,t,6,l)&&(d=!0),f>7&&Kr(e,t,7,u)&&(d=!0),f>8&&Kr(e,t,8,c)&&(d=!0),f>9&&Kr(e,t,9,h)&&(d=!0),d){let d=t.text.prefix;f>0&&(d+=la(n,p[0])),f>1&&(d+=la(r,p[1])),f>2&&(d+=la(i,p[2])),f>3&&(d+=la(o,p[3])),f>4&&(d+=la(s,p[4])),f>5&&(d+=la(a,p[5])),f>6&&(d+=la(l,p[6])),f>7&&(d+=la(u,p[7])),f>8&&(d+=la(c,p[8])),f>9&&(d+=la(h,p[9]));const g=Mr(e,t.nodeIndex).renderText;e.renderer.setValue(g,d)}return d}(e,t,n,r,i,o,s,a,l,u,c,h);case 16384:return function(e,t,n,r,i,o,s,a,l,u,c,h){const d=Lr(e,t.nodeIndex),p=d.instance;let f=!1,g=void 0;const m=t.bindings.length;return m>0&&Gr(e,t,0,n)&&(f=!0,g=mo(e,d,t,0,n,g)),m>1&&Gr(e,t,1,r)&&(f=!0,g=mo(e,d,t,1,r,g)),m>2&&Gr(e,t,2,i)&&(f=!0,g=mo(e,d,t,2,i,g)),m>3&&Gr(e,t,3,o)&&(f=!0,g=mo(e,d,t,3,o,g)),m>4&&Gr(e,t,4,s)&&(f=!0,g=mo(e,d,t,4,s,g)),m>5&&Gr(e,t,5,a)&&(f=!0,g=mo(e,d,t,5,a,g)),m>6&&Gr(e,t,6,l)&&(f=!0,g=mo(e,d,t,6,l,g)),m>7&&Gr(e,t,7,u)&&(f=!0,g=mo(e,d,t,7,u,g)),m>8&&Gr(e,t,8,c)&&(f=!0,g=mo(e,d,t,8,c,g)),m>9&&Gr(e,t,9,h)&&(f=!0,g=mo(e,d,t,9,h,g)),g&&p.ngOnChanges(g),65536&t.flags&&Pr(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),f}(e,t,n,r,i,o,s,a,l,u,c,h);case 32:case 64:case 128:return function(e,t,n,r,i,o,s,a,l,u,c,h){const d=t.bindings;let p=!1;const f=d.length;if(f>0&&Kr(e,t,0,n)&&(p=!0),f>1&&Kr(e,t,1,r)&&(p=!0),f>2&&Kr(e,t,2,i)&&(p=!0),f>3&&Kr(e,t,3,o)&&(p=!0),f>4&&Kr(e,t,4,s)&&(p=!0),f>5&&Kr(e,t,5,a)&&(p=!0),f>6&&Kr(e,t,6,l)&&(p=!0),f>7&&Kr(e,t,7,u)&&(p=!0),f>8&&Kr(e,t,8,c)&&(p=!0),f>9&&Kr(e,t,9,h)&&(p=!0),p){const p=Vr(e,t.nodeIndex);let g;switch(201347067&t.flags){case 32:g=new Array(d.length),f>0&&(g[0]=n),f>1&&(g[1]=r),f>2&&(g[2]=i),f>3&&(g[3]=o),f>4&&(g[4]=s),f>5&&(g[5]=a),f>6&&(g[6]=l),f>7&&(g[7]=u),f>8&&(g[8]=c),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[d[0].name]=n),f>1&&(g[d[1].name]=r),f>2&&(g[d[2].name]=i),f>3&&(g[d[3].name]=o),f>4&&(g[d[4].name]=s),f>5&&(g[d[5].name]=a),f>6&&(g[d[6].name]=l),f>7&&(g[d[7].name]=u),f>8&&(g[d[8].name]=c),f>9&&(g[d[9].name]=h);break;case 128:const e=n;switch(f){case 1:g=e.transform(n);break;case 2:g=e.transform(r);break;case 3:g=e.transform(r,i);break;case 4:g=e.transform(r,i,o);break;case 5:g=e.transform(r,i,o,s);break;case 6:g=e.transform(r,i,o,s,a);break;case 7:g=e.transform(r,i,o,s,a,l);break;case 8:g=e.transform(r,i,o,s,a,l,u);break;case 9:g=e.transform(r,i,o,s,a,l,u,c);break;case 10:g=e.transform(r,i,o,s,a,l,u,c,h)}}p.value=g}return p}(e,t,n,r,i,o,s,a,l,u,c,h);default:throw"unreachable"}}(e,t,r,i,o,s,a,l,u,c,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let r=!1;for(let i=0;i<n.length;i++)Xs(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)Kr(e,t,o,n[o])&&(i=!0);if(i){let i="";for(let e=0;e<n.length;e++)i+=la(n[e],r[e]);i=t.text.prefix+i;const o=Mr(e,t.nodeIndex).renderText;e.renderer.setValue(o,i)}return i}(e,t,n);case 16384:return function(e,t,n){const r=Lr(e,t.nodeIndex),i=r.instance;let o=!1,s=void 0;for(let a=0;a<n.length;a++)Gr(e,t,a,n[a])&&(o=!0,s=mo(e,r,t,a,n[a],s));return s&&i.ngOnChanges(s),65536&t.flags&&Pr(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)Kr(e,t,o,n[o])&&(i=!0);if(i){const i=Vr(e,t.nodeIndex);let o;switch(201347067&t.flags){case 32:o=n;break;case 64:o={};for(let i=0;i<n.length;i++)o[r[i].name]=n[i];break;case 128:const e=n[0],t=n.slice(1);o=e.transform(...t)}i.value=o}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function wa(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const r=t.nodes[n];if(4&r.flags){const t=Fr(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const r=t[n];r.state|=32,Jr(r,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Ca(e,t,n,r,i,o,s,a,l,u,c,h,d){return 0===n?function(e,t,n,r,i,o,s,a,l,u,c,h){const d=t.bindings.length;d>0&&Yr(e,t,0,n),d>1&&Yr(e,t,1,r),d>2&&Yr(e,t,2,i),d>3&&Yr(e,t,3,o),d>4&&Yr(e,t,4,s),d>5&&Yr(e,t,5,a),d>6&&Yr(e,t,6,l),d>7&&Yr(e,t,7,u),d>8&&Yr(e,t,8,c),d>9&&Yr(e,t,9,h)}(e,t,r,i,o,s,a,l,u,c,h,d):function(e,t,n){for(let r=0;r<n.length;r++)Yr(e,t,r,n[r])}(e,t,r),!1}function Ea(e,t){if(jr(e,t.nodeIndex).dirty)throw Or(Ur.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function Sa(e){if(!(128&e.state)){if(xa(e,Ta.Destroy),Aa(e,Ta.Destroy),_o(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=ei(e);if(t){const n=t.template._projectedViews;n&&($(n,n.indexOf(e)),Ur.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(Fr(e,n).renderElement):2&t.flags?e.renderer.destroyNode(Mr(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&jr(e,n).destroy()}}(e),ri(e)&&e.renderer.destroy(),e.state|=128}}const Ta=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function Aa(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Na(Fr(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function xa(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=Fr(e,r).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)Na(n[e],t)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Na(e,t){const n=e.state;switch(t){case Ta.CheckNoChanges:0==(128&n)&&(12==(12&n)?va(e):64&n&&Ia(e,Ta.CheckNoChangesProjectedViews));break;case Ta.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?va(e):64&n&&Ia(e,t));break;case Ta.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ya(e):64&n&&Ia(e,Ta.CheckAndUpdateProjectedViews));break;case Ta.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ya(e):64&n&&Ia(e,t));break;case Ta.Destroy:Sa(e);break;case Ta.CreateViewNodes:_a(e)}}function Ia(e,t){xa(e,t),Aa(e,t)}function Oa(e,t,n,r){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const i=e.def.nodes.length;for(let o=0;o<i;o++){const i=e.def.nodes[o];if(i.flags&t&&i.flags&n)switch(Ur.setCurrentNode(e,i.nodeIndex),r){case 0:na(e,i);break;case 1:Ea(e,i)}i.childFlags&t&&i.childFlags&n||(o+=i.childCount)}}let ka=!1;function Da(e,t,n,r,i,o){const s=i.injector.get(or);return pa(Pa(e,i,s,t,n),r,o)}function Ra(e,t,n,r,i,o){const s=i.injector.get(or),a=Pa(e,i,new dl(s),t,n),l=Wa(r);return cl(Ya.create,pa,null,[a,l,o])}function Pa(e,t,n,r,i){const o=t.injector.get(Vt),s=t.injector.get(ct),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function Ma(e,t,n,r){const i=Wa(n);return cl(Ya.create,da,null,[e,t,i,r])}function Fa(e,t,n,r){return n=Ua.get(t.element.componentProvider.provider.token)||Wa(n),cl(Ya.create,fa,null,[e,t,n,r])}function La(e,t,n,r){return $i(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===Va.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(e=>{const r=Va.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(e=>{ja.forEach((r,i)=>{_(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const r=e.providers[t];n&&(r.flags|=4096);const i=Va.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=ai(i.deps),r.value=i.value)}if(ja.size>0){let t=new Set(e.modules);ja.forEach((r,i)=>{if(t.has(_(i).providedIn)){let t={token:i,flags:r.flags|(n?4096:0),deps:ai(r.deps),value:r.value,index:e.providers.length};e.providers.push(t),e.providersByKey[Br(i)]=t}})}}(e=e.factory(()=>qr)),e):e}(r))}const Va=new Map,ja=new Map,Ua=new Map;function qa(e){let t;Va.set(e.token,e),"function"==typeof e.token&&(t=_(e.token))&&"function"==typeof t.providedIn&&ja.set(e.token,e)}function Ha(e,t){const n=ci(t.viewDefFactory),r=ci(n.nodes[0].element.componentView);Ua.set(e,r)}function Ba(){Va.clear(),ja.clear(),Ua.clear()}function Wa(e){if(0===Va.size)return e;const t=function(e){const t=[];let n=null;for(let r=0;r<e.nodes.length;r++){const i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Va.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>qr);for(let r=0;r<t.length;r++)n(e,t[r]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=Va.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=ai(n.deps),e.value=n.value)}}}}function za(e,t,n,r,i,o,s,a,l,u,c,h,d){const p=e.def.nodes[t];return ba(e,p,n,r,i,o,s,a,l,u,c,h,d),224&p.flags?Vr(e,t).value:void 0}function Qa(e,t,n,r,i,o,s,a,l,u,c,h,d){const p=e.def.nodes[t];return Ca(e,p,n,r,i,o,s,a,l,u,c,h,d),224&p.flags?Vr(e,t).value:void 0}function $a(e){return cl(Ya.detectChanges,ya,null,[e])}function Ga(e){return cl(Ya.checkNoChanges,va,null,[e])}function Ka(e){return cl(Ya.destroy,Sa,null,[e])}const Ya=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let Za,Ja,Xa;function el(e,t){Ja=e,Xa=t}function tl(e,t,n,r){return el(e,t),cl(Ya.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function nl(e,t){if(128&e.state)throw Dr(Ya[Za]);return el(e,sl(e,0)),e.def.updateDirectives((function(e,n,r,...i){const o=e.def.nodes[n];return 0===t?il(e,o,r,i):ol(e,o,r,i),16384&o.flags&&el(e,sl(e,n)),224&o.flags?Vr(e,o.nodeIndex).value:void 0}),e)}function rl(e,t){if(128&e.state)throw Dr(Ya[Za]);return el(e,al(e,0)),e.def.updateRenderer((function(e,n,r,...i){const o=e.def.nodes[n];return 0===t?il(e,o,r,i):ol(e,o,r,i),3&o.flags&&el(e,al(e,n)),224&o.flags?Vr(e,o.nodeIndex).value:void 0}),e)}function il(e,t,n,r){if(ba(e,t,n,...r)){const s=1===n?r[0]:r;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const r=t.bindings[e],a=s[e];8&r.flags&&(n[(i=r.nonMinifiedName,o=void 0,o=i.replace(/[$@]/g,"_"),`ng-reflect-${i=o.replace(Ht,(...e)=>"-"+e[1].toLowerCase())}`)]=Bt(a))}const r=t.parent,a=Fr(e,r.nodeIndex).renderElement;if(r.element.name)for(let t in n){const r=n[t];null!=r?e.renderer.setAttribute(a,t,r):e.renderer.removeAttribute(a,t)}else e.renderer.setValue(a,`bindings=${JSON.stringify(n,null,2)}`)}}var i,o}function ol(e,t,n,r){Ca(e,t,n,...r)}function sl(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function al(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class ll{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,r=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=ti(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return Fr(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Hi(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){ul(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&ul(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!ri(e);)e=e.parent;return e.parent?Fr(e.parent,ti(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?ni(this.view,this.nodeDef):ni(this.elView,this.elDef)}logError(e,...t){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(e,t){let n=-1;for(let r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>++o===i?e.error.bind(e,...t):qr),o<i&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function ul(e,t,n){for(let r in t.references)n[r]=ia(e,t,t.references[r])}function cl(e,t,n,r){const i=Za,o=Ja,s=Xa;try{Za=e;const a=t.apply(n,r);return Ja=o,Xa=s,Za=i,a}catch(u){if(at(u)||!Ja)throw u;throw a=u,l=hl(),a instanceof Error||(a=new Error(a.toString())),kr(a,l),a}var a,l}function hl(){return Ja?new ll(Ja,Xa):null}class dl{constructor(e){this.delegate=e}createRenderer(e,t){return new pl(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class pl{constructor(e){this.delegate=e,this.debugContextFactory=hl,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=Us(e);!function(e){js.delete(e.nativeNode)}(t),t instanceof Ls&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){const t=new Vs(n,null,r);t.name=e,qs(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&qs(new Ls(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&qs(new Ls(t,null,n)),t}appendChild(e,t){const n=Us(e),r=Us(t);n&&r&&n instanceof Vs&&n.addChild(r),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const r=Us(e),i=Us(t),o=Us(n);r&&i&&r instanceof Vs&&r.insertBefore(o,i),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=Us(e),r=Us(t);n&&r&&n instanceof Vs&&n.removeChild(r),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),r=hl();return r&&qs(new Vs(n,null,r)),n}setAttribute(e,t,n,r){const i=Us(e);i&&i instanceof Vs&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){const r=Us(e);r&&r instanceof Vs&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=Us(e);n&&n instanceof Vs&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=Us(e);n&&n instanceof Vs&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,r){const i=Us(e);i&&i instanceof Vs&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){const r=Us(e);r&&r instanceof Vs&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const r=Us(e);r&&r instanceof Vs&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const r=Us(e);r&&r.listeners.push(new Fs(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function fl(e,t,n){return new gl(e,t,n)}class gl extends z{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){!function(){if(ka)return;ka=!0;const e=pt()?{setCurrentNode:el,createRootView:Ra,createEmbeddedView:Ma,createComponentView:Fa,createNgModuleRef:La,overrideProvider:qa,overrideComponentView:Ha,clearOverrides:Ba,checkAndUpdateView:$a,checkNoChangesView:Ga,destroyView:Ka,createDebugContext:(e,t)=>new ll(e,t),handleEvent:tl,updateDirectives:nl,updateRenderer:rl}:{setCurrentNode:()=>{},createRootView:Da,createEmbeddedView:da,createComponentView:fa,createNgModuleRef:$i,overrideProvider:qr,overrideComponentView:qr,clearOverrides:qr,checkAndUpdateView:ya,checkNoChangesView:va,destroyView:Sa,createDebugContext:(e,t)=>new ll(e,t),handleEvent:(e,t,n,r)=>e.def.handleEvent(e,t,n,r),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?za:Qa,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?za:Qa,e)};Ur.setCurrentNode=e.setCurrentNode,Ur.createRootView=e.createRootView,Ur.createEmbeddedView=e.createEmbeddedView,Ur.createComponentView=e.createComponentView,Ur.createNgModuleRef=e.createNgModuleRef,Ur.overrideProvider=e.overrideProvider,Ur.overrideComponentView=e.overrideComponentView,Ur.clearOverrides=e.clearOverrides,Ur.checkAndUpdateView=e.checkAndUpdateView,Ur.checkNoChangesView=e.checkNoChangesView,Ur.destroyView=e.destroyView,Ur.resolveDep=fo,Ur.createDebugContext=e.createDebugContext,Ur.handleEvent=e.handleEvent,Ur.updateDirectives=e.updateDirectives,Ur.updateRenderer=e.updateRenderer,Ur.dirtyParentQueries=ta}();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),r={};for(const i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(ci(this._ngModuleDefFactory));return Ur.createNgModuleRef(this.moduleType,e||gn.NULL,this._bootstrapComponents,t)}}},"9ppp":function(e,t,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(t,"a",(function(){return i})),r.prototype=Object.create(Error.prototype);const i=r},CRDf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("kJWO");const i=e=>t=>{const n=e[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},Cfvw:function(e,t,n){"use strict";var r=n("HDdC"),i=n("c2HN"),o=n("I55L"),s=n("kJWO"),a=n("Lhse"),l=n("yCtX"),u=n("quSY"),c=n("a7t3"),h=n("pLzU"),d=n("CRDf"),p=n("SeVD");function f(e,t){if(!t)return e instanceof r.a?e:new r.a(Object(p.a)(e));if(null!=e){if(function(e){return e&&"function"==typeof e[s.a]}(e))return function(e,t){return new r.a(t?n=>{const r=new u.a;return r.add(t.schedule(()=>{const i=e[s.a]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r}:Object(d.a)(e))}(e,t);if(Object(i.a)(e))return function(e,t){return new r.a(t?n=>{const r=new u.a;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r}:Object(c.a)(e))}(e,t);if(Object(o.a)(e))return Object(l.a)(e,t);if(function(e){return e&&"function"==typeof e[a.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a(t?n=>{const r=new u.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[a.a](),r.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())})))})),r}:Object(h.a)(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}n.d(t,"a",(function(){return f}))},DH7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=Array.isArray||(e=>e&&"number"==typeof e.length)},HDdC:function(e,t,n){"use strict";var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("mCNh"),l=n("2fFW");n.d(t,"a",(function(){return u}));let u=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:s}=this,a=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[i.a])return e[i.a]()}return e||t||n?new r.a(e,t,n):new r.a(o.a)}(e,t,n);if(a.add(s?s.call(a,this.source):this.source||l.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){l.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.a?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=c(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[s.a](){return this}pipe(...e){return 0===e.length?this:Object(a.b)(e)(this)}toPromise(e){return new(e=c(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function c(e){if(e||(e=l.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},I55L:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},KqfI:function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},Lhse:function(e,t,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,"a",(function(){return i}));const i=r()},NJ4a:function(e,t,n){"use strict";function r(e){setTimeout(()=>{throw e})}n.d(t,"a",(function(){return r}))},NSPt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,s=n("mrSG"),a=n("zVF4"),l=n("q/0M"),u=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),a.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:a.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),c=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return a.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),h=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new u(t)}}catch(n){}return new c},d=h("localStorage"),p=h("sessionStorage"),f=new l.Logger("@firebase/database"),g="FIREBASE_DATABASE_EMULATOR_HOST",m=(i=1,function(){return i++}),_=function(e){var t=a.stringToByteArray(e),n=new a.Sha1;n.update(t);var r=n.digest();return a.base64.encodeByteArray(r)},v=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++)Array.isArray(e[r])||e[r]&&"object"==typeof e[r]&&"number"==typeof e[r].length?n+=v.apply(null,e[r]):n+="object"==typeof e[r]?a.stringify(e[r]):e[r],n+=" ";return n},y=null,b=!0,w=function(e,t){a.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(f.logLevel=l.LogLevel.VERBOSE,y=f.log.bind(f),t&&p.set("logging_enabled",!0)):"function"==typeof e?y=e:(y=null,p.remove("logging_enabled"))},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===b&&(b=!1,null===y&&!0===p.get("logging_enabled")&&w(!0)),y){var n=v.apply(null,e);y(n)}},E=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];C.apply(void 0,s.__spread([e],t))}},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,s.__spread(e));f.error(n)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,s.__spread(e));throw f.error(n),new Error(n)},A=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+v.apply(void 0,s.__spread(e));f.warn(n)},x=function(e){return"number"==typeof e&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)},N="[MIN_NAME]",I="[MAX_NAME]",O=function(e,t){if(e===t)return 0;if(e===N||t===I)return-1;if(t===N||e===I)return 1;var n=G(e),r=G(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},k=function(e,t){return e===t?0:e<t?-1:1},D=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+a.stringify(t))},R=function(e){if("object"!=typeof e||null===e)return a.stringify(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=a.stringify(t[i]),r+=":",r+=R(e[t[i]]);return r+"}"},P=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function M(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var F,L,V,j,U,q,H,B,W,z,Q=function(e){var t,n,r,i,o,s,l;for(a.assert(!x(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074)))),s=[],o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse(),l=s.join("");var u="";for(o=0;o<64;o+=8){var c=parseInt(l.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},$=new RegExp("^-?(0*)\\d{1,10}$"),G=function(e){if($.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},K=function(e){try{e()}catch(t){setTimeout((function(){throw A("Exception was thrown by user callback.",t.stack||""),t}),Math.floor(0))}},Y=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Z=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},J=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!0,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(t instanceof e)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=O(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}(),X=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=a.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=a.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=a.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),ee="long_polling",te=function(){function e(e,t,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){var n;if(a.assert("string"==typeof e,"typeof type must == string"),a.assert("object"==typeof t,"typeof params must == object"),"websocket"===e)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==ee)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var r=[];return M(t,(function(e,t){r.push(e+"="+t)})),n+r.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}(),ne=function(e){var t=re(e),n=t.namespace;return"firebase"===t.domain&&T(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===t.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&A("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new te(t.host,t.secure,n,"ws"===t.scheme||"wss"===t.scheme,"",n!=t.subdomain),path:new J(t.pathString)}},re=function(e){var t="",n="",r="",i="",o="",a=!0,l="https",u=443;if("string"==typeof e){var c=e.indexOf("//");c>=0&&(l=e.substring(0,c-1),e=e.substring(c+2));var h=e.indexOf("/");-1===h&&(h=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(h,d)),h<d&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,d)));var p=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=s.__values(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var l=a.split("=");2===l.length?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):A("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,d)));(c=t.indexOf(":"))>=0?(a="https"===l||"wss"===l,u=parseInt(t.substring(c+1),10)):c=e.length;var f=t.split(".");3===f.length?(n=f[1],o=r=f[0].toLowerCase()):2===f.length?n=f[0]:"localhost"===f[0].slice(0,c).toLowerCase()&&(n="localhost"),"ns"in p&&(o=p.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:o}},ie=/[\[\].#$\/\u0000-\u001F\u007F]/,oe=/[\[\].#$\u0000-\u001F\u007F]/,se=function(e){return"string"==typeof e&&0!==e.length&&!ie.test(e)},ae=function(e){return"string"==typeof e&&0!==e.length&&!oe.test(e)},le=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!x(e)||e&&"object"==typeof e&&a.contains(e,".sv")},ue=function(e,t,n,r,i){i&&void 0===n||ce(a.errorPrefix(e,t,i),n,r)},ce=function(e,t,n){var r=n instanceof J?new X(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+r.toErrorString());if("function"==typeof t)throw new Error(e+"contains a function "+r.toErrorString()+" with contents = "+t.toString());if(x(t))throw new Error(e+"contains "+t.toString()+" "+r.toErrorString());if("string"==typeof t&&t.length>10485760/3&&a.stringLength(t)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,o=!1;if(M(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!se(t)))throw new Error(e+" contains an invalid key ("+t+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(t),ce(e,n,r),r.pop()})),i&&o)throw new Error(e+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},he=function(e,t,n,r,i){if(!i||void 0!==n){var o=a.errorPrefix(e,t,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var s=[];M(n,(function(e,t){var n=new J(e);if(ce(o,t,r.child(n)),".priority"===n.getBack()&&!le(t))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=(r=t[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!se(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(J.comparePaths);var s=null;for(n=0;n<t.length;n++){if(r=t[n],null!==s&&s.contains(r))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(o,s)}},de=function(e,t,n,r){if(!r||void 0!==n){if(x(n))throw new Error(a.errorPrefix(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!le(n))throw new Error(a.errorPrefix(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},pe=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},fe=function(e,t,n,r){if(!(r&&void 0===n||se(n)))throw new Error(a.errorPrefix(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ge=function(e,t,n,r){if(!(r&&void 0===n||ae(n)))throw new Error(a.errorPrefix(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},me=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ge(e,t,n,r)},_e=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},ve=function(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!se(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ae(e)}(r))throw new Error(a.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ye=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(a.errorPrefix(e,t,r)+"must be a boolean.")},be=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){a.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),a.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){a.validateArgCount("OnDisconnect.remove",0,1,arguments.length),_e("OnDisconnect.remove",this.path_),a.validateCallback("OnDisconnect.remove",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){a.validateArgCount("OnDisconnect.set",1,2,arguments.length),_e("OnDisconnect.set",this.path_),ue("OnDisconnect.set",1,e,this.path_,!1),a.validateCallback("OnDisconnect.set",2,t,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){a.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),_e("OnDisconnect.setWithPriority",this.path_),ue("OnDisconnect.setWithPriority",1,e,this.path_,!1),de("OnDisconnect.setWithPriority",2,t,!1),a.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(a.validateArgCount("OnDisconnect.update",1,2,arguments.length),_e("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,A("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}he("OnDisconnect.update",1,e,this.path_,!1),a.validateCallback("OnDisconnect.update",2,t,!0);var i=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,i.wrapCallback(t)),i.promise},e}(),we=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return a.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Ce=(F="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",L=0,V=[],function(e){var t,n=e===L;L=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=F.charAt(e%64),e=Math.floor(e/64);a.assert(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===V[t];t--)V[t]=0;V[t]++}else for(t=0;t<12;t++)V[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=F.charAt(V[t]);return a.assert(20===i.length,"nextPushId: Length should be 20."),i}),Ee=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Se=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Ee(N,e),r=new Ee(N,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Ee.MIN},e}(),Te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return j},set:function(e){j=e},enumerable:!0,configurable:!0}),t.prototype.compare=function(e,t){return O(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw a.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Ee.MIN},t.prototype.maxPost=function(){return new Ee(I,j)},t.prototype.makePost=function(e,t){return a.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ee(e,j)},t.prototype.toString=function(){return".key"},t}(Se),Ae=new Te,xe=function(e){return"number"==typeof e?"number:"+Q(e):"string:"+e},Ne=function(e){if(e.isLeafNode()){var t=e.val();a.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&a.contains(t,".sv"),"Priority must be a string or number.")}else a.assert(e===U||e.isEmpty(),"priority of unexpected type.");a.assert(e===U||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ie=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,a.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ne(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return q},set:function(e){q=e},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=t.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(a.assert(".priority"!==r||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+xe(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Q(this.value_):this.value_,this.lazyHash_=_(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(a.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return a.assert(i>=0,"Unknown leaf type: "+n),a.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),Oe=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?O(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Ee.MIN},t.prototype.maxPost=function(){return new Ee(I,new Ie("[PRIORITY-POST]",B))},t.prototype.makePost=function(e,t){var n=H(e);return new Ee(t,new Ie("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Se)),ke=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),De=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Pe.EMPTY_NODE,this.right=null!=o?o:Pe.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r,i;return(i=(r=n(e,(i=this).key))<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Pe.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Pe.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){var e;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((e=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Re=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new De(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Pe=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,De.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,De.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new ke(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new ke(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new ke(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new ke(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Re,e}(),Me=Math.log(2),Fe=function(){function e(e){this.count=parseInt(Math.log(e+1)/Me,10),this.current_=this.count-1;var t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Le=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,s,a=r-t;if(0==a)return null;if(1==a)return o=e[t],s=n?n(o):o,new De(s,o.node,De.BLACK,null,null);var l=parseInt(a/2,10)+t,u=i(t,l),c=i(l+1,r);return o=e[l],s=n?n(o):o,new De(s,o.node,De.BLACK,u,c)},o=function(t){for(var r=null,o=null,s=e.length,a=function(t,r){var o=s-t,a=s;s-=t;var u=i(o+1,a),c=e[o],h=n?n(c):c;l(new De(h,c.node,r,null,u))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)},u=0;u<t.count;++u){var c=t.nextBitIsOne(),h=Math.pow(2,t.count-(u+1));c?a(h,De.BLACK):(a(h,De.BLACK),a(h,De.RED))}return o}(new Fe(e.length));return new Pe(r||t,o)},Ve={},je=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return a.assert(Ve&&Oe,"ChildrenNode.ts has not been loaded"),W=W||new e({".priority":Ve},{".priority":Oe})},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=a.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Pe?t:null},e.prototype.hasIndex=function(e){return a.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){a.assert(t!==Ae,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,l=n.getIterator(Ee.Wrap),u=l.getNext();u;)o=o||t.isDefinedOn(u.node),i.push(u),u=l.getNext();r=o?Le(i,t.getCompare()):Ve;var c=t.toString(),h=s.__assign({},this.indexSet_);h[c]=t;var d=s.__assign({},this.indexes_);return d[c]=r,new e(d,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(a.map(this.indexes_,(function(e,i){var o=a.safeGet(r.indexSet_,i);if(a.assert(o,"Missing index implementation for "+i),e===Ve){if(o.isDefinedOn(t.node)){for(var s=[],l=n.getIterator(Ee.Wrap),u=l.getNext();u;)u.name!=t.name&&s.push(u),u=l.getNext();return s.push(t),Le(s,o.getCompare())}return Ve}var c=n.get(t.name),h=e;return c&&(h=h.remove(new Ee(t.name,c))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(a.map(this.indexes_,(function(e){if(e===Ve)return e;var r=n.get(t.name);return r?e.remove(new Ee(t.name,r)):e})),this.indexSet_)},e}();function Ue(e,t){return O(e.name,t.name)}function qe(e,t){return O(e,t)}var He=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ne(this.priorityNode_),this.children_.isEmpty()&&a.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return z||(z=new e(new Pe(qe),null,je.Default))},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||z},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?z:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(a.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i=new Ee(t,n),o=void 0,s=void 0;return n.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(i,this.children_)),r=o.isEmpty()?z:this.priorityNode_,new e(o,r,s)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;a.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Oe,(function(s,a){n[s]=a.val(t),r++,o&&e.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!t&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+xe(this.getPriority().val())+":"),this.forEachChild(Oe,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":_(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ee(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Ee(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Ee(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ee.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ee.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Be?-1:0},e.prototype.withIndex=function(t){if(t===Ae||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Ae||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Oe),r=t.getIterator(Oe),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Ae?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Be=new(function(e){function t(){return e.call(this,new Pe(qe),He.EMPTY_NODE,je.Default)||this}return s.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return He.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(He));Object.defineProperties(Ee,{MIN:{value:new Ee(N,He.EMPTY_NODE)},MAX:{value:new Ee(I,Be)}}),Te.__EMPTY_NODE=He.EMPTY_NODE,Ie.__childrenNodeConstructor=He,U=Be,B=Be;var We=!0;function ze(e,t){if(void 0===t&&(t=null),null===e)return He.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),a.assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Ie(e,ze(t));if(e instanceof Array||!We){var n=He.EMPTY_NODE;return M(e,(function(t,r){if(a.contains(e,t)&&"."!==t.substring(0,1)){var i=ze(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(ze(t))}var r=[],i=!1;if(M(e,(function(e,t){if("."!==e.substring(0,1)){var n=ze(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ee(e,n)))}})),0==r.length)return He.EMPTY_NODE;var o=Le(r,Ue,(function(e){return e.name}),qe);if(i){var s=Le(r,Oe.getCompare());return new He(o,ze(t),new je({".priority":s},{".priority":Oe}))}return new He(o,ze(t),je.Default)}H=ze;var Qe,$e,Ge,Ke=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?O(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Ee.MIN},t.prototype.maxPost=function(){return Ee.MAX},t.prototype.makePost=function(e,t){var n=ze(e);return new Ee(t,n)},t.prototype.toString=function(){return".value"},t}(Se)),Ye=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,a.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return s.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?O(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=ze(e),r=He.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ee(t,r)},t.prototype.maxPost=function(){var e=He.EMPTY_NODE.updateChild(this.indexPath_,Be);return new Ee(I,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(Se),Ze=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return a.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return a.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return a.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return a.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){a.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),ge("DataSnapshot.child",1,t,!1);var n=new J(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,Oe)},e.prototype.hasChild=function(e){a.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),ge("DataSnapshot.hasChild",1,e,!1);var t=new J(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return a.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(a.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),a.validateCallback("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return t(new e(i,n.ref_.child(r),Oe))}))},e.prototype.hasChildren=function(){return a.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return a.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return a.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),Je=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+a.stringify(this.snapshot.exportVal())},e}(),Xe=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),et=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new Je("value",this,new Ze(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Xe(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),tt=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return a.contains(this.callbacks_,t="children_removed"===t?"child_removed":t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Xe(this,e,t):null},e.prototype.createEvent=function(e,t){a.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new Je(e.type,this,new Ze(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||t.callbacks_[s]&&this.callbacks_[a]&&t.callbacks_[s]!==this.callbacks_[a])}return i.every((function(e){return t.callbacks_[e]===n.callbacks_[e]}))}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),nt=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return a.assert(Qe,"Reference.ts has not been loaded"),Qe},set:function(e){Qe=e},enumerable:!0,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ae){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!=N)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!=I)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Oe){if(null!=t&&!le(t)||null!=n&&!le(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(a.assert(e.getIndex()instanceof Ye||e.getIndex()===Ke,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return a.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){a.validateArgCount("Query.on",2,4,arguments.length),pe("Query.on",1,t,!1),a.validateCallback("Query.on",2,n,!1);var o=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[t]=n,this.onChildEvent(s,o.cancel,o.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new et(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new tt(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){a.validateArgCount("Query.off",0,3,arguments.length),pe("Query.off",1,e,!0),a.validateCallback("Query.off",2,t,!0),a.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var o=t||null;r=new et(o,null,n||null)}else e&&(t&&((i={})[e]=t),r=new tt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},e.prototype.once=function(t,n,r,i){var o=this;a.validateArgCount("Query.once",1,4,arguments.length),pe("Query.once",1,t,!1),a.validateCallback("Query.once",2,n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),l=!0,u=new a.Deferred;u.promise.catch((function(){}));var c=function(e){l&&(l=!1,o.off(t,c),n&&n.bind(s.context)(e),u.resolve(e))};return this.on(t,c,(function(e){o.off(t,c),s.cancel&&s.cancel.bind(s.context)(e),u.reject(e)})),u.promise},e.prototype.limitToFirst=function(t){if(a.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(a.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(a.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ge("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new J(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Ye(n),i=this.queryParams_.orderBy(r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){a.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(Ae);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){a.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Oe);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){a.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(Ke);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),a.validateArgCount("Query.startAt",0,2,arguments.length),ue("Query.startAt",1,t,this.path,!0),fe("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),a.validateArgCount("Query.endAt",0,2,arguments.length),ue("Query.endAt",1,t,this.path,!0),fe("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(a.validateArgCount("Query.equalTo",1,2,arguments.length),ue("Query.equalTo",1,e,this.path,!1),fe("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return a.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return a.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=R(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(a.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=this.path.equals(t.path),o=this.queryIdentifier()===t.queryIdentifier();return r&&i&&o},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,a.validateCallback(e,3,r.cancel,!0),r.context=n,a.validateContextObject(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(a.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),rt=function(){function e(){this.value=null,this.children=new Map}return e.prototype.find=function(e){if(null!=this.value)return this.value.getChild(e);if(!e.isEmpty()&&this.children.size>0){var t=e.getFront();return e=e.popFront(),this.children.has(t)?this.children.get(t).find(e):null}return null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(t,n);else{var r=t.getFront();this.children.has(r)||this.children.set(r,new e);var i=this.children.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var t=this.value;this.value=null;var n=this;return t.forEachChild(Oe,(function(e,t){n.remember(new J(e),t)})),this.forget(e)}if(this.children.size>0){var r=e.getFront();return e=e.popFront(),this.children.has(r)&&this.children.get(r).forget(e)&&this.children.delete(r),0===this.children.size}return!0},e.prototype.forEachTree=function(e,t){null!==this.value?t(e,this.value):this.forEachChild((function(n,r){var i=new J(e.toString()+"/"+n);r.forEachTree(i,t)}))},e.prototype.forEachChild=function(e){this.children.forEach((function(t,n){e(n,t)}))},e}(),it=function(e,t){return e&&"object"==typeof e?(a.assert(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e},ot=function(e,t){var n,r=e.getPriority().val(),i=it(r,t);if(e.isLeafNode()){var o=e,s=it(o.getValue(),t);return s!==o.getValue()||i!==o.getPriority().val()?new Ie(s,ze(i)):e}var a=e;return n=a,i!==a.getPriority().val()&&(n=n.updatePriority(new Ie(i))),a.forEachChild(Oe,(function(e,r){var i=ot(r,t);i!==r&&(n=n.updateImmediateChild(e,i))})),n},st=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}({}),at=function(){function e(e,t,n,r){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=r,a.assert(!r||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}(),lt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=st.ACK_USER_WRITE,this.source=at.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return a.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new J(t));return new e(J.Empty,n,this.revert)}return a.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}(),ut=function(){return $e||($e=new Pe(k)),$e},ct=function(){function e(e,t){void 0===t&&(t=ut()),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return M(t,(function(e,t){n=n.set(new J(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:J.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(e.popFront(),t);return null!=i?{path:new J(n).child(i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return null!==r?r.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=(this.children.get(r)||e.Empty).set(t.popFront(),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?e.Empty:new e(this.value,o)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r,i=t.getFront(),o=(this.children.get(i)||e.Empty).setTree(t.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(J.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(e.child(r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,J.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),o=this.children.get(i);return o?o.findOnPath_(e.popFront(),t.child(i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,J.Empty,t)},e.prototype.foreachOnPath_=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(t.popFront(),n.child(i),r):e.Empty},e.prototype.foreach=function(e){this.foreach_(J.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(e.child(n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e.Empty=new e(null),e}(),ht=function(){function e(e,t){this.source=e,this.path=t,this.type=st.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,J.Empty):new e(this.source,this.path.popFront())},e}(),dt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=st.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,J.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}(),pt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=st.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new J(t));return n.isEmpty()?null:n.value?new dt(this.source,J.Empty,n.value):new e(this.source,J.Empty,n)}return a.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),ft=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),gt=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new ft(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new ft(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new ft(He.EMPTY_NODE,!1,!1),new ft(He.EMPTY_NODE,!1,!1)),e}(),mt=function(){function e(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,r){return new e(e.CHILD_CHANGED,n,t,r)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}(),_t=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){a.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()==n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(mt.childRemovedChange(t,s)):a.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(mt.childAddedChange(t,n)):o.trackChildChange(mt.childChangedChange(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Oe,(function(e,r){t.hasChild(e)||n.trackChildChange(mt.childRemovedChange(e,r))})),t.isLeafNode()||t.forEachChild(Oe,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(mt.childChangedChange(t,r,i))}else n.trackChildChange(mt.childAddedChange(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?He.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),vt=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;a.assert(t==mt.CHILD_ADDED||t==mt.CHILD_CHANGED||t==mt.CHILD_REMOVED,"Only child changes supported for tracking"),a.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(t==mt.CHILD_ADDED&&i==mt.CHILD_REMOVED)this.changeMap.set(n,mt.childChangedChange(n,e.snapshotNode,r.snapshotNode));else if(t==mt.CHILD_REMOVED&&i==mt.CHILD_ADDED)this.changeMap.delete(n);else if(t==mt.CHILD_REMOVED&&i==mt.CHILD_CHANGED)this.changeMap.set(n,mt.childRemovedChange(n,r.oldSnap));else if(t==mt.CHILD_CHANGED&&i==mt.CHILD_ADDED)this.changeMap.set(n,mt.childAddedChange(n,e.snapshotNode));else{if(t!=mt.CHILD_CHANGED||i!=mt.CHILD_CHANGED)throw a.assertionError("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,mt.childChangedChange(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),yt=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),bt=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new ft(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}(),wt=function(){return function(e,t){this.viewCache=e,this.changes=t}}(),Ct=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){a.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),a.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,r,i){var o,s,l=new vt;if(n.type===st.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(t,u.path,u.snap,r,i,l):(a.assert(u.source.fromServer,"Unknown source."),s=u.source.tagged||t.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(t,u.path,u.snap,r,i,s,l))}else if(n.type===st.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(t,c.path,c.children,r,i,l):(a.assert(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.getServerCache().isFiltered(),o=this.applyServerMerge_(t,c.path,c.children,r,i,s,l))}else if(n.type===st.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(t,h.path,r,i,l):this.ackUserWrite_(t,h.path,h.affectedTree,r,i,l)}else{if(n.type!==st.LISTEN_COMPLETE)throw a.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(t,n.path,r,l)}var d=l.getChanges();return e.maybeAddValueEvent_(t,o,d),new wt(o,d)},e.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(mt.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,i){var o=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var s=void 0,l=void 0;if(t.isEmpty())if(a.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var u=e.getCompleteServerSnap(),c=n.calcCompleteEventChildren(u instanceof He?u:He.EMPTY_NODE);s=this.filter_.updateFullNode(e.getEventCache().getNode(),c,i)}else{var h=n.calcCompleteEventCache(e.getCompleteServerSnap());s=this.filter_.updateFullNode(e.getEventCache().getNode(),h,i)}else{var d=t.getFront();if(".priority"==d){a.assert(1==t.getLength(),"Can't have a priority with additional path components");var p=o.getNode();l=e.getServerCache().getNode();var f=n.calcEventCacheAfterServerOverwrite(t,p,l);s=null!=f?this.filter_.updatePriority(p,f):o.getNode()}else{var g=t.popFront(),m=void 0;if(o.isCompleteForChild(d)){l=e.getServerCache().getNode();var _=n.calcEventCacheAfterServerOverwrite(t,o.getNode(),l);m=null!=_?o.getNode().getImmediateChild(d).updateChild(g,_):o.getNode().getImmediateChild(d)}else m=n.calcCompleteChild(d,e.getServerCache());s=null!=m?this.filter_.updateChild(o.getNode(),d,m,g,r,i):o.getNode()}}return e.updateEventSnap(s,o.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,r,i,o,s){var a,l=e.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())a=u.updateFullNode(l.getNode(),n,null);else if(u.filtersNodes()&&!l.isFiltered()){var c=l.getNode().updateChild(t,n);a=u.updateFullNode(l.getNode(),c,null)}else{var h=t.getFront();if(!l.isCompleteForPath(t)&&t.getLength()>1)return e;var d=t.popFront(),p=l.getNode().getImmediateChild(h).updateChild(d,n);a=".priority"==h?u.updatePriority(l.getNode(),p):u.updateChild(l.getNode(),h,p,d,yt,null)}var f=e.updateServerSnap(a,l.isFullyInitialized()||t.isEmpty(),u.filtersNodes()),g=new bt(r,f,i);return this.generateEventCacheAfterServerEvent_(f,t,r,g,s)},e.prototype.applyUserOverwrite_=function(e,t,n,r,i,o){var s,a,l=e.getEventCache(),u=new bt(r,e,i);if(t.isEmpty())a=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),s=e.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var c=t.getFront();if(".priority"===c)a=this.filter_.updatePriority(e.getEventCache().getNode(),n),s=e.updateEventSnap(a,l.isFullyInitialized(),l.isFiltered());else{var h=t.popFront(),d=l.getNode().getImmediateChild(c),p=void 0;if(h.isEmpty())p=n;else{var f=u.getCompleteChild(c);p=null!=f?".priority"===h.getBack()&&f.getChild(h.parent()).isEmpty()?f:f.updateChild(h,n):He.EMPTY_NODE}if(d.equals(p))s=e;else{var g=this.filter_.updateChild(l.getNode(),c,p,h,u,o);s=e.updateEventSnap(g,l.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,r,i,o,s){var a=this,l=t;return r.foreach((function(r,u){var c=n.child(r);e.cacheHasChild_(t,c.getFront())&&(l=a.applyUserOverwrite_(l,c,u,i,o,s))})),r.foreach((function(r,u){var c=n.child(r);e.cacheHasChild_(t,c.getFront())||(l=a.applyUserOverwrite_(l,c,u,i,o,s))})),l},e.prototype.applyMerge_=function(e,t){return t.foreach((function(t,n){e=e.updateChild(t,n)})),e},e.prototype.applyServerMerge_=function(e,t,n,r,i,o,s){var a=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var l,u=e;l=t.isEmpty()?n:ct.Empty.setTree(t,n);var c=e.getServerCache().getNode();return l.children.inorderTraversal((function(t,n){if(c.hasChild(t)){var l=e.getServerCache().getNode().getImmediateChild(t),h=a.applyMerge_(l,n);u=a.applyServerOverwrite_(u,new J(t),h,r,i,o,s)}})),l.children.inorderTraversal((function(t,n){var l=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!c.hasChild(t)&&!l){var h=e.getServerCache().getNode().getImmediateChild(t),d=a.applyMerge_(h,n);u=a.applyServerOverwrite_(u,new J(t),d,r,i,o,s)}})),u},e.prototype.ackUserWrite_=function(e,t,n,r,i,o){if(null!=r.shadowingWrite(t))return e;var s=e.getServerCache().isFiltered(),a=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,a.getNode().getChild(t),r,i,s,o);if(t.isEmpty()){var l=ct.Empty;return a.getNode().forEachChild(Ae,(function(e,t){l=l.set(new J(e),t)})),this.applyServerMerge_(e,t,l,r,i,s,o)}return e}var u=ct.Empty;return n.foreach((function(e,n){var r=t.child(e);a.isCompleteForPath(r)&&(u=u.set(e,a.getNode().getChild(r)))})),this.applyServerMerge_(e,t,u,r,i,s,o)},e.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,yt,r)},e.prototype.revertUserWrite_=function(e,t,n,r,i){var o;if(null!=n.shadowingWrite(t))return e;var s=new bt(n,e,r),l=e.getEventCache().getNode(),u=void 0;if(t.isEmpty()||".priority"===t.getFront()){var c=void 0;if(e.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var h=e.getServerCache().getNode();a.assert(h instanceof He,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(h)}u=this.filter_.updateFullNode(l,c=c,i)}else{var d=t.getFront(),p=n.calcCompleteChild(d,e.getServerCache());null==p&&e.getServerCache().isCompleteForChild(d)&&(p=l.getImmediateChild(d)),(u=null!=p?this.filter_.updateChild(l,d,p,t.popFront(),s,i):e.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(l,d,He.EMPTY_NODE,t.popFront(),s,i):l).isEmpty()&&e.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i))}return o=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(J.Empty),e.updateEventSnap(u,o,this.filter_.filtersNodes())},e}(),Et=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var r=this,i=[],o=[];return e.forEach((function(e){e.type===mt.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(mt.childMovedChange(e.childName,e.snapshotNode))})),this.generateEventsForType_(i,mt.CHILD_REMOVED,e,n,t),this.generateEventsForType_(i,mt.CHILD_ADDED,e,n,t),this.generateEventsForType_(i,mt.CHILD_MOVED,o,n,t),this.generateEventsForType_(i,mt.CHILD_CHANGED,e,n,t),this.generateEventsForType_(i,mt.VALUE,e,n,t),i},e.prototype.generateEventsForType_=function(e,t,n,r,i){var o=this,s=n.filter((function(e){return e.type===t}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(t){var n=o.materializeSingleChange_(t,i);r.forEach((function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,o.query_))}))}))},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_),e)},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw a.assertionError("Should only compare child_ events.");var n=new Ee(e.childName,e.snapshotNode),r=new Ee(t.childName,t.snapshotNode);return this.index_.compare(n,r)},e}(),St=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new _t(n.getIndex()),i=n.getNodeFilter();this.processor_=new Ct(i);var o=t.getServerCache(),s=t.getEventCache(),a=r.updateFullNode(He.EMPTY_NODE,o.getNode(),null),l=i.updateFullNode(He.EMPTY_NODE,s.getNode(),null),u=new ft(a,o.isFullyInitialized(),r.filtersNodes()),c=new ft(l,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new gt(c,u),this.eventGenerator_=new Et(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){a.assert(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(e){var i=e.createCancelEvent(t=t,r);i&&n.push(i)}))}if(e){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===st.MERGE&&null!==e.source.queryId&&(a.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),a.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),a.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Oe,(function(e,t){n.push(mt.childAddedChange(e,t))})),t.isFullyInitialized()&&n.push(mt.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){return this.eventGenerator_.generateEventsForChanges(e,t,n?[n]:this.eventRegistrations_)},e}(),Tt=function(){function e(){this.views=new Map}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return a.assert(Ge,"Reference.ts has not been loaded"),Ge},set:function(e){a.assert(!Ge,"__referenceConstructor has already been defined"),Ge=e},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return 0===this.views.size},e.prototype.applyOperation=function(e,t,n){var r,i,o=e.source.queryId;if(null!==o){var l=this.views.get(o);return a.assert(null!=l,"SyncTree gave us an op for an invalid query."),l.applyOperation(e,t,n)}var u=[];try{for(var c=s.__values(this.views.values()),h=c.next();!h.done;h=c.next())u=u.concat((l=h.value).applyOperation(e,t,n))}catch(d){r={error:d}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return u},e.prototype.addEventRegistration=function(e,t,n,r,i){var o=e.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),l=!1;a?l=!0:r instanceof He?(a=n.calcCompleteEventChildren(r),l=!1):(a=He.EMPTY_NODE,l=!1);var u=new gt(new ft(a,l,!1),new ft(r,i,!1));s=new St(e,u),this.views.set(o,s)}return s.addEventRegistration(t),s.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var i,o,a=t.queryIdentifier(),l=[],u=[],c=this.hasCompleteView();if("default"===a)try{for(var h=s.__values(this.views.entries()),d=h.next();!d.done;d=h.next()){var p,f=s.__read(d.value,2),g=f[0];u=u.concat((p=f[1]).removeEventRegistration(n,r)),p.isEmpty()&&(this.views.delete(g),p.getQuery().getQueryParams().loadsAllData()||l.push(p.getQuery()))}}catch(m){i={error:m}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else(p=this.views.get(a))&&(u=u.concat(p.removeEventRegistration(n,r)),p.isEmpty()&&(this.views.delete(a),p.getQuery().getQueryParams().loadsAllData()||l.push(p.getQuery())));return c&&!this.hasCompleteView()&&l.push(new e.__referenceConstructor(t.repo,t.path)),{removed:l,events:u}},e.prototype.getQueryViews=function(){var e,t,n=[];try{for(var r=s.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.getCompleteServerCache=function(e){var t,n,r=null;try{for(var i=s.__values(this.views.values()),o=i.next();!o.done;o=i.next())r=r||o.value.getCompleteServerCache(e)}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return this.views.get(t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){var e,t;try{for(var n=s.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null},e}(),At=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new ct(n));var r=this.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,s=J.relativePath(i,t);return o=o.updateChild(s,n),new e(this.writeTree_.set(i,o))}var a=new ct(n);return new e(this.writeTree_.setTree(t,a))},e.prototype.addWrites=function(e,t){var n=this;return M(t,(function(t,r){n=n.addWrite(e.child(t),r)})),n},e.prototype.removeWrite=function(t){return t.isEmpty()?e.Empty:new e(this.writeTree_.setTree(t,ct.Empty))},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(J.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Oe,(function(t,n){e.push(new Ee(t,n))})):this.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new Ee(t,n.value))})),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new ct(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(e){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(a.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=e(t.child(n),o,r)})),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(t.child(".priority"),i)),r}(J.Empty,this.writeTree_,e)},e.Empty=new e(new ct(null)),e}(),xt=function(){function e(){this.visibleWrites_=At.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new Nt(e,this)},e.prototype.addOverwrite=function(e,t,n,r){a.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){a.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex((function(t){return t.writeId===e}));a.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,s=this.allWrites_.length-1;i&&s>=0;){var l=this.allWrites_[s];l.visible&&(s>=n&&this.recordContainsPath_(l,r.path)?i=!1:r.path.contains(l.path)&&(o=!0)),s--}return!!i&&(o?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):M(r.children,(function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(r.path.child(e))})),!0))},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(t);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(J.Empty)?e.layerTree_(this.allWrites_,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))}),t).apply(n||He.EMPTY_NODE):null}var s=this.visibleWrites_.getCompleteNode(t);if(null!=s)return s;var a=this.visibleWrites_.childCompoundWrite(t);return a.isEmpty()?n:null!=n||a.hasCompleteWrite(J.Empty)?a.apply(n||He.EMPTY_NODE):null},e.prototype.calcCompleteEventChildren=function(e,t){var n=He.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(Oe,(function(e,t){n=n.updateImmediateChild(e,t)})),n;if(t){var i=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(Oe,(function(e,t){var r=i.childCompoundWrite(new J(e)).apply(t);n=n.updateImmediateChild(e,r)})),i.getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){a.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=e.child(t);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(t):o.apply(r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(t)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t)):null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(e),l=a.getCompleteNode(J.Empty);if(null!=l)s=l;else{if(null==t)return[];s=a.apply(t)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var u=[],c=o.getCompare(),h=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),d=h.getNext();d&&u.length<r;)0!==c(d,n)&&u.push(d),d=h.getNext();return u},e.prototype.recordContainsPath_=function(e,t){if(e.snap)return e.path.contains(t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&e.path.child(n).contains(t))return!0;return!1},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,J.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var r=At.Empty,i=0;i<e.length;++i){var o=e[i];if(t(o)){var s=o.path,l=void 0;if(o.snap)n.contains(s)?(l=J.relativePath(n,s),r=r.addWrite(l,o.snap)):s.contains(n)&&(l=J.relativePath(s,n),r=r.addWrite(J.Empty,o.snap.getChild(l)));else{if(!o.children)throw a.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))l=J.relativePath(n,s),r=r.addWrites(l,o.children);else if(s.contains(n))if((l=J.relativePath(s,n)).isEmpty())r=r.addWrites(J.Empty,o.children);else{var u=a.safeGet(o.children,l.getFront());if(u){var c=u.getChild(l.popFront());r=r.addWrite(J.Empty,c)}}}}}return r},e}(),Nt=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}(),It=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=ct.Empty,this.pendingWriteTree_=new xt,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new dt(at.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=ct.fromObject(t);return this.applyOperationToSyncPoints_(new pt(at.User,e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=ct.Empty;return null!=n.snap?r=r.set(J.Empty,!0):M(n.children,(function(e,t){r=r.set(new J(e),t)})),this.applyOperationToSyncPoints_(new lt(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new dt(at.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=ct.fromObject(t);return this.applyOperationToSyncPoints_(new pt(at.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new ht(at.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=e.parseQueryKey_(i),s=o.path,a=o.queryId,l=J.relativePath(s,t),u=new dt(at.forServerTaggedQuery(a),l,n);return this.applyTaggedOperation_(s,u)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var o=e.parseQueryKey_(i),s=o.path,a=o.queryId,l=J.relativePath(s,t),u=ct.fromObject(n),c=new pt(at.forServerTaggedQuery(a),l,u);return this.applyTaggedOperation_(s,c)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),o=i.path,s=i.queryId,a=J.relativePath(o,t),l=new ht(at.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,l)}return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(e,t){var n=J.relativePath(e,r);i=i||t.getCompleteServerCache(n),o=o||t.hasCompleteView()}));var s,l=this.syncPointTree_.get(r);l?(o=o||l.hasCompleteView(),i=i||l.getCompleteServerCache(J.Empty)):(l=new Tt,this.syncPointTree_=this.syncPointTree_.set(r,l)),null!=i?s=!0:(s=!1,i=He.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=t.getCompleteServerCache(J.Empty);n&&(i=i.updateImmediateChild(e,n))})));var u=l.viewExistsForQuery(t);if(!u&&!t.getQueryParams().loadsAllData()){var c=e.makeQueryKey_(t);a.assert(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=e.getNextQueryTag_();this.queryToTagMap.set(c,h),this.tagToQueryMap.set(h,c)}var d=this.pendingWriteTree_.childWrites(r),p=l.addEventRegistration(t,n,d,i,s);if(!u&&!o){var f=l.viewForQuery(t);p=p.concat(this.setupListener_(t,f))}return p},e.prototype.removeEventRegistration=function(t,n,r){var i=this,o=t.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===t.queryIdentifier()||s.viewExistsForQuery(t))){var l=s.removeEventRegistration(t,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=l.removed;a=l.events;var c=-1!==u.findIndex((function(e){return e.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(e,t){return t.hasCompleteView()}));if(c&&!h){var d=this.syncPointTree_.subtree(o);if(!d.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(d),f=0;f<p.length;++f){var g=p[f],m=g.getQuery(),_=this.createListenerForView_(g);this.listenProvider_.startListening(e.queryForListening_(m),this.tagForQuery_(m),_.hashFn,_.onComplete)}}!h&&u.length>0&&!r&&(c?this.listenProvider_.stopListening(e.queryForListening_(t),null):u.forEach((function(t){var n=i.queryToTagMap.get(e.makeQueryKey_(t));i.listenProvider_.stopListening(e.queryForListening_(t),n)}))),this.removeTags_(u)}return a},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,(function(t,n){var r=J.relativePath(t,e),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(e,r,t,!0)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold((function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var r=[];return t&&(r=t.getQueryViews()),M(n,(function(e,t){r=r.concat(t)})),r}))},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var r=t.path,i=this.tagForQuery_(t),o=this.createListenerForView_(n),s=this.listenProvider_.startListening(e.queryForListening_(t),i,o.hashFn,o.onComplete),l=this.syncPointTree_.subtree(r);if(i)a.assert(!l.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=l.fold((function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map((function(e){return e.getQuery()})))),M(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var h=u[c];this.listenProvider_.stopListening(e.queryForListening_(h),this.tagForQuery_(h))}return s},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(e.getServerCache()||He.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?n="Client doesn't have permission to access the desired data.":"unavailable"==e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(e,n);return t.removeEventRegistration(n,null,i)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return a.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new J(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return this.queryToTagMap.get(n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);a.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(J.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(J.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(J.Empty));var o=[],s=e.path.getFront(),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){var u=n?n.getImmediateChild(s):null,c=r.child(s);o=o.concat(this.applyOperationHelper_(a,l,u,c))}return i&&(o=o.concat(i.applyOperation(e,r,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,o=t.get(J.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(J.Empty));var s=[];return t.children.inorderTraversal((function(t,o){var a=n?n.getImmediateChild(t):null,l=r.child(t),u=e.operationForChild(t);u&&(s=s.concat(i.applyOperationDescendantsHelper_(u,o,a,l)))})),o&&(s=s.concat(o.applyOperation(e,r,n))),s},e.nextQueryTag_=1,e}(),Ot=function(){function e(){this.rootNode_=He.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),kt=function(){function e(e){this.app_=e}return e.prototype.getToken=function(e){return this.app_.INTERNAL.getToken(e).then(null,(function(e){return e&&"auth/token-not-initialized"===e.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)}))},e.prototype.addTokenChangeListener=function(e){this.app_.INTERNAL.addAuthTokenListener(e)},e.prototype.removeTokenChangeListener=function(e){this.app_.INTERNAL.removeAuthTokenListener(e)},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';A(e+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},e}(),Dt=function(){return function(e){this.accessToken=e}}(),Rt=function(){function e(e){this.app_=e}return e.prototype.getToken=function(e){return Promise.resolve(new Dt("owner"))},e.prototype.addTokenChangeListener=function(e){},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){A('Database emulator unexpectedly rejected fake "owner" credentials.')},e}(),Pt=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),a.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return a.deepCopy(this.counters_)},e}(),Mt=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new Pt),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),Ft=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=s.__assign({},e);return this.last_&&M(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Lt=1e4,Vt=3e4,jt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ft(e);var n=Lt+(Vt-Lt)*Math.random();Z(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;M(t,(function(t,i){i>0&&a.contains(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Z(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),Ut=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new qt(i)),t.add(r)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.equals(e)}))},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.contains(e)||e.contains(t)}))},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1)}t&&(this.eventLists_=[]),this.recursionDepth_--},e}(),qt=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();y&&C("event: "+t.toString()),K(n)}}},e.prototype.getPath=function(){return this.path_},e}(),Ht=function(){function e(e){this.allowedEvents_=e,this.listeners_={},a.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=s.__spread(this.listeners_[e]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){a.assert(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),Bt=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return s.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return a.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(Ht),Wt=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return s.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return a.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(Ht),zt=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&K((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),Qt="pLPCommand",$t="pRTLPCB",Gt=function(){function e(e,t,n,r){this.connId=e,this.repoInfo=t,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(e),this.stats_=Mt.getCollection(t),this.urlFn=function(e){return t.connectionURL(ee,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new zt(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(a.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Kt((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=s.__read(e,5),i=r[0],o=r[1],a=r[2];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==i)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=s.__read(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(a.isNodeSdk()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=a.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=a.base64Encode(t),r=P(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!a.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=a.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Kt=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,a.isNodeSdk())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window[Qt+this.uniqueCallbackIdentifier]=t,window[$t+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(l){C("frame writing exception"),l.stack&&C(l.stack),C(l)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||C("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(t+=n,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;a.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){C("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),Yt="",Zt=null;"undefined"!=typeof MozWebSocket?Zt=MozWebSocket:"undefined"!=typeof WebSocket&&(Zt=WebSocket);var Jt=function(){function e(t,n,r,i){this.connId=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=Mt.getCollection(n),this.connURL=e.connectionURL_(n,r,i)}return e.connectionURL_=function(e,t,n){var r={v:"5"};return!a.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),e.connectionURL("websocket",r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if(a.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+Yt+"/"+process.platform+"/"+(a.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},i=process.env,o=0==this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;o&&(r.proxy={origin:o}),this.mySock=new Zt(this.connURL,[],r)}else this.mySock=new Zt(this.connURL)}catch(l){this.log_("Error instantiating WebSocket.");var s=l.message||l.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Zt&&!e.forceDisallow_},e.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var n=a.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(a.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=a.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=P(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),Xt=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Gt,Jt]},enumerable:!0,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Jt&&Jt.isAvailable(),o=i&&!Jt.previouslyFailed();if(t.webSocketOnly&&(i||A("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Jt];else{var a=this.transports_=[];try{for(var l=s.__values(e.ALL_TRANSPORTS),u=l.next();!u.done;u=l.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),en=function(){function e(e,t,n,r,i,o,s){this.id=e,this.repoInfo_=t,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new Xt(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Z((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!=t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);if("c"==t)this.onSecondaryControl_(n);else{if("d"!=t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);"c"==t?this.onControl_(n):"d"==t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=D("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?S("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&A("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Z((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Z((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),tn=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),nn=1e3,rn=3e5,on=function(e){function t(n,r,i,o,s,l){var u=e.call(this)||this;if(u.repoInfo_=n,u.onDataUpdate_=r,u.onConnectStatus_=i,u.onServerInfoUpdate_=o,u.authTokenProvider_=s,u.authOverride_=l,u.id=t.nextPersistentConnectionId_++,u.log_=E("p:"+u.id+":"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=nn,u.maxReconnectDelay_=rn,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,l&&!a.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),Bt.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&Wt.getInstance().on("online",u.onOnline_,u),u}return s.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r,a:e,b:t};this.log_(a.stringify(i)),a.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),o=e.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),a.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),a.assert(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};e.tag&&(s.q=r.queryObject(),s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,l=s.s;t.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",s),"ok"!==l&&n.removeListen_(i,o),e.onComplete&&e.onComplete(l,a))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&a.contains(e,"w")){var n=a.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();A("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||a.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=a.isValidFormat(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),a.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){"ok"!==e.s&&t.log_("reportStats","Error sending stats: "+e.d)}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+a.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):S("Unrecognized action received from server: "+a.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;a.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=nn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=nn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=nn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,o=this,s=this.lastSessionId,l=!1,u=null,c=function(){u?u.close():(l=!0,r())};this.realtime_={close:c,sendRequest:function(e){a.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(t){l?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),o.authToken_=t&&t.accessToken,u=new en(i,o.repoInfo_,e,n,r,(function(e){A(e+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),s))})).then(null,(function(e){o.log_("Failed to get token: "+e),l||(a.CONSTANTS.NODE_ADMIN&&A(e),c())}))}},t.prototype.interrupt=function(e){C("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){C("Resuming connection for reason: "+e),delete this.interruptReasons_[e],a.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=nn,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return R(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new J(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){C("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=s.__values(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var l=(n=void 0,s.__values(a.values())),u=l.next();!u.done;u=l.next())this.sendListen_(u.value)}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";a.CONSTANTS.NODE_ADMIN?t="admin_node":a.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+Yt.replace(/\./g,"-")]=1,a.isMobileCordova()?e["framework.cordova"]=1:a.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=Wt.getInstance().currentlyOnline();return a.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(tn),sn=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=E("p:rest:"),i.listens_={},i}return s.__extends(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(a.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,s=e.path.toString();this.log_("Listen called for "+s+" "+e.queryIdentifier());var l=t.getListenId_(e,r),u={};this.listens_[l]=u;var c=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",c,(function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(s,n,!1,r),a.safeGet(o.listens_,l)===u&&i(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(t.auth=o);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+a.querystring(t);r.log_("Sending REST request for "+s);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.log_("REST Response for "+s+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=a.jsonEval(l.responseText)}catch(t){A("Failed to parse JSON response for "+s+": "+l.responseText)}n(null,e)}else 401!==l.status&&404!==l.status&&A("Got unsuccessful REST response for "+s+" Status: "+l.status),n(l.status);n=null}},l.open("GET",s,!0),l.send()}))},t}(tn),an=function(){function e(e,t,n){var r,i=this;if(this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ut,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new rt,this.persistentConnection_=null,r="undefined"!=typeof process&&process.env[g]?new Rt(n):new kt(n),this.stats_=Mt.getCollection(e),t||Y())this.server_=new sn(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{a.stringify(o)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}this.persistentConnection_=new on(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,o),this.server_=this.persistentConnection_}r.addTokenChangeListener((function(e){i.server_.refreshAuthToken(e)})),this.statsReporter_=Mt.getOrCreateReporter(e,(function(){return new jt(i.stats_,i.server_)})),this.transactions_init_(),this.infoData_=new Ot,this.infoSyncTree_=new It({startListening:function(e,t,n,r){var o=[],s=i.infoData_.getNode(e.path);return s.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(e.path,s),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new It({startListening:function(e,t,n,r){return i.server_.listen(e,n,t,(function(t,n){var o=r(t,n);i.eventQueue_.raiseEventsForChangedPath(e.path,o)})),[]},stopListening:function(e,t){i.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e},e.prototype.generateServerValues=function(){return(e=(e={timestamp:this.serverTime()})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var i=new J(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var o=[];if(r)if(n){var s=a.map(t,(function(e){return ze(e)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var l=ze(t);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,l,r)}else if(n){var u=a.map(t,(function(e){return ze(e)}));o=this.serverSyncTree_.applyServerMerge(i,u)}else{var c=ze(t);o=this.serverSyncTree_.applyServerOverwrite(i,c)}var h=i;o.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,o)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;M(e,(function(e,n){t.updateInfo_(e,n)}))},e.prototype.updateInfo_=function(e,t){var n=new J("/.info/"+e),r=ze(t);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,r){var i=this;this.log_("set",{path:e.toString(),value:t,priority:n});var o=this.generateServerValues(),s=ze(t,n),a=ot(s,o),l=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserOverwrite(e,a,l,!0);this.eventQueue_.queueEvents(u),this.server_.put(e.toString(),s.val(!0),(function(t,n){var o="ok"===t;o||A("set at "+e+" failed: "+t);var s=i.serverSyncTree_.ackUserWrite(l,!o);i.eventQueue_.raiseEventsForChangedPath(e,s),i.callOnCompleteCallback(r,t,n)}));var c=this.abortTransactions_(e);this.rerunTransactions_(c),this.eventQueue_.raiseEventsForChangedPath(c,[])},e.prototype.update=function(e,t,n){var r=this;this.log_("update",{path:e.toString(),value:t});var i=!0,o=this.generateServerValues(),s={};if(M(t,(function(e,t){i=!1;var n=ze(t);s[e]=ot(n,o)})),i)C("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserMerge(e,s,a);this.eventQueue_.queueEvents(l),this.server_.merge(e.toString(),t,(function(t,i){var o="ok"===t;o||A("update at "+e+" failed: "+t);var s=r.serverSyncTree_.ackUserWrite(a,!o),l=s.length>0?r.rerunTransactions_(e):e;r.eventQueue_.raiseEventsForChangedPath(l,s),r.callOnCompleteCallback(n,t,i)})),M(t,(function(t){var n=r.abortTransactions_(e.child(t));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=function(e,t){var n=new rt;return e.forEachTree(new J(""),(function(e,r){n.remember(e,ot(r,t))})),n}(this.onDisconnect_,t),r=[];n.forEachTree(J.Empty,(function(t,n){r=r.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var i=e.abortTransactions_(t);e.rerunTransactions_(i)})),this.onDisconnect_=new rt,this.eventQueue_.raiseEventsForChangedPath(J.Empty,r)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)}))},e.prototype.onDisconnectSet=function(e,t,n){var r=this,i=ze(t);this.server_.onDisconnectPut(e.toString(),i.val(!0),(function(t,o){"ok"===t&&r.onDisconnect_.remember(e,i),r.callOnCompleteCallback(n,t,o)}))},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var i=this,o=ze(t,n);this.server_.onDisconnectPut(e.toString(),o.val(!0),(function(t,n){"ok"===t&&i.onDisconnect_.remember(e,o),i.callOnCompleteCallback(r,t,n)}))},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(a.isEmpty(t))return C("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,(function(i,o){"ok"===i&&M(t,(function(t,n){var i=ze(n);r.onDisconnect_.remember(e.child(t),i)})),r.callOnCompleteCallback(n,i,o)}))},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;e?(this.statsListener_||(this.statsListener_=new Ft(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce((function(e,t){return Math.max(t.length,e)}),0);M(t,(function(e,t){for(var r=e,i=e.length;i<n+2;i++)r+=" ";console.log(r+t)}))}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),C.apply(void 0,s.__spread([n],e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&K((function(){if("ok"==t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,e(o)}}))},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new _n(this))},enumerable:!0,configurable:!0}),e}(),ln=function(){function e(t){this.indexedFilter_=new _t(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Ee(t,n))||(n=He.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=He.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(He.EMPTY_NODE);var i=this;return t.forEachChild(Oe,(function(e,t){i.matches(new Ee(e,t))||(r=r.updateImmediateChild(e,He.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),un=function(){function e(e){this.rangedFilter_=new ln(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Ee(t,n))||(n=He.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=He.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=He.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(He.EMPTY_NODE);var a=void 0,l=void 0,u=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();u=function(e,t){return c(t,e)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&u(a,s)<=0&&(h=!0),h&&o<this.limit_&&u(s,l)<=0?o++:r=r.updateImmediateChild(s.name,He.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(e,t){return s(t,e)}}else o=this.index_.getCompare();var l=e;a.assert(l.numChildren()==this.limit_,"");var u=new Ee(t,n),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(l.hasChild(t)){for(var d=l.getImmediateChild(t),p=r.getChildAfterChild(this.index_,c,this.reverse_);null!=p&&(p.name==t||l.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var f=null==p?1:o(p,u);if(h&&!n.isEmpty()&&f>=0)return null!=i&&i.trackChildChange(mt.childChangedChange(t,n,d)),l.updateImmediateChild(t,n);null!=i&&i.trackChildChange(mt.childRemovedChange(t,d));var g=l.updateImmediateChild(t,He.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(mt.childAddedChange(p.name,p.node)),g.updateImmediateChild(p.name,p.node)):g}return n.isEmpty()?e:h&&o(c,u)>=0?(null!=i&&(i.trackChildChange(mt.childRemovedChange(c.name,c.node)),i.trackChildChange(mt.childAddedChange(t,n))),l.updateImmediateChild(t,n).updateImmediateChild(c.name,He.EMPTY_NODE)):e},e}(),cn=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Oe}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:N},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:I},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return a.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.index_!==Oe&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Oe},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new _t(this.getIndex()):this.hasLimit()?new un(this):new ln(this)},e.prototype.toRestQueryStringParameters=function(){var t,n=e.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===Oe?t=n.PRIORITY_INDEX:this.index_===Ke?t=n.VALUE_INDEX:this.index_===Ae?t=n.KEY_INDEX:(a.assert(this.index_ instanceof Ye,"Unrecognized index type!"),t=this.index_.toString()),r[n.ORDER_BY]=a.stringify(t),this.startSet_&&(r[n.START_AT]=a.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+a.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=a.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+a.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}(),hn=function(e){function t(t,n){if(!(t instanceof an))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,cn.DEFAULT,!1)||this}return s.__extends(t,e),t.prototype.getKey=function(){return a.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return a.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof J||(null===this.path.getFront()?me("Reference.child",1,e,!1):ge("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){a.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){a.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){a.validateArgCount("Reference.set",1,2,arguments.length),_e("Reference.set",this.path),ue("Reference.set",1,e,this.path,!1),a.validateCallback("Reference.set",2,t,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(a.validateArgCount("Reference.update",1,2,arguments.length),_e("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,A("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}he("Reference.update",1,e,this.path,!1),a.validateCallback("Reference.update",2,t,!0);var i=new a.Deferred;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(a.validateArgCount("Reference.setWithPriority",2,3,arguments.length),_e("Reference.setWithPriority",this.path),ue("Reference.setWithPriority",1,e,this.path,!1),de("Reference.setWithPriority",2,t,!1),a.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new a.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return a.validateArgCount("Reference.remove",0,1,arguments.length),_e("Reference.remove",this.path),a.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(a.validateArgCount("Reference.transaction",1,3,arguments.length),_e("Reference.transaction",this.path),a.validateCallback("Reference.transaction",1,e,!1),a.validateCallback("Reference.transaction",2,t,!0),ye("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new a.Deferred;"function"==typeof t&&r.promise.catch((function(){}));var i=function(e,n,i){e?r.reject(e):r.resolve(new we(n,i)),"function"==typeof t&&t(e,n,i)};return this.repo.startTransaction(this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){a.validateArgCount("Reference.setPriority",1,2,arguments.length),_e("Reference.setPriority",this.path),de("Reference.setPriority",1,e,!1),a.validateCallback("Reference.setPriority",2,t,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){a.validateArgCount("Reference.push",0,2,arguments.length),_e("Reference.push",this.path),ue("Reference.push",1,e,this.path,!0),a.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=Ce(r),o=this.child(i),s=this.child(i);return n=null!=e?o.set(e,t).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch((function(){})),o},t.prototype.onDisconnect=function(){return _e("Reference.onDisconnect",this.path),new be(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),t}(nt);nt.__referenceConstructor=hn,Tt.__referenceConstructor=hn;var dn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),pn=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new dn),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n,r=t instanceof J?t:new J(t),i=this;null!==(n=r.getFront());)i=new e(n,i,a.safeGet(i.node_.children,n)||new dn),r=r.popFront();return i},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){a.assert(void 0!==e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;M(this.node_.children,(function(r,i){t(new e(r,n,i))}))},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild((function(t){t.forEachDescendant(e,!0,n)})),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild((function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)}))},e.prototype.path=function(){return new J(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=a.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}(),fn=function(e){return e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT",e}({});an.MAX_TRANSACTION_RETRIES_=25,an.prototype.transactions_init_=function(){this.transactionQueueTree_=new pn},an.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);var i=function(){},o=new hn(this,e);o.on("value",i);var s={path:e,update:t,onComplete:n,status:null,order:m(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=this.getLatestState_(e);s.currentInputSnapshot=l;var u=s.update(l.val());if(void 0===u){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var c=new Ze(s.currentInputSnapshot,new hn(this,s.path),Oe);s.onComplete(null,!1,c)}}else{ce("transaction failed: Data returned ",u,s.path),s.status=fn.RUN;var h=this.transactionQueueTree_.subTree(e),d=h.getValue()||[];d.push(s),h.setValue(d);var p=void 0;"object"==typeof u&&null!==u&&a.contains(u,".priority")?(p=a.safeGet(u,".priority"),a.assert(le(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(this.serverSyncTree_.calcCompleteEventCache(e)||He.EMPTY_NODE).getPriority().val(),p=p;var f=this.generateServerValues(),g=ze(u,p),_=ot(g,f);s.currentOutputSnapshotRaw=g,s.currentOutputSnapshotResolved=_,s.currentWriteId=this.getNextWriteId_();var v=this.serverSyncTree_.applyUserOverwrite(e,_,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,v),this.sendReadyTransactions_()}},an.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||He.EMPTY_NODE},an.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);a.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return e.status===fn.RUN}))&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild((function(e){t.sendReadyTransactions_(e)}))},an.prototype.sendTransactionQueue_=function(e,t){for(var n=this,r=t.map((function(e){return e.currentWriteId})),i=this.getLatestState_(e,r),o=i,s=i.hash(),l=0;l<t.length;l++){var u=t[l];a.assert(u.status===fn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=fn.SENT,u.retryCount++;var c=J.relativePath(e,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var h=o.val(!0),d=e;this.server_.put(d.toString(),h,(function(r){n.log_("transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<t.length;s++){if(t[s].status=fn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(t[s].currentWriteId)),t[s].onComplete){var a=t[s].currentOutputSnapshotResolved,l=new hn(n,t[s].path),u=new Ze(a,l,Oe);o.push(t[s].onComplete.bind(null,null,!0,u))}t[s].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,i),s=0;s<o.length;s++)K(o[s])}else{if("datastale"===r)for(s=0;s<t.length;s++)t[s].status=t[s].status===fn.SENT_NEEDS_ABORT?fn.NEEDS_ABORT:fn.RUN;else for(A("transaction at "+d.toString()+" failed: "+r),s=0;s<t.length;s++)t[s].status=fn.NEEDS_ABORT,t[s].abortReason=r;n.rerunTransactions_(e)}}),s)},an.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},an.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n=[],r=[],i=e.filter((function(e){return e.status===fn.RUN})).map((function(e){return e.currentWriteId})),o=0;o<e.length;o++){var s=e[o],l=J.relativePath(t,s.path),u=!1,c=void 0;if(a.assert(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===fn.NEEDS_ABORT)u=!0,c=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===fn.RUN)if(s.retryCount>=an.MAX_TRANSACTION_RETRIES_)u=!0,c="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,i);s.currentInputSnapshot=h;var d=e[o].update(h.val());if(void 0!==d){ce("transaction failed: Data returned ",d,s.path);var p=ze(d);"object"==typeof d&&null!=d&&a.contains(d,".priority")||(p=p.updatePriority(h.getPriority()));var f=s.currentWriteId,g=this.generateServerValues(),m=ot(p,g);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=m,s.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(f),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,m,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(f,!0))}else u=!0,c="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,r),r=[],u&&(e[o].status=fn.COMPLETED,setTimeout(e[o].unwatcher,Math.floor(0)),e[o].onComplete))if("nodata"===c){var _=new hn(this,e[o].path),v=new Ze(e[o].currentInputSnapshot,_,Oe);n.push(e[o].onComplete.bind(null,null,!1,v))}else n.push(e[o].onComplete.bind(null,new Error(c),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)K(n[o]);this.sendReadyTransactions_()}},an.prototype.getAncestorTransactionNode_=function(e){for(var t,n=this.transactionQueueTree_;null!==(t=e.getFront())&&null===n.getValue();)n=n.subTree(t),e=e.popFront();return n},an.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort((function(e,t){return e.order-t.order})),t},an.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild((function(e){n.aggregateTransactionQueuesForNode_(e,t)}))},an.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==fn.COMPLETED&&(n[r]=n[i],r++);n.length=r,e.setValue(n.length>0?n:null)}e.forEachChild((function(e){t.pruneCompletedTransactionsBelowNode_(e)}))},an.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor((function(e){t.abortTransactionsOnNode_(e)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(e){t.abortTransactionsOnNode_(e)})),n},an.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],i=-1,o=0;o<t.length;o++)t[o].status===fn.SENT_NEEDS_ABORT||(t[o].status===fn.SENT?(a.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,t[o].status=fn.SENT_NEEDS_ABORT,t[o].abortReason="set"):(a.assert(t[o].status===fn.RUN,"Unexpected transaction status in abort"),t[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[o].currentWriteId,!0)),t[o].onComplete&&n.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?e.setValue(null):t.length=i+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),r),o=0;o<n.length;o++)K(n[o])}};var gn,mn=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return gn||(gn=new e),gn},e.prototype.interrupt=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].interrupt()},e.prototype.resume=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].resume()},e.prototype.databaseFromApp=function(e,t){var n=t||e.options.databaseURL;void 0===n&&T("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=ne(n),i=r.repoInfo,o=void 0;return"undefined"!=typeof process&&(o=process.env[g]),o&&(i=(r=ne(n="http://"+o+"?ns="+i.namespace)).repoInfo),ve("Invalid Firebase Database URL",1,r),r.path.isEmpty()||T("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,e).database},e.prototype.deleteRepo=function(e){var t=a.safeGet(this.repos_,e.app.name);t&&a.safeGet(t,e.repoInfo_.toURLString())===e||T("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t){var n=a.safeGet(this.repos_,t.name);n||(this.repos_[t.name]=n={});var r=a.safeGet(n,e.toURLString());return r&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new an(e,this.useRestClient_,t),n[e.toURLString()]=r,r},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),_n=function(){function e(e){this.repo_=e,e instanceof an||T("Don't call new Database() directly - please use firebase.database()."),this.root_=new hn(e,J.Empty),this.INTERNAL=new vn(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),a.validateArgCount("database.ref",0,1,arguments.length),e instanceof hn?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),a.validateArgCount(t,1,1,arguments.length);var n=ne(e);ve(t,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&T(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&T("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){a.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){a.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"}},e}(),vn=function(){function e(e){this.database=e}return e.prototype.delete=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return this.database.checkDeleted_("delete"),mn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},e}(),yn=Object.freeze({forceLongPolling:function(){Jt.forceDisallow(),Gt.forceAllow()},forceWebSockets:function(){Gt.forceDisallow()},isWebSocketsAvailable:function(){return Jt.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){e.repo.stats(t)},statsIncrementCounter:function(e,t){e.repo.statsIncrementCounter(t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return e.repo.interceptServerData_(t)}}),bn=on;on.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},on.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var wn=Object.freeze({DataConnection:bn,RealTimeConnection:en,hijackHash:function(e){var t=on.prototype.put;return on.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){on.prototype.put=t}},ConnectionTarget:te,queryIdentifier:function(e){return e.queryIdentifier()},forceRestClient:function(e){mn.getInstance().forceRestClient(e)}}),Cn=_n.ServerValue;function En(t){Yt=t.SDK_VERSION;var n=t.INTERNAL.registerService("database",(function(e,t,n){return mn.getInstance().databaseFromApp(e,n)}),{Reference:hn,Query:nt,Database:_n,DataSnapshot:Ze,enableLogging:w,INTERNAL:yn,ServerValue:Cn,TEST_ACCESS:wn},null,!0);a.isNodeSdk()&&(e.exports=n)}En(o),t.DataSnapshot=Ze,t.Database=_n,t.OnDisconnect=be,t.Query=nt,t.Reference=hn,t.ServerValue=Cn,t.enableLogging=w,t.registerDatabase=En},RFxB:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FillDetailsComponent}));var _firebase_app__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("wj3C"),_firebase_app__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_firebase_app__WEBPACK_IMPORTED_MODULE_0__),_data_provider_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("bGQr");class FillDetailsComponent{constructor(e){this.dealers=[],this.customers=[],this.purchaseNewInt={company:"",gstNo:""},this.purchaseNew={company:"",gstNo:""},this.purchaseInt={company:"",date:"",amount12:"",amount18:"",invoiceNo:""},this.purchase={company:"",date:"",amount12:"",amount18:"",invoiceNo:""},this.salesGstNew={customer:"",gst_no:"",phone_no:""},this.dealers=e.getDealers(),this.customers=e.getCustomers()}ngOnInit(){this.showAddDealerDiv="false",this.showAddCustomersDiv="false"}saveDealersCustomersDetails(e){"Dealers"==e?(_firebase_app__WEBPACK_IMPORTED_MODULE_0___default.a.database().ref("dealers/"+this.purchaseNew.company).set({gstNo:this.purchaseNew.gstNo},(function(e){e?alert("Data could not be Inserted."+e):alert("Data Inserted successfully.")})),this.showAddDealerDiv="false",this.purchaseNew=JSON.parse(JSON.stringify(this.purchaseNewInt))):(_firebase_app__WEBPACK_IMPORTED_MODULE_0___default.a.database().ref("customers/"+this.salesGstNew.customer).set({gstNo:this.salesGstNew.gst_no,phoneNo:this.salesGstNew.phone_no},(function(e){e?alert("Data could not be Inserted."+e):alert("Data Inserted successfully.")})),this.showAddCustomersDiv="false",this.salesGstNew.customer="",this.salesGstNew.gst_no="",this.salesGstNew.phone_no="")}saveDetails(text){"Purchase"==text?(_firebase_app__WEBPACK_IMPORTED_MODULE_0___default.a.database().ref("purchase/"+this.purchase.invoiceNo+"-"+this.purchase.date).set({company:this.purchase.company,date:this.purchase.date,amount12:eval(this.purchase.amount12),amount18:eval(this.purchase.amount18),invoiceNo:this.purchase.invoiceNo,completed:0},(function(e){e?alert("Data could not be Inserted."+e):alert("Data Inserted successfully.")})),this.purchase=JSON.parse(JSON.stringify(this.purchaseInt))):"Sales"==text?(_firebase_app__WEBPACK_IMPORTED_MODULE_0___default.a.database().ref("sales/"+this.salesDate).set({date:this.salesDate,salesAmt12:eval(this.salesAmt12)>0?eval(this.salesAmt12):0,salesAmt18:eval(this.salesAmt18)>0?eval(this.salesAmt18):0,completed:0},(function(e){e?alert("Data could not be Inserted."+e):alert("Data Inserted successfully.")})),this.salesDate="",this.salesAmt12="",this.salesAmt18=""):(_firebase_app__WEBPACK_IMPORTED_MODULE_0___default.a.database().ref("sales/"+this.salesGstInvoiceno+"-"+this.salesGstDate).set({name:this.salesGstCustomer,invoiceNo:this.salesGstInvoiceno,date:this.salesGstDate,amount12:eval(this.salesGstAmt12)>0?eval(this.salesGstAmt12):0,amount18:eval(this.salesGstAmt18)>0?eval(this.salesGstAmt18):0,completed:0},(function(e){e?alert("Data could not be Inserted."+e):alert("Data Inserted successfully.")})),this.salesGstCustomer="",this.salesGstInvoiceno="",this.salesGstDate="",this.salesGstAmt12="",this.salesGstAmt18="")}}},SeVD:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("HDdC"),i=n("ngJS"),o=n("a7t3"),s=n("pLzU"),a=n("CRDf"),l=n("I55L"),u=n("c2HN"),c=n("XoHu"),h=n("Lhse"),d=n("kJWO");const p=e=>{if(e instanceof r.a)return t=>e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t);if(e&&"function"==typeof e[d.a])return Object(a.a)(e);if(Object(l.a)(e))return Object(i.a)(e);if(Object(u.a)(e))return Object(o.a)(e);if(e&&"function"==typeof e[h.a])return Object(s.a)(e);{const t=Object(c.a)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}}},SpAZ:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},VRyK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return Object(i.a)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(t)(Object(s.a)(e,n))}},Wcq6:function(e,t,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;e.exports=i},XNiG:function(e,t,n){"use strict";var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp");class a extends o.a{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}var l=n("2QA8");n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c}));class u extends i.a{constructor(e){super(e),this.destination=e}}let c=(()=>{class e extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.a](){return new u(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new s.a;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new s.a;return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.isStopped?(e.complete(),o.a.EMPTY):(this.observers.push(e),new a(this,e))}asObservable(){const e=new r.a;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends c{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):o.a.EMPTY}}},XoHu:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},ZUHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("51Dv"),i=n("SeVD");function o(e,t,n,o,s=new r.a(e,n,o)){if(!s.closed)return Object(i.a)(t)(s)}},a7t3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("NJ4a");const i=e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,r.a),t)},bGQr:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("wj3C"),i=n.n(r),o=(n("NSPt"),n("8Y7J"));let s=(()=>{class e{constructor(){}getDealers(){let e=[];return i.a.database().ref("dealers").on("child_added",(function(t){e.push(t.key)})),e}getCustomers(){let e=[];return i.a.database().ref("customers").on("child_added",(function(t){e.push(t.key)})),e}getExcelObject(){let e=[],t=[],n=[],r=[],o=[],s=[],a=0,l=0,u=[];return u[7]=0,u[6]=0,i.a.database().ref("purchase").once("value").then((function(n){n.forEach((function(n){let r=n.val(),o=[];!function e(t,n){for(let r in t)if(t.hasOwnProperty(r)){if("object"!=typeof t[r])return void n.push(t);e(t[r],n)}}(r,o);for(let s=0;s<o.length;s++){if(0!=o[s].amount18&&!o[s].completed){let t=o[s].amount18/1.18,n=(o[s].amount18-t)/2;n=Math.floor(n),t=Math.floor(t);let r="0";i.a.database().ref("dealers/"+o[s].company).once("value").then((function(i){r=i.val().gstNo,e.push({InvoiceDate:o[s].date,Name:o[s].company,"GST/TIN":r,InvoiceNo:o[s].invoiceNo,Value:t,percentage:"18","State Tax":n,"Central Tax":n,Amount:o[s].amount18})}))}if(0!=o[s].amount12&&!o[s].completed){let e=o[s].amount12/1.12,n=(o[s].amount12-e)/2;n=Math.floor(n),e=Math.floor(e);let r="0";i.a.database().ref("dealers/"+o[s].company).once("value").then((function(i){r=i.val().gstNo,t.push({InvoiceDate:o[s].date,Name:o[s].company,"GST/TIN":r,InvoiceNo:o[s].invoiceNo,Value:e,percentage:"12","State Tax":n,"Central Tax":n,Amount:o[s].amount12})}))}}}))})),i.a.database().ref("sales").orderByChild("date").once("value").then((function(e){e.forEach((function(e){if(e.val().invoiceNo&&e.val().amount12&&!e.val().completed){let t=1.12,n=e.val().amount12/t,o=(e.val().amount12-n)/2;o=Math.floor(o),n=Math.floor(n);let a="0",l="0";i.a.database().ref("customers/"+e.val().name).once("value").then((function(t){a=t.val().gstNo,l=t.val().phoneNo,r.push({InvoiceDate:e.val().date,Name:e.val().name,"GST/TIN":a,"Phone Number":l,InvoiceNo:e.val().invoiceNo,Value:n,percentage:"12","State Tax":o,"Central Tax":o,Amount:e.val().amount12}),s.push({InvoiceDate:e.val().date,Name:e.val().name,"GST/TIN":a,"Phone Number":l,InvoiceNo:e.val().invoiceNo,Value:n,percentage:"12","State Tax":o,"Central Tax":o,Amount:e.val().amount12})}))}if(e.val().invoiceNo&&e.val().amount18&&!e.val().completed){let t=1.18,r=e.val().amount18/t,s=(e.val().amount18-r)/2;s=Math.floor(s),r=Math.floor(r);let a="0",l="0";i.a.database().ref("customers/"+e.val().name).once("value").then((function(t){a=t.val().gstNo,l=t.val().phoneNo,n.push({InvoiceDate:e.val().date,Name:e.val().name,"GST/TIN":a,"Phone Number":l,"Invoice No":e.val().invoiceNo,Value:r,percentage:"18","State Tax":s,"Central Tax":s,Amount:e.val().amount18}),o.push({InvoiceDate:e.val().date,Name:e.val().name,"GST/TIN":a,"Phone Number":l,"Invoice No":e.val().invoiceNo,Value:r,percentage:"18","State Tax":s,"Central Tax":s,Amount:e.val().amount18})}))}e.val().salesAmt12&&0!=e.val().salesAmt12&&!e.val().completed&&(r.push({InvoiceDate:e.val().date,Name:"By Sale","GST/TIN":" ","Phone Number":" ","Invoice No":" ",Value:" ",percentage:"12","State Tax":" ","Central Tax":" ",Amount:e.val().salesAmt12}),a+=parseInt(e.val().salesAmt12),u[6]=a),e.val().salesAmt18&&0!=e.val().salesAmt18&&!e.val().completed&&(n.push({InvoiceDate:e.val().date,Name:"By Sale","GST/TIN":" ","Phone Number":" ","Invoice No":" ",Value:" ",percentage:"18","State Tax":" ","Central Tax":" ",Amount:e.val().salesAmt18}),l+=parseInt(e.val().salesAmt18),u[7]=l)}))})),u[0]=t,u[1]=e,u[2]=r,u[3]=n,u[4]=s,u[5]=o,u}}return e.ngInjectableDef=o.Jb({factory:function(){return new e},token:e,providedIn:"root"}),e})()},bHdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(e=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,e)}},c2HN:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},gRHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(e){},error(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete(){}}},kJWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}},lJxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}class o{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new s(e,this.project,this.thisArg))}}class s extends r.a{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},mCNh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("KqfI");function i(...e){return o(e)}function o(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:r.a}},mrSG:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return c})),n.d(t,"__generator",(function(){return h})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return f})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return m})),n.d(t,"__await",(function(){return _})),n.d(t,"__asyncGenerator",(function(){return v})),n.d(t,"__asyncDelegator",(function(){return y})),n.d(t,"__asyncValues",(function(){return b})),n.d(t,"__makeTemplateObject",(function(){return w})),n.d(t,"__importStar",(function(){return C})),n.d(t,"__importDefault",(function(){return E}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function l(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof _?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function l(e){a("next",e)}function u(e){a("throw",e)}function c(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}},n6bG:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},ngJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}},pLzU:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Lhse");const i=e=>t=>{const n=e[r.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t}},"q/0M":function(e,t,n){"use strict";n.r(t),n.d(t,"LogLevel",(function(){return i})),n.d(t,"Logger",(function(){return a})),n.d(t,"setLogLevel",(function(){return l}));var r=[],i=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),o=i.INFO,s=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},a=function(){function e(e){this.name=e,this._logLevel=o,this._logHandler=s,r.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.ERROR].concat(e))},e}();function l(e){r.forEach((function(t){t.logLevel=e}))}},quSY:function(e,t,n){"use strict";var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");function s(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}s.prototype=Object.create(Error.prototype);const a=s;n.d(t,"a",(function(){return l}));let l=(()=>{class e{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:n,_parents:s,_unsubscribe:l,_subscriptions:c}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let h=-1,d=s?s.length:0;for(;n;)n.remove(this),n=++h<d&&s[h]||null;if(Object(o.a)(l))try{l.call(this)}catch(p){t=!0,e=p instanceof a?u(p.errors):[p]}if(Object(r.a)(c))for(h=-1,d=c.length;++h<d;){const n=c[h];if(Object(i.a)(n))try{n.unsubscribe()}catch(p){t=!0,e=e||[],p instanceof a?e=e.concat(u(p.errors)):e.push(p)}}if(t)throw new a(e)}add(t){let n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;(n=new e)._subscriptions=[t]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){const e=this._subscriptions;e?e.push(n):this._subscriptions=[n]}return n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}_addParent(e){let{_parent:t,_parents:n}=this;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function u(e){return e.reduce((e,t)=>e.concat(t instanceof a?t.errors:t),[])}},w1tV:function(e,t,n){"use strict";var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),s=n("quSY");function a(){return function(e){return e.lift(new l(e))}}class l{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new u(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class u extends o.a{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const c=class extends i.a{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.a).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed?(this._connection=null,e=s.a.EMPTY):this._connection=e),e}refCount(){return a()(this)}}.prototype,h={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}};class d extends r.b{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function p(){return new r.a}function f(){return e=>a()(function(e,t){return function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r}}(p)(e))}n.d(t,"a",(function(){return f}))},wj3C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("mrSG"),o=n("zVF4"),s=n("q/0M"),a=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),l=new o.ErrorFactory("app","Firebase",a),u="[DEFAULT]",c=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.services_={},this.tokenListeners_=[],this.analyticsEventRequests_=[],this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(e);var i=this;this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){r.tokenListeners_.push(e),setTimeout((function(){return e(null)}),0)},removeAuthTokenListener:function(e){r.tokenListeners_=r.tokenListeners_.filter((function(t){return t!==e}))},analytics:{logEvent:function(){i.analyticsEventRequests_.push(arguments)}}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],n=0,r=Object.keys(e.services_);n<r.length;n++)for(var i=r[n],o=0,s=Object.keys(e.services_[i]);o<s.length;o++)t.push(e.services_[i][s[o]]);return Promise.all(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))})).then((function(){e.isDeleted_=!0,e.services_={}}))},e.prototype._getService=function(e,t){if(void 0===t&&(t=u),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==u?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=u),this.services_[e]&&this.services_[e][t]&&delete this.services_[e][t]},e.prototype.extendApp=function(e){if(o.deepExtend(this,e),e.INTERNAL){if(e.INTERNAL.addAuthTokenListener){for(var t=0,n=this.tokenListeners_;t<n.length;t++)this.INTERNAL.addAuthTokenListener(n[t]);this.tokenListeners_=[]}if(e.INTERNAL.analytics){for(var r=0,i=this.analyticsEventRequests_;r<i.length;r++)this.INTERNAL.analytics.logEvent.apply(void 0,i[r]);this.analyticsEventRequests_=[]}}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();c.prototype.name&&c.prototype.options||c.prototype.delete||console.log("dc");var h=new s.Logger("@firebase/app");if(o.isBrowser()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var d=self.firebase.SDK_VERSION;d&&d.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var p=function e(){var t=function(e){var t={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var s=r;void 0===s.name&&(s.name=u);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(o.contains(t,a))throw l.create("duplicate-app",{appName:a});var h=new e(n,s,i);return t[a]=h,c(h,"create"),h},app:s,apps:null,SDK_VERSION:"7.0.0",INTERNAL:{registerService:function(t,u,c,d,p){if(void 0===p&&(p=!1),n[t])return h.debug("There were multiple attempts to register service "+t+"."),i[t];function f(e){if(void 0===e&&(e=s()),"function"!=typeof e[t])throw l.create("invalid-app-argument",{appName:t});return e[t]()}return n[t]=u,d&&(r[t]=d,a().forEach((function(e){d("create",e)}))),void 0!==c&&o.deepExtend(f,c),i[t]=f,e.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._getService.bind(this,t);return r.apply(this,p?e:[])},f},removeApp:function(e){c(t[e],"delete"),delete t[e]},factories:n,useAsService:d}};function s(e){if(!o.contains(t,e=e||u))throw l.create("no-app",{appName:e});return t[e]}function a(){return Object.keys(t).map((function(e){return t[e]}))}function c(e,t){for(var i=0,o=Object.keys(n);i<o.length;i++){var s=d(0,o[i]);if(null===s)return;r[s]&&r[s](t,e)}}function d(e,t){return"serverAuth"===t?null:t}return i.default=i,Object.defineProperty(i,"apps",{get:a}),s.App=e,i}(c);return t.INTERNAL=i.__assign({},t.INTERNAL,{createFirebaseNamespace:e,extendNamespace:function(e){o.deepExtend(t,e)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),t}(),f=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.isNode()&&h.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),f.apply(void 0,e)};var g=p;t.default=g,t.firebase=g},yCtX:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY"),o=n("ngJS");function s(e,t){return new r.a(t?n=>{const r=new i.a;let o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:Object(o.a)(e))}},"z+Ro":function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},zUnb:function(e,t,n){"use strict";n.r(t);var r=n("8Y7J");const i={production:!1,firebasex:{apiKey:"AIzaSyDyY7mhCcOII5I3gO4r4R1v-vgr0ez4naw",authDomain:"dadproject-1ea10.firebaseapp.com",databaseURL:"https://dadproject-1ea10.firebaseio.com",projectId:"dadproject-1ea10",storageBucket:"dadproject-1ea10.appspot.com",messagingSenderId:"371800043381",appId:"1:371800043381:web:7cba2eabc46e8077a66d3c"}};class o{}var s=n("wj3C"),a=n.n(s);n("NSPt");class l{constructor(){this.title="dadProject",a.a.initializeApp(i.firebasex)}}class u{}const c=new r.o("Location Initialized");class h{}const d=new r.o("appBaseHref");class p{constructor(e,t){this._subject=new r.m,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=p.stripTrailingSlash(f(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+p.normalizeQueryParams(t))}normalize(e){return p.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,f(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+p.normalizeQueryParams(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+p.normalizeQueryParams(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}function f(e){return e.replace(/\/index.html$/,"")}class g extends h{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=p.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+p.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+p.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class m extends h{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return p.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+p.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+p.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+p.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const _=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),v=r.rb,y=new r.o("UseV4Plurals");class b{}class w extends b{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):v(t||this.locale)(e)){case _.Zero:return"zero";case _.One:return"one";case _.Two:return"two";case _.Few:return"few";case _.Many:return"many";default:return"other"}}}class C{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class E{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){Object(r.T)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new C(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new S(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new S(e,i);t.push(o)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}class S{constructor(e,t){this.record=e,this.view=t}}class T{constructor(e,t){this._viewContainer=e,this._context=new A,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){x("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){x("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class A{constructor(){this.$implicit=null,this.ngIf=null}}function x(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Object(r.Db)(t)}'.`)}class N{}const I=new r.o("DocumentToken"),O="server";function k(e){return e===O}let D=(()=>{class e{}return e.ngInjectableDef=Object(r.Jb)({token:e,providedIn:"root",factory:()=>new R(Object(r.Kb)(I),window,Object(r.Kb)(r.l))}),e})();class R{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector(`#${e}`);if(t)return void this.scrollToElement(t);const n=this.document.querySelector(`[name='${e}']`);if(n)return void this.scrollToElement(n)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}var P=n("z+Ro"),M=n("yCtX"),F=n("HDdC");const L=new F.a(e=>e.complete());function V(e){return e?function(e){return new F.a(t=>e.schedule(()=>t.complete()))}(e):L}function j(e){const t=new F.a(t=>{t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}function U(...e){let t=e[e.length-1];switch(Object(P.a)(t)?e.pop():t=void 0,e.length){case 0:return V(t);case 1:return t?Object(M.a)(e,t):j(e[0]);default:return Object(M.a)(e,t)}}var q=n("Cfvw"),H=n("XNiG"),B=n("9ppp");class W extends H.a{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new B.a;return this._value}next(e){super.next(this._value=e)}}function z(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}z.prototype=Object.create(Error.prototype);const Q=z;var $=n("DH7j"),G=n("l7GE"),K=n("ZUHj");const Y={};class Z{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new J(e,this.resultSelector))}}class J extends G.a{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Y),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(Object(K.a)(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,r,i){const o=this.values,s=this.toRespond?o[n]===Y?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function X(e){return new F.a(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(q.a)(n):V()).subscribe(t)})}var ee=n("lJxs"),te=n("bHdf");function ne(){return Object(te.a)(1)}var re=n("7o/Q");function ie(e,t){return function(n){return n.lift(new oe(e,t))}}class oe{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new se(e,this.predicate,this.thisArg))}}class se extends re.a{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function ae(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}ae.prototype=Object.create(Error.prototype);const le=ae;function ue(e){return function(t){return 0===e?V():t.lift(new ce(e))}}class ce{constructor(e){if(this.total=e,this.total<0)throw new le}call(e,t){return t.subscribe(new he(e,this.total))}}class he extends re.a{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}var de=n("KqfI"),pe=n("n6bG");function fe(e,t,n){return function(r){return r.lift(new ge(e,t,n))}}class ge{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new me(e,this.nextOrObserver,this.error,this.complete))}}class me extends re.a{constructor(e,t,n,r){super(e),this._tapNext=de.a,this._tapError=de.a,this._tapComplete=de.a,this._tapError=n||de.a,this._tapComplete=r||de.a,Object(pe.a)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||de.a,this._tapError=t.error||de.a,this._tapComplete=t.complete||de.a)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}const _e=(e=ve)=>fe({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw e()}});function ve(){return new Q}function ye(e=null){return t=>t.lift(new be(e))}class be{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new we(e,this.defaultValue))}}class we extends re.a{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ce=n("SpAZ");function Ee(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ie((t,n)=>e(t,n,r)):Ce.a,ue(1),n?ye(t):_e(()=>new Q))}var Se=n("51Dv");function Te(e){return function(t){const n=new Ae(e),r=t.lift(n);return n.caught=r}}class Ae{constructor(e){this.selector=e}call(e,t){return t.subscribe(new xe(e,this.selector,this.caught))}}class xe extends G.a{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new Se.a(this,void 0,void 0);this.add(r),Object(K.a)(this,n,void 0,void 0,r)}}}function Ne(e){return t=>0===e?V():t.lift(new Ie(e))}class Ie{constructor(e){if(this.total=e,this.total<0)throw new le}call(e,t){return t.subscribe(new Oe(e,this.total))}}class Oe extends re.a{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function ke(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ie((t,n)=>e(t,n,r)):Ce.a,Ne(1),n?ye(t):_e(()=>new Q))}var De=n("5+tZ");class Re{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new Pe(e,this.predicate,this.thisArg,this.source))}}class Pe extends re.a{constructor(e,t,n,r){super(e),this.predicate=t,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Me(e,t){return"function"==typeof t?n=>n.pipe(Me((n,r)=>Object(q.a)(e(n,r)).pipe(Object(ee.a)((e,i)=>t(n,e,r,i))))):t=>t.lift(new Fe(e))}class Fe{constructor(e){this.project=e}call(e,t){return t.subscribe(new Le(e,this.project))}}class Le extends G.a{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}_innerSub(e,t,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new Se.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(K.a)(this,e,t,n,i)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,r,i){this.destination.next(t)}}function Ve(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new je(e,t,n))}}class je{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new Ue(e,this.accumulator,this.seed,this.hasSeed))}}class Ue extends re.a{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function qe(e,t){return Object(De.a)(e,t,1)}var He=n("mCNh"),Be=n("quSY");class We{constructor(e){this.callback=e}call(e,t){return t.subscribe(new ze(e,this.callback))}}class ze extends re.a{constructor(e,t){super(e),this.add(new Be.a(t))}}let Qe=null;function $e(){return Qe}class Ge{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}class Ke extends Ge{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(t).forEach(n=>{null!=this.getStyle(e,n)&&(this._transitionEnd=t[n])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const Ye={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Ze=3,Je={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xe={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},et=(()=>{if(r.sb.Node)return r.sb.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class tt extends Ke{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new tt,Qe||(Qe=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return Ye}contains(e,t){return et.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const r=this.getStyle(e,t)||"";return n?r==n:r.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,r){e.setAttributeNS(t,n,r)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===Ze&&Xe.hasOwnProperty(t)&&(t=Xe[t]))}return Je[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=rt||(rt=document.querySelector("base"))?rt.getAttribute("href"):null;return null==t?null:(n=t,nt||(nt=document.createElement("a")),nt.setAttribute("href",n),"/"===nt.pathname.charAt(0)?nt.pathname:"/"+nt.pathname);var n}resetBaseElement(){rt=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let nt,rt=null;function it(){return!!window.history.pushState}const ot=new r.o("TRANSITION_ID"),st=[{provide:r.d,useFactory:function(e,t,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=$e();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[ot,I,r.p],multi:!0}];class at{static init(){Object(r.V)(new at)}addToWindow(e){r.sb.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.sb.getAllAngularTestabilities=()=>e.getAllTestabilities(),r.sb.getAllAngularRootElements=()=>e.getAllRootElements(),r.sb.frameworkStabilizers||(r.sb.frameworkStabilizers=[]),r.sb.frameworkStabilizers.push(e=>{const t=r.sb.getAllAngularTestabilities();let n=t.length,i=!1;const o=function(t){i=i||t,0==--n&&e(i)};t.forEach((function(e){e.whenStable(o)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?$e().isShadowRoot(t)?this.findTestabilityInTree(e,$e().getHost(t),!0):this.findTestabilityInTree(e,$e().parentElement(t),!0):null}}function lt(e,t){"undefined"!=typeof COMPILED&&COMPILED||((r.sb.ng=r.sb.ng||{})[e]=t)}const ut=(()=>({ApplicationRef:r.g,NgZone:r.x}))();function ct(e){return Object(r.S)(e)}const ht=new r.o("EventManagerPlugins");class dt{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}class pt{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=$e().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}class ft{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}class gt extends ft{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>$e().remove(e))}}const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},_t=/%COMP%/g,vt="_nghost-%COMP%",yt="_ngcontent-%COMP%";function bt(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?bt(e,i,n):(i=i.replace(_t,e),n.push(i))}return n}function wt(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class Ct{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Et(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.N.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new At(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case r.N.Native:case r.N.ShadowDom:return new xt(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=bt(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Et{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(mt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=mt[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=mt[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&r.D.DashCase?e.style.setProperty(t,n,i&r.D.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&r.D.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){Tt(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return Tt(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,wt(n)):this.eventManager.addEventListener(e,t,wt(n))}}const St=(()=>"@".charCodeAt(0))();function Tt(e,t){if(e.charCodeAt(0)===St)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class At extends Et{constructor(e,t,n,r){super(e),this.component=n;const i=bt(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr=yt.replace(_t,r+"-"+n.id),this.hostAttr=vt.replace(_t,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class xt extends Et{constructor(e,t,n,i){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.N.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=bt(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const e=document.createElement("style");e.textContent=o[r],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const Nt=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e})(),It=Nt("addEventListener"),Ot=Nt("removeEventListener"),kt={},Dt="FALSE",Rt="ANGULAR",Pt="addEventListener",Mt="removeEventListener",Ft="__zone_symbol__propagationStopped",Lt="__zone_symbol__stopImmediatePropagation",Vt=(()=>{const e="undefined"!=typeof Zone&&Zone[Nt("BLACK_LISTED_EVENTS")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),jt=function(e){return!!Vt&&Vt.hasOwnProperty(e)},Ut=function(e){const t=kt[e.type];if(!t)return;const n=this[t];if(!n)return;const r=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[Ft];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}}};class qt extends pt{constructor(e,t,n){super(e),this.ngZone=t,n&&k(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[Lt])return;const e=Event.prototype[Lt]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Ft]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){let i=n;if(!e[It]||r.x.isInAngularZone()&&!jt(t))e[Pt](t,i,!1);else{let n=kt[t];n||(n=kt[t]=Nt(Rt+t+Dt));let r=e[n];const o=r&&r.length>0;r||(r=e[n]=[]);const s=jt(t)?Zone.root:Zone.current;if(0===r.length)r.push({zone:s,handler:i});else{let e=!1;for(let t=0;t<r.length;t++)if(r[t].handler===i){e=!0;break}e||r.push({zone:s,handler:i})}o||e[It](t,Ut,!1)}return()=>this.removeEventListener(e,t,i)}removeEventListener(e,t,n){let r=e[Ot];if(!r)return e[Mt].apply(e,[t,n,!1]);let i=kt[t],o=i&&e[i];if(!o)return e[Mt].apply(e,[t,n,!1]);let s=!1;for(let a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&r.apply(e,[t,Ut,!1]):e[Mt].apply(e,[t,n,!1])}}const Ht={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Bt=new r.o("HammerGestureConfig"),Wt=new r.o("HammerLoader");class zt{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}class Qt extends pt{constructor(e,t,n,r){super(e),this._config=t,this.console=n,this.loader=r}supports(e){return!(!Ht.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(e,t,n){const r=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(e),o=function(e){r.runGuarded((function(){n(e)}))};return i.on(t,o),()=>{i.off(t,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}const $t=["alt","control","meta","shift"],Gt={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class Kt extends pt{constructor(e){super(e)}supports(e){return null!=Kt.parseEventName(e)}addEventListener(e,t,n){const r=Kt.parseEventName(t),i=Kt.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$e().onAndCancel(e,r.domEventName,i))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const r=Kt._normalizeKey(t.pop());let i="";if($t.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),i+=e+".")}),i+=r,0!=t.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=i,o}static getEventFullKey(e){let t="",n=$e().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),$t.forEach(r=>{r!=n&&(0,Gt[r])(e)&&(t+=r+".")}),t+=n}static eventCallback(e,t,n){return r=>{Kt.getEventFullKey(r)===e&&n.runGuarded(()=>t(r))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}class Yt{}class Zt extends Yt{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case r.F.NONE:return t;case r.F.HTML:return t instanceof Xt?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),Object(r.bb)(this._doc,String(t)));case r.F.STYLE:return t instanceof en?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),Object(r.cb)(t));case r.F.SCRIPT:if(t instanceof tn)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case r.F.URL:return t instanceof rn||t instanceof nn?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),Object(r.db)(String(t)));case r.F.RESOURCE_URL:if(t instanceof rn)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof Jt)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new Xt(e)}bypassSecurityTrustStyle(e){return new en(e)}bypassSecurityTrustScript(e){return new tn(e)}bypassSecurityTrustUrl(e){return new nn(e)}bypassSecurityTrustResourceUrl(e){return new rn(e)}}class Jt{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class Xt extends Jt{getTypeName(){return"HTML"}}class en extends Jt{getTypeName(){return"Style"}}class tn extends Jt{getTypeName(){return"Script"}}class nn extends Jt{getTypeName(){return"URL"}}class rn extends Jt{getTypeName(){return"ResourceURL"}}const on=[{provide:r.z,useValue:"browser"},{provide:r.A,useValue:function(){tt.makeCurrent(),at.init()},multi:!0},{provide:u,useClass:class extends u{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=$e().getLocation(),this._history=$e().getHistory()}getBaseHrefFromDOM(){return $e().getBaseHref(this._doc)}onPopState(e){$e().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){$e().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){it()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){it()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[I]},{provide:I,useFactory:function(){return document},deps:[]}],sn=Object(r.P)(r.U,"browser",on);function an(){return new r.l}class ln{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:ln,providers:[{provide:r.c,useValue:e.appId},{provide:ot,useExisting:r.c},st]}}}"undefined"!=typeof window&&window;class un{constructor(e,t){this.id=e,this.url=t}}class cn extends un{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hn extends un{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dn extends un{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pn extends un{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fn extends un{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gn extends un{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mn extends un{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _n extends un{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vn extends un{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yn{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bn{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wn{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cn{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class En{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sn{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tn{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class An{}const xn="primary";class Nn{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function In(e){return new Nn(e)}const On="ngNavigationCancelingError";function kn(e){const t=Error("NavigationCancelingError: "+e);return t[On]=!0,t}function Dn(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const t=r[o],n=e[o];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}class Rn{constructor(e,t){this.routes=e,this.module=t}}function Pn(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];Mn(r,Fn(t,r))}}function Mn(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==xn)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&Pn(e.children,t)}function Fn(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Ln(e){const t=e.children&&e.children.map(Ln),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==xn&&(n.component=An),n}function Vn(e,t){const n=Object.keys(e),r=Object.keys(t);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(e[i=n[o]]!==t[i])return!1;return!0}function jn(e){return Array.prototype.concat.apply([],e)}function Un(e){return e.length>0?e[e.length-1]:null}function qn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Hn(e){return Object(r.vb)(e)?e:Object(r.wb)(e)?Object(q.a)(Promise.resolve(e)):U(e)}function Bn(e,t,n){return n?function(e,t){return Vn(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!$n(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!$n(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!$n(n.segments,i))return!1;for(const t in r.children){if(!n.children[t])return!1;if(!e(n.children[t],r.children[t]))return!1}return!0}{const e=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!$n(n.segments,e)&&!!n.children[xn]&&t(n.children[xn],r,o)}}(t,n,n.segments)}(e.root,t.root)}class Wn{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=In(this.queryParams)),this._queryParamMap}toString(){return Zn.serialize(this)}}class zn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,qn(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jn(this)}}class Qn{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=In(this.parameters)),this._parameterMap}toString(){return ir(this)}}function $n(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function Gn(e,t){let n=[];return qn(e.children,(e,r)=>{r===xn&&(n=n.concat(t(e,r)))}),qn(e.children,(e,r)=>{r!==xn&&(n=n.concat(t(e,r)))}),n}class Kn{}class Yn{parse(e){const t=new ur(e);return new Wn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${function e(t,n){if(!t.hasChildren())return Jn(t);if(n){const n=t.children[xn]?e(t.children[xn],!1):"",r=[];return qn(t.children,(t,n)=>{n!==xn&&r.push(`${n}:${e(t,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Gn(t,(n,r)=>r===xn?[e(t.children[xn],!1)]:[`${r}:${e(n,!1)}`]);return`${Jn(t)}/(${n.join("//")})`}}(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${er(t)}=${er(e)}`).join("&"):`${er(t)}=${er(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Zn=new Yn;function Jn(e){return e.segments.map(e=>ir(e)).join("/")}function Xn(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function er(e){return Xn(e).replace(/%3B/gi,";")}function tr(e){return Xn(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nr(e){return decodeURIComponent(e)}function rr(e){return nr(e.replace(/\+/g,"%20"))}function ir(e){return`${tr(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${tr(e)}=${tr(t[e])}`).join("")}`;var t}const or=/^[^\/()?;=#]+/;function sr(e){const t=e.match(or);return t?t[0]:""}const ar=/^[^=?&#]+/,lr=/^[^?&#]+/;class ur{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zn([],{}):new zn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[xn]=new zn(e,t)),n}parseSegment(){const e=sr(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Qn(nr(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=sr(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=sr(this.remaining);e&&this.capture(n=e)}e[nr(t)]=nr(n)}parseQueryParam(e){const t=function(e){const t=e.match(ar);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(lr);return t?t[0]:""}(this.remaining);e&&this.capture(n=e)}const r=rr(t),i=rr(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(e[r]=t=[t]),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=sr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=xn);const o=this.parseChildren();t[i]=1===Object.keys(o).length?o[xn]:new zn([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class cr{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=hr(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=hr(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=dr(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return dr(e,this._root).map(e=>e.value)}}function hr(e,t){if(e===t.value)return t;for(const n of t.children){const t=hr(e,n);if(t)return t}return null}function dr(e,t){if(e===t.value)return[t];for(const n of t.children){const r=dr(e,n);if(r.length)return r.unshift(t),r}return[]}class pr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function fr(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class gr extends cr{constructor(e,t){super(e),this.snapshot=t,wr(this,e)}toString(){return this.snapshot.toString()}}function mr(e,t){const n=function(e,t){const n=new yr([],{},{},"",{},xn,t,null,e.root,-1,{});return new br("",new pr(n,[]))}(e,t),r=new W([new Qn("",{})]),i=new W({}),o=new W({}),s=new W({}),a=new W(""),l=new _r(r,i,s,a,o,xn,t,n.root);return l.snapshot=n.root,new gr(new pr(l,[]),n)}class _r{constructor(e,t,n,r,i,o,s,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ee.a)(e=>In(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ee.a)(e=>In(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vr(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class yr{constructor(e,t,n,r,i,o,s,a,l,u,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=In(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=In(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class br extends cr{constructor(e,t){super(t),this.url=e,wr(this,t)}toString(){return Cr(this._root)}}function wr(e,t){t.value._routerState=e,t.children.forEach(t=>wr(e,t))}function Cr(e){const t=e.children.length>0?` { ${e.children.map(Cr).join(", ")} } `:"";return`${e.value}${t}`}function Er(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Vn(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Vn(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Vn(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Vn(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Sr(e,t){var n,r;return Vn(e.params,t.params)&&$n(n=e.url,r=t.url)&&n.every((e,t)=>Vn(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||Sr(e.parent,t.parent))}function Tr(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ar(e,t,n,r,i){let o={};return r&&qn(r,(e,t)=>{o[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Wn(n.root===e?t:function e(t,n,r){const i={};return qn(t.children,(t,o)=>{i[o]=t===n?r:e(t,n,r)}),new zn(t.segments,i)}(n.root,e,t),o,i)}class xr{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Tr(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(r&&r!==Un(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nr{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Ir(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[xn]:`${e}`}function Or(e,t,n){if(e||(e=new zn([],{})),0===e.segments.length&&e.hasChildren())return kr(e,t,n);const r=function(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const t=e.segments[i],s=Ir(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!Mr(s,a,t))return o;r+=2}else{if(!Mr(s,{},t))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new zn(e.segments.slice(0,r.pathIndex),{});return t.children[xn]=new zn(e.segments.slice(r.pathIndex),e.children),kr(t,0,i)}return r.match&&0===i.length?new zn(e.segments,{}):r.match&&!e.hasChildren()?Dr(e,t,n):r.match?kr(e,0,i):Dr(e,t,n)}function kr(e,t,n){if(0===n.length)return new zn(e.segments,{});{const r=function(e){return"object"!=typeof e[0]?{[xn]:e}:void 0===e[0].outlets?{[xn]:e}:e[0].outlets}(n),i={};return qn(r,(n,r)=>{null!==n&&(i[r]=Or(e.children[r],t,n))}),qn(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new zn(e.segments,i)}}function Dr(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const e=Rr(n[i].outlets);return new zn(r,e)}if(0===i&&Tr(n[0])){r.push(new Qn(e.segments[t].path,n[0])),i++;continue}const o=Ir(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&Tr(s)?(r.push(new Qn(o,Pr(s))),i+=2):(r.push(new Qn(o,{})),i++)}return new zn(r,{})}function Rr(e){const t={};return qn(e,(e,n)=>{null!==e&&(t[n]=Dr(new zn([],{}),0,e))}),t}function Pr(e){const t={};return qn(e,(e,n)=>t[n]=`${e}`),t}function Mr(e,t,n){return e==n.path&&Vn(t,n.parameters)}const Fr=(e,t,n)=>Object(ee.a)(r=>(new Lr(t,r.targetRouterState,r.currentRouterState,n).activate(e),r));class Lr{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Er(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=fr(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),qn(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const r=fr(e),i=e.value.component?n.children:t;qn(r,(e,t)=>this.deactivateRouteAndItsChildren(e,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const r=fr(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Sn(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Cn(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(Er(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Vr(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Vr(e){Er(e.value),e.children.forEach(Vr)}function jr(e){return"function"==typeof e}function Ur(e){return e instanceof Wn}class qr{constructor(e){this.segmentGroup=e||null}}class Hr{constructor(e){this.urlTree=e}}function Br(e){return new F.a(t=>t.error(new qr(e)))}function Wr(e){return new F.a(t=>t.error(new Hr(e)))}function zr(e){return new F.a(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Qr{constructor(e,t,n,i,o){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(r.v)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,xn).pipe(Object(ee.a)(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Te(e=>{if(e instanceof Hr)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof qr)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,xn).pipe(Object(ee.a)(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Te(e=>{if(e instanceof qr)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new zn([],{[xn]:e}):e;return new Wn(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(ee.a)(e=>new zn([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return U({});const n=[],r=[],i={};return qn(e,(e,o)=>{const s=t(o,e).pipe(Object(ee.a)(e=>i[o]=e));o===xn?n.push(s):r.push(s)}),U.apply(null,n.concat(r)).pipe(ne(),Ee(),Object(ee.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(e,t,r,n))}expandSegment(e,t,n,r,i,o){return U(...n).pipe(Object(ee.a)(s=>this.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(Te(e=>{if(e instanceof qr)return U(null);throw e}))),ne(),ke(e=>!!e),Te((e,n)=>{if(e instanceof Q||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,r,i))return U(new zn([],{}));throw new qr(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,r,i,o,s){return Yr(r)!==o?Br(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Br(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Wr(i):this.lineralizeSegments(n,i).pipe(Object(De.a)(n=>{const i=new zn(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:u}=$r(t,r,i);if(!s)return Br(t);const c=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Wr(c):this.lineralizeSegments(r,c).pipe(Object(De.a)(r=>this.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)))}matchSegmentAgainstRoute(e,t,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(ee.a)(e=>(n._loadedConfig=e,new zn(r,{})))):U(new zn(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=$r(t,n,r);if(!i)return Br(t);const a=r.slice(s);return this.getChildConfig(e,n,r).pipe(Object(De.a)(e=>{const n=e.module,r=e.routes,{segmentGroup:i,slicedSegments:s}=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some(n=>Kr(e,t,n)&&Yr(n)!==xn)}(e,n,r)?{segmentGroup:Gr(new zn(t,function(e,t){const n={};n[xn]=t;for(const r of e)""===r.path&&Yr(r)!==xn&&(n[Yr(r)]=new zn([],{}));return n}(r,new zn(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>Kr(e,t,n))}(e,n,r)?{segmentGroup:Gr(new zn(e.segments,function(e,t,n,r){const i={};for(const o of n)Kr(e,t,o)&&!r[Yr(o)]&&(i[Yr(o)]=new zn([],{}));return Object.assign({},r,i)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(ee.a)(e=>new zn(o,e))):0===r.length&&0===s.length?U(new zn(o,{})):this.expandSegment(n,i,r,s,xn,!0).pipe(Object(ee.a)(e=>new zn(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?U(new Rn(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?U(t._loadedConfig):function(e,t,n){const r=t.canLoad;return r&&0!==r.length?Object(q.a)(r).pipe(Object(ee.a)(r=>{const i=e.get(r);let o;if(function(e){return e&&jr(e.canLoad)}(i))o=i.canLoad(t,n);else{if(!jr(i))throw new Error("Invalid CanLoad guard");o=i(t,n)}return Hn(o)})).pipe(ne(),(i=e=>!0===e,e=>e.lift(new Re(i,void 0,e)))):U(!0);var i}(e.injector,t,n).pipe(Object(De.a)(n=>n?this.configLoader.load(e.injector,t).pipe(Object(ee.a)(e=>(t._loadedConfig=e,e))):function(e){return new F.a(t=>t.error(kn(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):U(new Rn([],e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return U(n);if(r.numberOfChildren>1||!r.children[xn])return zr(e.redirectTo);r=r.children[xn]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new Wn(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return qn(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let o={};return qn(t.children,(t,i)=>{o[i]=this.createSegmentGroup(e,t,n,r)}),new zn(i,o)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function $r(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(t.matcher||Dn)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Gr(e){if(1===e.numberOfChildren&&e.children[xn]){const t=e.children[xn];return new zn(e.segments.concat(t.segments),t.children)}return e}function Kr(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Yr(e){return e.outlet||xn}class Zr{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Jr{constructor(e,t){this.component=e,this.route=t}}function Xr(e,t,n){const r=e._root;return function e(t,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=fr(n);return t.children.forEach(t=>{!function(t,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,a=n?n.value:null,l=r?r.getContext(t.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!$n(e.url,t.url);case"pathParamsOrQueryParamsChange":return!$n(e.url,t.url)||!Vn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sr(e,t)||!Vn(e.queryParams,t.queryParams);case"paramsChange":default:return!Sr(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Zr(i)):(s.data=a.data,s._resolvedData=a._resolvedData),e(t,n,s.component?l?l.children:null:r,i,o),u&&o.canDeactivateChecks.push(new Jr(l&&l.outlet&&l.outlet.component||null,a))}else a&&ti(n,l,o),o.canActivateChecks.push(new Zr(i)),e(t,null,s.component?l?l.children:null:r,i,o)}(t,s[t.value.outlet],r,i.concat([t.value]),o),delete s[t.value.outlet]}),qn(s,(e,t)=>ti(e,r.getContext(t),o)),o}(r,t?t._root:null,n,[r.value])}function ei(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function ti(e,t,n){const r=fr(e),i=e.value;qn(r,(e,r)=>{ti(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new Jr(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}const ni=Symbol("INITIAL_VALUE");function ri(){return Me(e=>(function(...e){let t=null,n=null;return Object(P.a)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object($.a)(e[0])&&(e=e[0]),Object(M.a)(e,n).lift(new Z(t))})(...e.map(e=>e.pipe(Ne(1),function(...e){return t=>{let n=e[e.length-1];Object(P.a)(n)?e.pop():n=null;const r=e.length;return function(...e){return ne()(U(...e))}(1!==r||n?r>0?Object(M.a)(e,n):V(n):j(e[0]),t)}}(ni)))).pipe(Ve((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==ni)return e;if(r===ni&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Ur(r))return r}return e},e)},ni),ie(e=>e!==ni),Object(ee.a)(e=>Ur(e)?e:!0===e),Ne(1)))}function ii(e,t){return null!==e&&t&&t(new En(e)),U(!0)}function oi(e,t){return null!==e&&t&&t(new wn(e)),U(!0)}function si(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?U(r.map(r=>X(()=>{const i=ei(r,t,n);let o;if(function(e){return e&&jr(e.canActivate)}(i))o=Hn(i.canActivate(t,e));else{if(!jr(i))throw new Error("Invalid CanActivate guard");o=Hn(i(t,e))}return o.pipe(ke())}))).pipe(ri()):U(!0)}function ai(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>(function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null})(e)).filter(e=>null!==e).map(t=>X(()=>U(t.guards.map(i=>{const o=ei(i,t.node,n);let s;if(function(e){return e&&jr(e.canActivateChild)}(o))s=Hn(o.canActivateChild(r,e));else{if(!jr(o))throw new Error("Invalid CanActivateChild guard");s=Hn(o(r,e))}return s.pipe(ke())})).pipe(ri())));return U(i).pipe(ri())}class li{}class ui{constructor(e,t,n,r,i,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const e=di(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,xn),n=new yr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new pr(n,t),i=new br(this.url,r);return this.inheritParamsAndData(i._root),U(i)}catch(e){return new F.a(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=vr(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=Gn(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),r=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${r}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>e.value.outlet===xn?-1:t.value.outlet===xn?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,r){for(const o of e)try{return this.processSegmentAgainstRoute(o,t,n,r)}catch(i){if(!(i instanceof li))throw i}if(this.noLeftoversInUrl(t,n,r))return[];throw new li}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo)throw new li;if((e.outlet||xn)!==r)throw new li;let i,o=[],s=[];if("**"===e.path){const o=n.length>0?Un(n).parameters:{};i=new yr(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gi(e),r,e.component,e,ci(t),hi(t)+n.length,mi(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new li;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(t.matcher||Dn)(n,e,t);if(!r)throw new li;const i={};qn(r.posParams,(e,t)=>{i[t]=e.path});const o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new yr(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gi(e),r,e.component,e,ci(t),hi(t)+o.length,mi(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:u}=di(t,o,s,a,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const e=this.processChildren(a,l);return[new pr(i,e)]}if(0===a.length&&0===u.length)return[new pr(i,[])];const c=this.processSegment(a,l,u,xn);return[new pr(i,c)]}}function ci(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function hi(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function di(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some(n=>pi(e,t,n)&&fi(n)!==xn)}(e,n,r)){const i=new zn(t,function(e,t,n,r){const i={};i[xn]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&fi(o)!==xn){const n=new zn([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[fi(o)]=n}return i}(e,t,r,new zn(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>pi(e,t,n))}(e,n,r)){const o=new zn(e.segments,function(e,t,n,r,i,o){const s={};for(const a of r)if(pi(e,n,a)&&!i[fi(a)]){const n=new zn([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[fi(a)]=n}return Object.assign({},i,s)}(e,t,n,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const o=new zn(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function pi(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function fi(e){return e.outlet||xn}function gi(e){return e.data||{}}function mi(e){return e.resolve||{}}function _i(e,t,n,r){const i=ei(e,t,r);return Hn(i.resolve?i.resolve(t,n):i(t,n))}function vi(e){return function(t){return t.pipe(Me(t=>{const n=e(t);return n?Object(q.a)(n).pipe(Object(ee.a)(()=>t)):Object(q.a)([t])}))}}class yi{}class bi{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const wi=new r.o("ROUTES");class Ci{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(ee.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new Rn(jn(r.injector.get(wi)).map(Ln),r)}))}loadModuleFactory(e){return"string"==typeof e?Object(q.a)(this.loader.load(e)):Hn(e()).pipe(Object(De.a)(e=>e instanceof r.t?U(e):Object(q.a)(this.compiler.compileModuleAsync(e))))}}class Ei{}class Si{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Ti(e){throw e}function Ai(e,t,n){return t.parse("/")}function xi(e,t){return U(null)}class Ni{constructor(e,t,n,i,o,s,a,l){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new H.a,this.errorHandler=Ti,this.malformedUriErrorHandler=Ai,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:xi,afterPreactivation:xi},this.urlHandlingStrategy=new Si,this.routeReuseStrategy=new bi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.v),this.console=o.get(r.Y);const u=o.get(r.x);this.isNgZoneEnabled=u instanceof r.x,this.resetConfig(l),this.currentUrlTree=new Wn(new zn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ci(s,a,e=>this.triggerEvent(new yn(e)),e=>this.triggerEvent(new bn(e))),this.routerState=mr(this.currentUrlTree,this.rootComponentType),this.transitions=new W({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(ie(e=>0!==e.id),Object(ee.a)(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Me(e=>{let n=!1,r=!1;return U(e).pipe(fe(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Me(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return U(e).pipe(Me(e=>{const n=this.transitions.getValue();return t.next(new cn(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?L:[e]}),Me(e=>Promise.resolve(e)),function(e,t,n,r){return function(i){return i.pipe(Me(i=>(function(e,t,n,r,i){return new Qr(e,t,n,r,i).apply()})(e,t,n,i.extractedUrl,r).pipe(Object(ee.a)(e=>Object.assign({},i,{urlAfterRedirects:e})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),fe(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return function(o){return o.pipe(Object(De.a)(o=>(function(e,t,n,r,i="emptyOnly",o="legacy"){return new ui(e,t,n,r,i,o).recognize()})(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(ee.a)(e=>Object.assign({},o,{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),fe(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),fe(e=>{const n=new fn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=e,a=new cn(n,this.serializeUrl(r),i,o);t.next(a);const l=mr(r,this.rootComponentType).snapshot;return U(Object.assign({},e,{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),L}),vi(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),fe(e=>{const t=new gn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Object(ee.a)(e=>Object.assign({},e,{guards:Xr(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(Object(De.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?U(Object.assign({},n,{guardsResult:!0})):function(e,t,n,r){return Object(q.a)(e).pipe(Object(De.a)(e=>(function(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?U(o.map(o=>{const s=ei(o,t,i);let a;if(function(e){return e&&jr(e.canDeactivate)}(s))a=Hn(s.canDeactivate(e,t,n,r));else{if(!jr(s))throw new Error("Invalid CanDeactivate guard");a=Hn(s(e,t,n,r))}return a.pipe(ke())})).pipe(ri()):U(!0)})(e.component,e.route,n,t,r)),ke(e=>!0!==e,!0))}(s,r,i,e).pipe(Object(De.a)(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return Object(q.a)(t).pipe(qe(t=>Object(q.a)([oi(t.route.parent,r),ii(t.route,r),ai(e,t.path,n),si(e,t.route,n)]).pipe(ne(),ke(e=>!0!==e,!0))),ke(e=>!0!==e,!0))}(r,o,e,t):U(n)),Object(ee.a)(e=>Object.assign({},n,{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),fe(e=>{if(Ur(e.guardsResult)){const t=kn(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),fe(e=>{const t=new mn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),ie(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new dn(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),vi(e=>{if(e.guards.canActivateChecks.length)return U(e).pipe(fe(e=>{const t=new _n(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),function(e,t){return function(n){return n.pipe(Object(De.a)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?Object(q.a)(i).pipe(qe(n=>(function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return U({});if(1===i.length){const o=i[0];return _i(e[o],t,n,r).pipe(Object(ee.a)(e=>({[o]:e})))}const o={};return Object(q.a)(i).pipe(Object(De.a)(i=>_i(e[i],t,n,r).pipe(Object(ee.a)(e=>(o[i]=e,e))))).pipe(Ee(),Object(ee.a)(()=>o))}(e._resolve,e,t,r).pipe(Object(ee.a)(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,vr(e,n).resolve),null)))})(n.route,r,e,t)),function(e,t){return arguments.length>=2?function(n){return Object(He.a)(Ve(e,t),ue(1),ye(t))(n)}:function(t){return Object(He.a)(Ve((t,n,r)=>e(t,n,r+1)),ue(1))(t)}}((e,t)=>e),Object(ee.a)(e=>n)):U(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),fe(e=>{const t=new vn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),vi(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(ee.a)(e=>{const t=function(e,t,n){const r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(t,n,r){return n.children.map(n=>{for(const i of r.children)if(t.shouldReuseRoute(i.value.snapshot,n.value))return e(t,n,i);return e(t,n)})}(t,n,r);return new pr(i,o)}{const r=t.retrieve(n.value);if(r){const e=r.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,e),e}{const r=new _r(new W((i=n.value).url),new W(i.params),new W(i.queryParams),new W(i.fragment),new W(i.data),i.outlet,i.component,i),o=n.children.map(n=>e(t,n));return new pr(r,o)}}var i}(e,t._root,n?n._root:void 0);return new gr(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),fe(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Fr(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),fe({next(){n=!0},complete(){n=!0}}),function(e){return t=>t.lift(new We(e))}(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new dn(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),Te(n=>{if(r=!0,function(e){return e&&e[On]}(n)){const r=Ur(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new dn(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),e.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new pn(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(i){e.reject(i)}}return L}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Pn(e),this.config=e.map(Ln),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:l}=t;Object(r.T)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=l?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,r,i){if(0===n.length)return Ar(t.root,t.root,t,r,i);const o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new xr(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return qn(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new xr(n,t,r)}(n);if(o.toRoot())return Ar(t.root,new zn([],{}),t,r,i);const s=function(e,t,n){if(e.isAbsolute)return new Nr(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Nr(n.snapshot._urlSegment,!0,0);const r=Tr(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Nr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?kr(s.segmentGroup,s.index,o.commands):Or(s.segmentGroup,s.index,o.commands);return Ar(s.segmentGroup,a,t,r,i)}(u,this.currentUrlTree,e,h,c)}navigateByUrl(e,t={skipLocationChange:!1}){Object(r.T)()&&this.isNgZoneEnabled&&!r.x.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Ur(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(Ur(e))return Bn(this.currentUrlTree,e,t);const n=this.parseUrl(e);return Bn(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new hn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r){const i=this.getTransition();if(i&&"imperative"!==t&&"imperative"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"hashchange"==t&&"popstate"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"popstate"==t&&"hashchange"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);let o=null,s=null;const a=new Promise((e,t)=>{o=e,s=t}),l=++this.navigationId;return this.setTransition({id:l,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Ii{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Object(r.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:ki(this.skipLocationChange),replaceUrl:ki(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ki(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ki(this.preserveFragment)})}}class Oi{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof hn&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Object(r.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:ki(this.skipLocationChange),replaceUrl:ki(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ki(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ki(this.preserveFragment)})}}function ki(e){return""===e||!!e}class Di{constructor(e,t,n,r,i){this.router=e,this.element=t,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe(e=>{e instanceof hn&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(e=>this.update()),this.linksWithHrefs.changes.subscribe(e=>this.update()),this.update()}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){return t=>e.isActive(t.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}class Ri{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Pi,this.attachRef=null}}class Pi{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ri,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Mi{constructor(e,t,n,i,o){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.m,this.deactivateEvents=new r.m,this.name=i||xn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Fi(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class Fi{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===_r?this.route:e===Pi?this.childContexts:this.parent.get(e,t)}}class Li{}class Vi{preload(e,t){return t().pipe(Te(()=>U(null)))}}class ji{preload(e,t){return U(null)}}class Ui{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new Ci(t,n,t=>e.triggerEvent(new yn(t)),t=>e.triggerEvent(new bn(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(ie(e=>e instanceof hn),qe(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.v);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return Object(q.a)(n).pipe(Object(te.a)(),Object(ee.a)(e=>void 0))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(Object(De.a)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}class qi{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof cn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof hn&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Tn&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Tn(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Hi=new r.o("ROUTER_CONFIGURATION"),Bi=new r.o("ROUTER_FORROOT_GUARD"),Wi=[p,{provide:Kn,useClass:Yn},{provide:Ni,useFactory:Zi,deps:[r.g,Kn,Pi,p,r.p,r.u,r.i,wi,Hi,[Ei,new r.y],[yi,new r.y]]},Pi,{provide:_r,useFactory:Ji,deps:[Ni]},{provide:r.u,useClass:r.H},Ui,ji,Vi,{provide:Hi,useValue:{enableTracing:!1}}];function zi(){return new r.w("Router",Ni)}class Qi{constructor(e,t){}static forRoot(e,t){return{ngModule:Qi,providers:[Wi,Yi(e),{provide:Bi,useFactory:Ki,deps:[[Ni,new r.y,new r.G]]},{provide:Hi,useValue:t||{}},{provide:h,useFactory:Gi,deps:[u,[new r.n(d),new r.y],Hi]},{provide:qi,useFactory:$i,deps:[Ni,D,Hi]},{provide:Li,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:ji},{provide:r.w,multi:!0,useFactory:zi},[Xi,{provide:r.d,multi:!0,useFactory:eo,deps:[Xi]},{provide:no,useFactory:to,deps:[Xi]},{provide:r.b,multi:!0,useExisting:no}]]}}static forChild(e){return{ngModule:Qi,providers:[Yi(e)]}}}function $i(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new qi(e,t,n)}function Gi(e,t,n={}){return n.useHash?new g(e,t):new m(e,t)}function Ki(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Yi(e){return[{provide:r.a,multi:!0,useValue:e},{provide:wi,multi:!0,useValue:e}]}function Zi(e,t,n,r,i,o,s,a,l={},u,c){const h=new Ni(null,t,n,r,i,o,s,jn(a));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const e=$e();h.events.subscribe(t=>{e.logGroup(`Router Event: ${t.constructor.name}`),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function Ji(e){return e.routerState.root}class Xi{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new H.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Ni),r=this.injector.get(Hi);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?U(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(Hi),n=this.injector.get(Ui),i=this.injector.get(qi),o=this.injector.get(Ni),s=this.injector.get(r.g);e===s.components[0]&&(this.isLegacyEnabled(t)?o.initialNavigation():this.isLegacyDisabled(t)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}function eo(e){return e.appInitializer.bind(e)}function to(e){return e.bootstrapListener.bind(e)}const no=new r.o("Router Initializer");var ro=r.nb({encapsulation:2,styles:[],data:{}});function io(e){return r.Fb(0,[(e()(),r.pb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ob(1,212992,null,0,Mi,[Pi,r.M,r.j,[8,null],r.h],null,null)],(function(e,t){e(t,1,0)}),null)}function oo(e){return r.Fb(0,[(e()(),r.pb(0,0,null,null,1,"ng-component",[],null,null,null,io,ro)),r.ob(1,49152,null,0,An,[],null,null)],null,null)}var so=r.lb("ng-component",An,oo,{},{},[]);class ao extends G.a{constructor(e,t){super(e),this.sources=t,this.completed=0,this.haveValues=0;const n=t.length;this.values=new Array(n);for(let r=0;r<n;r++){const e=t[r],n=Object(K.a)(this,e,null,r);n&&this.add(n)}}notifyNext(e,t,n,r,i){this.values[n]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)}notifyComplete(e){const{destination:t,haveValues:n,values:r}=this,i=r.length;e._hasValue?(this.completed++,this.completed===i&&(n===i&&t.next(r),t.complete())):t.complete()}}const lo=new r.o("NgValueAccessor"),uo=new r.o("CompositionEventMode");class co{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=$e()?$e().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}class ho{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class po extends ho{get formDirective(){return null}get path(){return null}}function fo(){throw new Error("unimplemented")}class go extends ho{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return fo()}get asyncValidator(){return fo()}}class mo{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class _o extends mo{constructor(e){super(e)}}function vo(e){return null==e||0===e.length}const yo=new r.o("NgValidators"),bo=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wo{static min(e){return t=>{if(vo(t.value)||vo(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(vo(t.value)||vo(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return vo(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return vo(e.value)?null:bo.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(vo(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return wo.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(vo(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(Co);return 0==t.length?null:function(e){return So(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(Co);return 0==t.length?null:function(e){return function e(...t){let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object($.a)(t[0])&&(t=t[0]),0===t.length?L:n?e(t).pipe(Object(ee.a)(e=>n(...e))):new F.a(e=>new ao(e,t))}(function(e,t){return t.map(t=>t(e))}(e,t).map(Eo)).pipe(Object(ee.a)(So))}}}function Co(e){return null!=e}function Eo(e){const t=Object(r.wb)(e)?Object(q.a)(e):e;if(!Object(r.vb)(t))throw new Error("Expected validator to return Promise or Observable.");return t}function So(e){const t=e.reduce((e,t)=>null!=t?Object.assign({},e,t):e,{});return 0===Object.keys(t).length?null:t}function To(e){return e.validate?t=>e.validate(t):e}function Ao(e){return e.validate?t=>e.validate(t):e}class xo{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}const No={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};function Io(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class Oo{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=r.xb}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Io(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}class ko{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Io(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function Do(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class Ro{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Do(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Do(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function Po(e,t){return[...t.path,e]}function Mo(e,t){e||Lo(t,"Cannot find control with"),t.valueAccessor||Lo(t,"No value accessor for form control with"),e.validator=wo.compose([e.validator,t.validator]),e.asyncValidator=wo.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Fo(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Fo(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function Fo(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Lo(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function Vo(e){return null!=e?wo.compose(e.map(To)):null}function jo(e){return null!=e?wo.composeAsync(e.map(Ao)):null}const Uo=[class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},Oo,class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=r.xb}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),i=this._getOptionValue(r.value);n.push(i)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},class{constructor(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(go),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}],qo="VALID",Ho="INVALID",Bo="PENDING",Wo="DISABLED";function zo(e){const t=$o(e)?e.validators:e;return Array.isArray(t)?Vo(t):t||null}function Qo(e,t){const n=$o(t)?t.asyncValidators:e;return Array.isArray(n)?jo(n):n||null}function $o(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Go{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===qo}get invalid(){return this.status===Ho}get pending(){return this.status==Bo}get disabled(){return this.status===Wo}get enabled(){return this.status!==Wo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=zo(e)}setAsyncValidators(e){this.asyncValidator=Qo(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Bo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wo,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=qo,this._forEachChild(t=>{t.enable(Object.assign({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==qo&&this.status!==Bo||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wo:qo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Bo;const t=Eo(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((e,t)=>e instanceof Yo?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof Zo&&e.at(t)||null,e))}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.m,this.statusChanges=new r.m}_calculateStatus(){return this._allControlsDisabled()?Wo:this.errors?Ho:this._anyControlsHaveStatus(Bo)?Bo:this._anyControlsHaveStatus(Ho)?Ho:qo}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$o(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Ko extends Go{constructor(e=null,t,n){super(zo(t),Qo(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Yo extends Go{constructor(e,t,n){super(zo(t),Qo(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof Ko?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,r)=>{t=t||this.contains(r)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Zo extends Go{constructor(e,t,n){super(zo(t),Qo(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Ko?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Jo=(()=>Promise.resolve(null))();class Xo extends po{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.m,this.form=new Yo({},Vo(e),jo(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Jo.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),Mo(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Jo.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),function(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this._directives,e)})}addFormGroup(e){Jo.then(()=>{const t=this._findContainer(e.path),n=new Yo({});(function(e,t){null==e&&Lo(t,"Cannot find control with"),e.validator=wo.compose([e.validator,t.validator]),e.asyncValidator=wo.composeAsync([e.asyncValidator,t.asyncValidator])})(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Jo.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){Jo.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}class es{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${No.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${No.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${No.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${No.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${No.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${No.ngModelGroup}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const ts=new r.o("NgFormSelectorWarning");class ns extends po{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Po(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Vo(this._validators)}get asyncValidator(){return jo(this._asyncValidators)}_checkParentType(){}}class rs extends ns{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){this._parent instanceof rs||this._parent instanceof Xo||es.modelGroupParentException()}}const is=(()=>Promise.resolve(null))();class os extends go{constructor(e,t,n,i){super(),this.control=new Ko,this._registered=!1,this.update=new r.m,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||Lo(e,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return t.forEach(t=>{t.constructor===co?n=t:function(e){return Uo.some(t=>e.constructor===t)}(t)?(r&&Lo(e,"More than one built-in value accessor matches form control with"),r=t):(i&&Lo(e,"More than one custom value accessor matches form control with"),i=t)}),i||r||n||(Lo(e,"No valid value accessor for form control with"),null)}(this,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object(r.xb)(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Po(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Vo(this._rawValidators)}get asyncValidator(){return jo(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof rs)&&this._parent instanceof ns?es.formGroupNameException():this._parent instanceof rs||this._parent instanceof Xo||es.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||es.missingNameException()}_updateValue(e){is.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;is.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}const ss=new r.o("NgModelWithFormControlWarning");class as{get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!==`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?wo.required(e):null}registerOnValidatorChange(e){this._onChange=e}}class ls{}class us{group(e,t=null){const n=this._reduceControls(e);let r=null,i=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new Yo(n,{asyncValidators:i,updateOn:o,validators:r})}control(e,t,n){return new Ko(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new Zo(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof Ko||e instanceof Yo||e instanceof Zo?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}class cs{static withConfig(e){return{ngModule:cs,providers:[{provide:ts,useValue:e.warnOnDeprecatedNgFormSelector}]}}}class hs{static withConfig(e){return{ngModule:hs,providers:[{provide:ss,useValue:e.warnOnNgModelWithFormControl}]}}}var ds=n("bGQr"),ps=n("RFxB"),fs=r.nb({encapsulation:0,styles:[[".fluid-container[_ngcontent-%COMP%]{margin:20px;width:30%}.container[_ngcontent-%COMP%]{margin:20px}button[_ngcontent-%COMP%]{margin:10px}"]],data:{}});function gs(e){return r.Fb(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,ko,[r.k,r.B,[2,Oo]],{value:[0,"value"]},null),r.ob(2,147456,null,0,Ro,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Eb(3,null,["",""]))],(function(e,t){e(t,1,0,r.tb(1,"",t.context.$implicit,"")),e(t,2,0,r.tb(1,"",t.context.$implicit,""))}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function ms(e){return r.Fb(0,[(e()(),r.pb(0,0,null,null,26,"div",[["class","container"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Company:"])),(e()(),r.pb(4,0,null,null,7,"input",[["class","form-control"],["name","company"],["placeholder","Enter Name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Ab(e,5)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Ab(e,5).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Ab(e,5)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Ab(e,5)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.purchaseNew.company=n)&&i),i}),null,null)),r.ob(5,16384,null,0,co,[r.B,r.k,[2,uo]],null,null),r.ob(6,16384,null,0,as,[],{required:[0,"required"]},null),r.Bb(1024,null,yo,(function(e){return[e]}),[as]),r.Bb(1024,null,lo,(function(e){return[e]}),[co]),r.ob(9,671744,null,0,os,[[8,null],[6,yo],[8,null],[6,lo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,go,null,[os]),r.ob(11,16384,null,0,_o,[[4,go]],null,null),(e()(),r.pb(12,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),r.pb(13,0,null,null,1,"label",[["for","gst"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Gst No:"])),(e()(),r.pb(15,0,null,null,7,"input",[["class","form-control"],["name","gst_no"],["placeholder","Enter GST NO"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Ab(e,16)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Ab(e,16).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Ab(e,16)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Ab(e,16)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.purchaseNew.gstNo=n)&&i),i}),null,null)),r.ob(16,16384,null,0,co,[r.B,r.k,[2,uo]],null,null),r.ob(17,16384,null,0,as,[],{required:[0,"required"]},null),r.Bb(1024,null,yo,(function(e){return[e]}),[as]),r.Bb(1024,null,lo,(function(e){return[e]}),[co]),r.ob(20,671744,null,0,os,[[8,null],[6,yo],[8,null],[6,lo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,go,null,[os]),r.ob(22,16384,null,0,_o,[[4,go]],null,null),(e()(),r.pb(23,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.saveDealersCustomersDetails("Dealers")&&r),r}),null,null)),(e()(),r.Eb(-1,null,["Add New Company"])),(e()(),r.pb(25,0,null,null,1,"button",[["class","btn btn-danger"],["type","cancel"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==(e.component.showAddDealerDiv="false")&&r),r}),null,null)),(e()(),r.Eb(-1,null,["Cancel"]))],(function(e,t){var n=t.component;e(t,6,0,""),e(t,9,0,"company",n.purchaseNew.company),e(t,17,0,""),e(t,20,0,"gst_no",n.purchaseNew.gstNo)}),(function(e,t){e(t,4,0,r.Ab(t,6).required?"":null,r.Ab(t,11).ngClassUntouched,r.Ab(t,11).ngClassTouched,r.Ab(t,11).ngClassPristine,r.Ab(t,11).ngClassDirty,r.Ab(t,11).ngClassValid,r.Ab(t,11).ngClassInvalid,r.Ab(t,11).ngClassPending),e(t,15,0,r.Ab(t,17).required?"":null,r.Ab(t,22).ngClassUntouched,r.Ab(t,22).ngClassTouched,r.Ab(t,22).ngClassPristine,r.Ab(t,22).ngClassDirty,r.Ab(t,22).ngClassValid,r.Ab(t,22).ngClassInvalid,r.Ab(t,22).ngClassPending)}))}function _s(e){return r.Fb(0,[(e()(),r.pb(0,0,null,null,46,"div",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,1,"label",[["for","date"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Date:"])),(e()(),r.pb(4,0,null,null,7,"input",[["class","form-control"],["name","date"],["placeholder","Enter Date"],["required",""],["style","width:280px;"],["type","date"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Ab(e,5)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Ab(e,5).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Ab(e,5)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Ab(e,5)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.purchase.date=n)&&i),i}),null,null)),r.ob(5,16384,null,0,co,[r.B,r.k,[2,uo]],null,null),r.ob(6,16384,null,0,as,[],{required:[0,"required"]},null),r.Bb(1024,null,yo,(function(e){return[e]}),[as]),r.Bb(1024,null,lo,(function(e){return[e]}),[co]),r.ob(9,671744,null,0,os,[[8,null],[6,yo],[8,null],[6,lo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,go,null,[os]),r.ob(11,16384,null,0,_o,[[4,go]],null,null),(e()(),r.pb(12,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),r.pb(13,0,null,null,1,"label",[["for","invoiceno"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Invoice No:"])),(e()(),r.pb(15,0,null,null,7,"input",[["class","form-control"],["name","invoiceno"],["placeholder","Enter Invoice No"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Ab(e,16)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Ab(e,16).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Ab(e,16)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Ab(e,16)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.purchase.invoiceNo=n)&&i),i}),null,null)),r.ob(16,16384,null,0,co,[r.B,r.k,[2,uo]],null,null),r.ob(17,16384,null,0,as,[],{required:[0,"required"]},null),r.Bb(1024,null,yo,(function(e){return[e]}),[as]),r.Bb(1024,null,lo,(function(e){return[e]}),[co]),r.ob(20,671744,null,0,os,[[8,null],[6,yo],[8,null],[6,lo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,go,null,[os]),r.ob(22,16384,null,0,_o,[[4,go]],null,null),(e()(),r.pb(23,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),r.pb(24,0,null,null,1,"label",[["for","amt"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Amount 12%:"])),(e()(),r.pb(26,0,null,null,7,"input",[["class","form-control"],["name","amt"],["placeholder","Enter Amount"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Ab(e,27)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Ab(e,27).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Ab(e,27)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Ab(e,27)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.purchase.amount12=n)&&i),i}),null,null)),r.ob(27,16384,null,0,co,[r.B,r.k,[2,uo]],null,null),r.ob(28,16384,null,0,as,[],{required:[0,"required"]},null),r.Bb(1024,null,yo,(function(e){return[e]}),[as]),r.Bb(1024,null,lo,(function(e){return[e]}),[co]),r.ob(31,671744,null,0,os,[[8,null],[6,yo],[8,null],[6,lo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,go,null,[os]),r.ob(33,16384,null,0,_o,[[4,go]],null,null),(e()(),r.pb(34,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),r.pb(35,0,null,null,1,"label",[["for","amt"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Amount 18%:"])),(e()(),r.pb(37,0,null,null,7,"input",[["class","form-control"],["name","amt"],["placeholder","Enter Amount"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Ab(e,38)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Ab(e,38).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Ab(e,38)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Ab(e,38)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.purchase.amount18=n)&&i),i}),null,null)),r.ob(38,16384,null,0,co,[r.B,r.k,[2,uo]],null,null),r.ob(39,16384,null,0,as,[],{required:[0,"required"]},null),r.Bb(1024,null,yo,(function(e){return[e]}),[as]),r.Bb(1024,null,lo,(function(e){return[e]}),[co]),r.ob(42,671744,null,0,os,[[8,null],[6,yo],[8,null],[6,lo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,go,null,[os]),r.ob(44,16384,null,0,_o,[[4,go]],null,null),(e()(),r.pb(45,0,null,null,1,"button",[["class","btn btn-info"],["type","submit"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.saveDetails("Purchase")&&r),r}),null,null)),(e()(),r.Eb(-1,null,["Submit"]))],(function(e,t){var n=t.component;e(t,6,0,""),e(t,9,0,"date",n.purchase.date),e(t,17,0,""),e(t,20,0,"invoiceno",n.purchase.invoiceNo),e(t,28,0,""),e(t,31,0,"amt",n.purchase.amount12),e(t,39,0,""),e(t,42,0,"amt",n.purchase.amount18)}),(function(e,t){e(t,4,0,r.Ab(t,6).required?"":null,r.Ab(t,11).ngClassUntouched,r.Ab(t,11).ngClassTouched,r.Ab(t,11).ngClassPristine,r.Ab(t,11).ngClassDirty,r.Ab(t,11).ngClassValid,r.Ab(t,11).ngClassInvalid,r.Ab(t,11).ngClassPending),e(t,15,0,r.Ab(t,17).required?"":null,r.Ab(t,22).ngClassUntouched,r.Ab(t,22).ngClassTouched,r.Ab(t,22).ngClassPristine,r.Ab(t,22).ngClassDirty,r.Ab(t,22).ngClassValid,r.Ab(t,22).ngClassInvalid,r.Ab(t,22).ngClassPending),e(t,26,0,r.Ab(t,28).required?"":null,r.Ab(t,33).ngClassUntouched,r.Ab(t,33).ngClassTouched,r.Ab(t,33).ngClassPristine,r.Ab(t,33).ngClassDirty,r.Ab(t,33).ngClassValid,r.Ab(t,33).ngClassInvalid,r.Ab(t,33).ngClassPending),e(t,37,0,r.Ab(t,39).required?"":null,r.Ab(t,44).ngClassUntouched,r.Ab(t,44).ngClassTouched,r.Ab(t,44).ngClassPristine,r.Ab(t,44).ngClassDirty,r.Ab(t,44).ngClassValid,r.Ab(t,44).ngClassInvalid,r.Ab(t,44).ngClassPending)}))}function vs(e){return r.Fb(0,[(e()(),r.pb(0,0,null,null,19,"div",[["class","container purchase"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Purchase"])),(e()(),r.pb(3,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),r.pb(4,0,null,null,1,"label",[["for","Company"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Company:"])),(e()(),r.pb(6,0,null,null,7,"select",[["class","selectpicker form-control"],["data-live-search","true"],["data-show-subtext","true"],["name","company"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Ab(e,7).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Ab(e,7).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.purchase.company=n)&&i),i}),null,null)),r.ob(7,16384,null,0,Oo,[r.B,r.k],null,null),r.Bb(1024,null,lo,(function(e){return[e]}),[Oo]),r.ob(9,671744,null,0,os,[[8,null],[8,null],[8,null],[6,lo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,go,null,[os]),r.ob(11,16384,null,0,_o,[[4,go]],null,null),(e()(),r.eb(16777216,null,null,1,null,gs)),r.ob(13,278528,null,0,E,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(14,0,null,null,1,"button",[["class","btn btn-link"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==(e.component.showAddDealerDiv="true")&&r),r}),null,null)),(e()(),r.Eb(-1,null,["Add New Company"])),(e()(),r.eb(16777216,null,null,1,null,ms)),r.ob(17,16384,null,0,T,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.eb(16777216,null,null,1,null,_s)),r.ob(19,16384,null,0,T,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,9,0,"company",n.purchase.company),e(t,13,0,n.dealers),e(t,17,0,"true"===n.showAddDealerDiv),e(t,19,0,"false"===n.showAddDealerDiv)}),(function(e,t){e(t,6,0,r.Ab(t,11).ngClassUntouched,r.Ab(t,11).ngClassTouched,r.Ab(t,11).ngClassPristine,r.Ab(t,11).ngClassDirty,r.Ab(t,11).ngClassValid,r.Ab(t,11).ngClassInvalid,r.Ab(t,11).ngClassPending)}))}function ys(e){return r.Fb(0,[(e()(),r.pb(0,0,null,null,37,"div",[["class","container sales"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Sales"])),(e()(),r.pb(3,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),r.pb(4,0,null,null,1,"label",[["for","Date"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Date:"])),(e()(),r.pb(6,0,null,null,7,"input",[["class","form-control"],["name","date"],["placeholder","Enter Date"],["required",""],["style","width:280px;"],["type","date"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Ab(e,7)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Ab(e,7).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Ab(e,7)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Ab(e,7)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.salesDate=n)&&i),i}),null,null)),r.ob(7,16384,null,0,co,[r.B,r.k,[2,uo]],null,null),r.ob(8,16384,null,0,as,[],{required:[0,"required"]},null),r.Bb(1024,null,yo,(function(e){return[e]}),[as]),r.Bb(1024,null,lo,(function(e){return[e]}),[co]),r.ob(11,671744,null,0,os,[[8,null],[6,yo],[8,null],[6,lo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,go,null,[os]),r.ob(13,16384,null,0,_o,[[4,go]],null,null),(e()(),r.pb(14,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),r.pb(15,0,null,null,1,"label",[["for","amt"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Amount For 12%:"])),(e()(),r.pb(17,0,null,null,7,"input",[["class","form-control"],["name","amt12"],["placeholder","Enter Amount of 12%"],["required",""],["type","text"],["value","0"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Ab(e,18)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Ab(e,18).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Ab(e,18)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Ab(e,18)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.salesAmt12=n)&&i),i}),null,null)),r.ob(18,16384,null,0,co,[r.B,r.k,[2,uo]],null,null),r.ob(19,16384,null,0,as,[],{required:[0,"required"]},null),r.Bb(1024,null,yo,(function(e){return[e]}),[as]),r.Bb(1024,null,lo,(function(e){return[e]}),[co]),r.ob(22,671744,null,0,os,[[8,null],[6,yo],[8,null],[6,lo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,go,null,[os]),r.ob(24,16384,null,0,_o,[[4,go]],null,null),(e()(),r.pb(25,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),r.pb(26,0,null,null,1,"label",[["for","amt"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Amount For 18%:"])),(e()(),r.pb(28,0,null,null,7,"input",[["class","form-control"],["name","amt18"],["placeholder","Enter Amount of 18%"],["required",""],["type","text"],["value","0"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Ab(e,29)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Ab(e,29).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Ab(e,29)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Ab(e,29)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.salesAmt18=n)&&i),i}),null,null)),r.ob(29,16384,null,0,co,[r.B,r.k,[2,uo]],null,null),r.ob(30,16384,null,0,as,[],{required:[0,"required"]},null),r.Bb(1024,null,yo,(function(e){return[e]}),[as]),r.Bb(1024,null,lo,(function(e){return[e]}),[co]),r.ob(33,671744,null,0,os,[[8,null],[6,yo],[8,null],[6,lo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,go,null,[os]),r.ob(35,16384,null,0,_o,[[4,go]],null,null),(e()(),r.pb(36,0,null,null,1,"button",[["class","btn btn-info"],["type","submit"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.saveDetails("Sales")&&r),r}),null,null)),(e()(),r.Eb(-1,null,["Submit"]))],(function(e,t){var n=t.component;e(t,8,0,""),e(t,11,0,"date",n.salesDate),e(t,19,0,""),e(t,22,0,"amt12",n.salesAmt12),e(t,30,0,""),e(t,33,0,"amt18",n.salesAmt18)}),(function(e,t){e(t,6,0,r.Ab(t,8).required?"":null,r.Ab(t,13).ngClassUntouched,r.Ab(t,13).ngClassTouched,r.Ab(t,13).ngClassPristine,r.Ab(t,13).ngClassDirty,r.Ab(t,13).ngClassValid,r.Ab(t,13).ngClassInvalid,r.Ab(t,13).ngClassPending),e(t,17,0,r.Ab(t,19).required?"":null,r.Ab(t,24).ngClassUntouched,r.Ab(t,24).ngClassTouched,r.Ab(t,24).ngClassPristine,r.Ab(t,24).ngClassDirty,r.Ab(t,24).ngClassValid,r.Ab(t,24).ngClassInvalid,r.Ab(t,24).ngClassPending),e(t,28,0,r.Ab(t,30).required?"":null,r.Ab(t,35).ngClassUntouched,r.Ab(t,35).ngClassTouched,r.Ab(t,35).ngClassPristine,r.Ab(t,35).ngClassDirty,r.Ab(t,35).ngClassValid,r.Ab(t,35).ngClassInvalid,r.Ab(t,35).ngClassPending)}))}function bs(e){return r.Fb(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,ko,[r.k,r.B,[2,Oo]],{value:[0,"value"]},null),r.ob(2,147456,null,0,Ro,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Eb(3,null,["",""]))],(function(e,t){e(t,1,0,r.tb(1,"",t.context.$implicit,"")),e(t,2,0,r.tb(1,"",t.context.$implicit,""))}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function ws(e){return r.Fb(0,[(e()(),r.pb(0,0,null,null,37,"div",[["class","container"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Customer:"])),(e()(),r.pb(4,0,null,null,7,"input",[["class","form-control"],["name","name"],["placeholder","Enter Name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Ab(e,5)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Ab(e,5).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Ab(e,5)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Ab(e,5)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.salesGstNew.customer=n)&&i),i}),null,null)),r.ob(5,16384,null,0,co,[r.B,r.k,[2,uo]],null,null),r.ob(6,16384,null,0,as,[],{required:[0,"required"]},null),r.Bb(1024,null,yo,(function(e){return[e]}),[as]),r.Bb(1024,null,lo,(function(e){return[e]}),[co]),r.ob(9,671744,null,0,os,[[8,null],[6,yo],[8,null],[6,lo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,go,null,[os]),r.ob(11,16384,null,0,_o,[[4,go]],null,null),(e()(),r.pb(12,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),r.pb(13,0,null,null,1,"label",[["for","gst"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Gst No:"])),(e()(),r.pb(15,0,null,null,7,"input",[["class","form-control"],["name","gst_no"],["placeholder","Enter GST NO"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Ab(e,16)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Ab(e,16).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Ab(e,16)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Ab(e,16)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.salesGstNew.gst_no=n)&&i),i}),null,null)),r.ob(16,16384,null,0,co,[r.B,r.k,[2,uo]],null,null),r.ob(17,16384,null,0,as,[],{required:[0,"required"]},null),r.Bb(1024,null,yo,(function(e){return[e]}),[as]),r.Bb(1024,null,lo,(function(e){return[e]}),[co]),r.ob(20,671744,null,0,os,[[8,null],[6,yo],[8,null],[6,lo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,go,null,[os]),r.ob(22,16384,null,0,_o,[[4,go]],null,null),(e()(),r.pb(23,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),r.pb(24,0,null,null,1,"label",[["for","gst"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Phone No:"])),(e()(),r.pb(26,0,null,null,7,"input",[["class","form-control"],["name","phone_no"],["placeholder","Enter Phone NO"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Ab(e,27)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Ab(e,27).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Ab(e,27)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Ab(e,27)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.salesGstNew.phone_no=n)&&i),i}),null,null)),r.ob(27,16384,null,0,co,[r.B,r.k,[2,uo]],null,null),r.ob(28,16384,null,0,as,[],{required:[0,"required"]},null),r.Bb(1024,null,yo,(function(e){return[e]}),[as]),r.Bb(1024,null,lo,(function(e){return[e]}),[co]),r.ob(31,671744,null,0,os,[[8,null],[6,yo],[8,null],[6,lo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,go,null,[os]),r.ob(33,16384,null,0,_o,[[4,go]],null,null),(e()(),r.pb(34,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.saveDealersCustomersDetails("Customers")&&r),r}),null,null)),(e()(),r.Eb(-1,null,["Add New Company"])),(e()(),r.pb(36,0,null,null,1,"button",[["class","btn btn-danger"],["type","cancel"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==(e.component.showAddCustomersDiv="false")&&r),r}),null,null)),(e()(),r.Eb(-1,null,["Cancel"]))],(function(e,t){var n=t.component;e(t,6,0,""),e(t,9,0,"name",n.salesGstNew.customer),e(t,17,0,""),e(t,20,0,"gst_no",n.salesGstNew.gst_no),e(t,28,0,""),e(t,31,0,"phone_no",n.salesGstNew.phone_no)}),(function(e,t){e(t,4,0,r.Ab(t,6).required?"":null,r.Ab(t,11).ngClassUntouched,r.Ab(t,11).ngClassTouched,r.Ab(t,11).ngClassPristine,r.Ab(t,11).ngClassDirty,r.Ab(t,11).ngClassValid,r.Ab(t,11).ngClassInvalid,r.Ab(t,11).ngClassPending),e(t,15,0,r.Ab(t,17).required?"":null,r.Ab(t,22).ngClassUntouched,r.Ab(t,22).ngClassTouched,r.Ab(t,22).ngClassPristine,r.Ab(t,22).ngClassDirty,r.Ab(t,22).ngClassValid,r.Ab(t,22).ngClassInvalid,r.Ab(t,22).ngClassPending),e(t,26,0,r.Ab(t,28).required?"":null,r.Ab(t,33).ngClassUntouched,r.Ab(t,33).ngClassTouched,r.Ab(t,33).ngClassPristine,r.Ab(t,33).ngClassDirty,r.Ab(t,33).ngClassValid,r.Ab(t,33).ngClassInvalid,r.Ab(t,33).ngClassPending)}))}function Cs(e){return r.Fb(0,[(e()(),r.pb(0,0,null,null,46,"div",[["class","conatiner"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,1,"label",[["for","invoiceno"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Invoice No:"])),(e()(),r.pb(4,0,null,null,7,"input",[["class","form-control"],["name","invoiceno"],["placeholder","Enter Invoice No"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Ab(e,5)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Ab(e,5).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Ab(e,5)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Ab(e,5)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.salesGstInvoiceno=n)&&i),i}),null,null)),r.ob(5,16384,null,0,co,[r.B,r.k,[2,uo]],null,null),r.ob(6,16384,null,0,as,[],{required:[0,"required"]},null),r.Bb(1024,null,yo,(function(e){return[e]}),[as]),r.Bb(1024,null,lo,(function(e){return[e]}),[co]),r.ob(9,671744,null,0,os,[[8,null],[6,yo],[8,null],[6,lo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,go,null,[os]),r.ob(11,16384,null,0,_o,[[4,go]],null,null),(e()(),r.pb(12,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),r.pb(13,0,null,null,1,"label",[["for","date"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Invoice Date:"])),(e()(),r.pb(15,0,null,null,7,"input",[["class","form-control"],["name","date"],["placeholder","Enter Date"],["required",""],["style","width:280px;"],["type","date"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Ab(e,16)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Ab(e,16).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Ab(e,16)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Ab(e,16)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.salesGstDate=n)&&i),i}),null,null)),r.ob(16,16384,null,0,co,[r.B,r.k,[2,uo]],null,null),r.ob(17,16384,null,0,as,[],{required:[0,"required"]},null),r.Bb(1024,null,yo,(function(e){return[e]}),[as]),r.Bb(1024,null,lo,(function(e){return[e]}),[co]),r.ob(20,671744,null,0,os,[[8,null],[6,yo],[8,null],[6,lo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,go,null,[os]),r.ob(22,16384,null,0,_o,[[4,go]],null,null),(e()(),r.pb(23,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),r.pb(24,0,null,null,1,"label",[["for","amt"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Amount12:"])),(e()(),r.pb(26,0,null,null,7,"input",[["class","form-control"],["name","amt"],["placeholder","Enter Amount 12%"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Ab(e,27)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Ab(e,27).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Ab(e,27)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Ab(e,27)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.salesGstAmt12=n)&&i),i}),null,null)),r.ob(27,16384,null,0,co,[r.B,r.k,[2,uo]],null,null),r.ob(28,16384,null,0,as,[],{required:[0,"required"]},null),r.Bb(1024,null,yo,(function(e){return[e]}),[as]),r.Bb(1024,null,lo,(function(e){return[e]}),[co]),r.ob(31,671744,null,0,os,[[8,null],[6,yo],[8,null],[6,lo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,go,null,[os]),r.ob(33,16384,null,0,_o,[[4,go]],null,null),(e()(),r.pb(34,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),r.pb(35,0,null,null,1,"label",[["for","amt"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Amount18:"])),(e()(),r.pb(37,0,null,null,7,"input",[["class","form-control"],["name","amt"],["placeholder","Enter Amount 18%"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Ab(e,38)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Ab(e,38).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Ab(e,38)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Ab(e,38)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.salesGstAmt18=n)&&i),i}),null,null)),r.ob(38,16384,null,0,co,[r.B,r.k,[2,uo]],null,null),r.ob(39,16384,null,0,as,[],{required:[0,"required"]},null),r.Bb(1024,null,yo,(function(e){return[e]}),[as]),r.Bb(1024,null,lo,(function(e){return[e]}),[co]),r.ob(42,671744,null,0,os,[[8,null],[6,yo],[8,null],[6,lo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,go,null,[os]),r.ob(44,16384,null,0,_o,[[4,go]],null,null),(e()(),r.pb(45,0,null,null,1,"button",[["class","btn btn-info"],["type","submit"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.saveDetails("sales")&&r),r}),null,null)),(e()(),r.Eb(-1,null,["Submit"]))],(function(e,t){var n=t.component;e(t,6,0,""),e(t,9,0,"invoiceno",n.salesGstInvoiceno),e(t,17,0,""),e(t,20,0,"date",n.salesGstDate),e(t,28,0,""),e(t,31,0,"amt",n.salesGstAmt12),e(t,39,0,""),e(t,42,0,"amt",n.salesGstAmt18)}),(function(e,t){e(t,4,0,r.Ab(t,6).required?"":null,r.Ab(t,11).ngClassUntouched,r.Ab(t,11).ngClassTouched,r.Ab(t,11).ngClassPristine,r.Ab(t,11).ngClassDirty,r.Ab(t,11).ngClassValid,r.Ab(t,11).ngClassInvalid,r.Ab(t,11).ngClassPending),e(t,15,0,r.Ab(t,17).required?"":null,r.Ab(t,22).ngClassUntouched,r.Ab(t,22).ngClassTouched,r.Ab(t,22).ngClassPristine,r.Ab(t,22).ngClassDirty,r.Ab(t,22).ngClassValid,r.Ab(t,22).ngClassInvalid,r.Ab(t,22).ngClassPending),e(t,26,0,r.Ab(t,28).required?"":null,r.Ab(t,33).ngClassUntouched,r.Ab(t,33).ngClassTouched,r.Ab(t,33).ngClassPristine,r.Ab(t,33).ngClassDirty,r.Ab(t,33).ngClassValid,r.Ab(t,33).ngClassInvalid,r.Ab(t,33).ngClassPending),e(t,37,0,r.Ab(t,39).required?"":null,r.Ab(t,44).ngClassUntouched,r.Ab(t,44).ngClassTouched,r.Ab(t,44).ngClassPristine,r.Ab(t,44).ngClassDirty,r.Ab(t,44).ngClassValid,r.Ab(t,44).ngClassInvalid,r.Ab(t,44).ngClassPending)}))}function Es(e){return r.Fb(0,[(e()(),r.pb(0,0,null,null,19,"div",[["class","container sales_gst"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Sales GST"])),(e()(),r.pb(3,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),r.pb(4,0,null,null,1,"label",[["for","Customer"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Customer:"])),(e()(),r.pb(6,0,null,null,7,"select",[["class","selectpicker form-control"],["data-live-search","true"],["data-show-subtext","true"],["name","Customer"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Ab(e,7).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Ab(e,7).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.salesGstCustomer=n)&&i),i}),null,null)),r.ob(7,16384,null,0,Oo,[r.B,r.k],null,null),r.Bb(1024,null,lo,(function(e){return[e]}),[Oo]),r.ob(9,671744,null,0,os,[[8,null],[8,null],[8,null],[6,lo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,go,null,[os]),r.ob(11,16384,null,0,_o,[[4,go]],null,null),(e()(),r.eb(16777216,null,null,1,null,bs)),r.ob(13,278528,null,0,E,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(14,0,null,null,1,"button",[["class","btn btn-link"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==(e.component.showAddCustomersDiv="true")&&r),r}),null,null)),(e()(),r.Eb(-1,null,["Add New Customer"])),(e()(),r.eb(16777216,null,null,1,null,ws)),r.ob(17,16384,null,0,T,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.eb(16777216,null,null,1,null,Cs)),r.ob(19,16384,null,0,T,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,9,0,"Customer",n.salesGstCustomer),e(t,13,0,n.customers),e(t,17,0,"true"===n.showAddCustomersDiv),e(t,19,0,"false"===n.showAddCustomersDiv)}),(function(e,t){e(t,6,0,r.Ab(t,11).ngClassUntouched,r.Ab(t,11).ngClassTouched,r.Ab(t,11).ngClassPristine,r.Ab(t,11).ngClassDirty,r.Ab(t,11).ngClassValid,r.Ab(t,11).ngClassInvalid,r.Ab(t,11).ngClassPending)}))}function Ss(e){return r.Fb(0,[(e()(),r.pb(0,0,null,null,33,"div",[["class","fluid-container"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Fill Details"])),(e()(),r.pb(3,0,null,null,24,"div",[["class","container form-group"]],null,null,null,null,null)),(e()(),r.pb(4,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Select:"])),(e()(),r.pb(6,0,null,null,21,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Ab(e,7).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Ab(e,7).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.selectType=n)&&i),i}),null,null)),r.ob(7,16384,null,0,Oo,[r.B,r.k],null,null),r.Bb(1024,null,lo,(function(e){return[e]}),[Oo]),r.ob(9,671744,null,0,os,[[8,null],[8,null],[8,null],[6,lo]],{model:[0,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,go,null,[os]),r.ob(11,16384,null,0,_o,[[4,go]],null,null),(e()(),r.pb(12,0,null,null,3,"option",[["disabled",""],["selected",""]],null,null,null,null,null)),r.ob(13,147456,null,0,ko,[r.k,r.B,[2,Oo]],null,null),r.ob(14,147456,null,0,Ro,[r.k,r.B,[8,null]],null,null),(e()(),r.Eb(-1,null,["Select the Type"])),(e()(),r.pb(16,0,null,null,3,"option",[["value","p"]],null,null,null,null,null)),r.ob(17,147456,null,0,ko,[r.k,r.B,[2,Oo]],{value:[0,"value"]},null),r.ob(18,147456,null,0,Ro,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Eb(-1,null,["Purchase"])),(e()(),r.pb(20,0,null,null,3,"option",[["value","s"]],null,null,null,null,null)),r.ob(21,147456,null,0,ko,[r.k,r.B,[2,Oo]],{value:[0,"value"]},null),r.ob(22,147456,null,0,Ro,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Eb(-1,null,["Sales"])),(e()(),r.pb(24,0,null,null,3,"option",[["value","sg"]],null,null,null,null,null)),r.ob(25,147456,null,0,ko,[r.k,r.B,[2,Oo]],{value:[0,"value"]},null),r.ob(26,147456,null,0,Ro,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Eb(-1,null,["Sale GST"])),(e()(),r.eb(16777216,null,null,1,null,vs)),r.ob(29,16384,null,0,T,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.eb(16777216,null,null,1,null,ys)),r.ob(31,16384,null,0,T,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.eb(16777216,null,null,1,null,Es)),r.ob(33,16384,null,0,T,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,9,0,n.selectType),e(t,17,0,"p"),e(t,18,0,"p"),e(t,21,0,"s"),e(t,22,0,"s"),e(t,25,0,"sg"),e(t,26,0,"sg"),e(t,29,0,"p"===n.selectType),e(t,31,0,"s"===n.selectType),e(t,33,0,"sg"===n.selectType)}),(function(e,t){e(t,6,0,r.Ab(t,11).ngClassUntouched,r.Ab(t,11).ngClassTouched,r.Ab(t,11).ngClassPristine,r.Ab(t,11).ngClassDirty,r.Ab(t,11).ngClassValid,r.Ab(t,11).ngClassInvalid,r.Ab(t,11).ngClassPending)}))}function Ts(e){return r.Fb(0,[(e()(),r.pb(0,0,null,null,2,"app-fill-details",[],null,null,null,Ss,fs)),r.Bb(512,null,ds.a,ds.a,[]),r.ob(2,114688,null,0,ps.a,[ds.a],null,null)],(function(e,t){e(t,2,0)}),null)}var As=r.lb("app-fill-details",ps.a,Ts,{},{},[]);class xs{constructor(e){this.data=e}ngOnInit(){}getData(){let e=[];"purchase"==this.viewFiled?a.a.database().ref(this.viewFiled+"/"+this.searchInvoiceNo+"-"+this.searchDate).once("value").then((function(t){null==t.val()||e.push(t.val())})):"salesGst"==this.viewFiled?a.a.database().ref("sales/"+this.searchInvoiceNo+"-"+this.searchDate).once("value").then((function(t){null==t.val()||e.push(t.val())})):a.a.database().ref("sales/"+this.searchDate).once("value").then((function(t){null==t.val()||e.push(t.val())})),this.tableData=e,this.showTable="Yes",this.searchDate="",this.searchInvoiceNo=""}updateData(){a.a.database().ref(this.viewFiled);for(var e=0;e<this.tableData.length;e++){let t=this.tableData[e],n=a.a.database().ref().child(this.viewFiled);"purchase"==this.viewFiled?n.child(t.invoiceNo+"-"+t.date).update({company:t.company,percentage:t.percentage,amount:t.amount},(function(e){e?alert("Data could not be Updated."+e):alert("Data Updated successfully.")})):"salesGst"==this.viewFiled?n.child(t.invoiceNo+"-"+t.date).update({name:t.name,percentage:t.percentage,amount:t.amount},(function(e){e?alert("Data could not be Updated."+e):alert("Data Updated successfully.")})):n.child(t.date).update({salesAmt12:t.salesAmt12,salesAmt18:t.salesAmt18},(function(e){e?alert("Data could not be Updated."+e):alert("Data Updated successfully.")}))}delete this.tableData,this.showTable="No"}deleteData(e){let t=a.a.database().ref().child(this.viewFiled);"purchase"==this.viewFiled?t.child(this.tableData[e].invoiceNo+"-"+this.tableData[e].date).remove((function(e){e?alert("Data could not be Deleted."+e):alert("Data Deleted successfully.")})):"salesGst"==this.viewFiled?t.child(this.tableData[e].invoiceNo+"-"+this.tableData[e].date).remove((function(e){e?alert("Data could not be Deleted."+e):alert("Data Deleted successfully.")})):t.child(this.tableData[e].date).remove((function(e){e?alert("Data could not be Deleted."+e):alert("Data Deleted successfully.")})),delete this.tableData,this.showTable="No"}}var Ns=r.nb({encapsulation:0,styles:[["button[_ngcontent-%COMP%]{margin-top:10px;margin-right:10px;margin-bottom:10px}.container[_ngcontent-%COMP%]{margin-top:20px}.type[_ngcontent-%COMP%]{margin-left:30px}"]],data:{}});function Is(e){return r.Fb(0,[(e()(),r.pb(0,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Blocked for a month!"]))],null,null)}function Os(e){return r.Fb(0,[(e()(),r.pb(0,0,null,null,2,"app-view-update-delete",[],null,null,null,Is,Ns)),r.Bb(512,null,ds.a,ds.a,[]),r.ob(2,114688,null,0,xs,[ds.a],null,null)],(function(e,t){e(t,2,0)}),null)}var ks=r.lb("app-view-update-delete",xs,Os,{},{},[]);class Ds{constructor(e){this.excelData=[],this.excelData=e.getExcelObject(),console.log(this.excelData)}ngOnInit(){}ConvertToCSV(e,t){let n="object"!=typeof e?JSON.parse(e):e,r="",i="S.No,",o=0;for(let l in e[0])i+=l+",";r+=(i=i.slice(0,-1))+"\r\n";let s=0,a="";for(s=0;s<n.length;s++){a+=s+1;for(let e in n[s])"Amount"==e&&(o+=parseInt(n[s][e])),n[s][e]='="'+n[s][e]+'"',""!=a&&(a+=","),a+=n[s][e];r+=a+"\r\n",a=""}return-1!=t&&-2!=t&&(o+=parseInt(t),r+=s+1+", ,BY SALE, , , , , , , ,"+t,r+="\r\n"),-1==t?(r+="\r\n",r+=", , , , , , ,TOTAL, ,"+o,r+="\r\n"):(r+="\r\n",r+=", , , , , , , ,TOTAL, ,"+o,r+="\r\n"),r}download(e,t){let n;"PURCHASE"==e&&"12"==t?(this.excelData[0].sort((e,t)=>e.InvoiceDate.localeCompare(t.InvoiceDate)),n=this.ConvertToCSV(this.excelData[0],-1)):"PURCHASE"==e&&"18"==t?(this.excelData[1].sort((e,t)=>e.InvoiceDate.localeCompare(t.InvoiceDate)),n=this.ConvertToCSV(this.excelData[1],-1)):"SALE GST 3"==e&&"12"==t?(this.excelData[2].sort((e,t)=>e.InvoiceDate.localeCompare(t.InvoiceDate)),n=this.ConvertToCSV(this.excelData[2],-2)):"SALE GST 3"==e&&"18"==t?(this.excelData[3].sort((e,t)=>e.InvoiceDate.localeCompare(t.InvoiceDate)),n=this.ConvertToCSV(this.excelData[3],-2)):"SALE GST 1"==e&&"12"==t?(this.excelData[4].sort((e,t)=>e.InvoiceDate.localeCompare(t.InvoiceDate)),n=this.ConvertToCSV(this.excelData[4],this.excelData[6])):"SALE GST 1"==e&&"18"==t&&(this.excelData[5].sort((e,t)=>e.InvoiceDate.localeCompare(t.InvoiceDate)),n=this.ConvertToCSV(this.excelData[5],this.excelData[7]));let r=document.createElement("a");r.setAttribute("style","display:none;"),document.body.appendChild(r);let i=new Blob([n],{type:"text/csv"}),o=window.URL.createObjectURL(i);r.href=o,r.download=e+" "+t+"%.csv",r.click()}}var Rs=r.nb({encapsulation:0,styles:[["button[_ngcontent-%COMP%]{margin:3vw 3vw 0}"]],data:{}});function Ps(e){return r.Fb(0,[(e()(),r.pb(0,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Download Excel sheets"])),(e()(),r.pb(2,0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.download("PURCHASE","18")&&r),r}),null,null)),(e()(),r.Eb(-1,null,["Purchase 18%"])),(e()(),r.pb(4,0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.download("PURCHASE","12")&&r),r}),null,null)),(e()(),r.Eb(-1,null,["Purchase 12%"])),(e()(),r.pb(6,0,null,null,1,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.download("SALE GST 1","18")&&r),r}),null,null)),(e()(),r.Eb(-1,null,["Sale GST 1 18%"])),(e()(),r.pb(8,0,null,null,1,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.download("SALE GST 1","12")&&r),r}),null,null)),(e()(),r.Eb(-1,null,["Sale GST 1 12%"])),(e()(),r.pb(10,0,null,null,1,"button",[["class","btn btn-warning"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.download("SALE GST 3","18")&&r),r}),null,null)),(e()(),r.Eb(-1,null,["Sale GST 3 18%"])),(e()(),r.pb(12,0,null,null,1,"button",[["class","btn btn-warning"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.download("SALE GST 3","12")&&r),r}),null,null)),(e()(),r.Eb(-1,null,["Sale GST 3 12%"]))],null,null)}function Ms(e){return r.Fb(0,[(e()(),r.pb(0,0,null,null,2,"app-excel-sheets",[],null,null,null,Ps,Rs)),r.Bb(512,null,ds.a,ds.a,[]),r.ob(2,114688,null,0,Ds,[ds.a],null,null)],(function(e,t){e(t,2,0)}),null)}var Fs=r.lb("app-excel-sheets",Ds,Ms,{},{},[]);class Ls{constructor(e){this.excelData=[],this.purchase=[],this.loaded="false",this.excelData=e.getExcelObject(),this.purchase=this.excelData[0],console.log(this.purchase),this.loaded="true"}}var Vs=r.nb({encapsulation:0,styles:[[".col-sm-6[_ngcontent-%COMP%]{border:2px solid;margin-bottom:10px}"]],data:{}});function js(e){return r.Fb(0,[],null,null)}var Us=r.nb({encapsulation:0,styles:[["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}h1[_ngcontent-%COMP%]{font-weight:150;font-family:Ultra,sans-serif;font-size:50px;text-shadow:0 2px #fff,0 3px #777;text-align:center}.container[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.row[_ngcontent-%COMP%]{display:inline-block;padding:25px}"]],data:{}});function qs(e){return r.Fb(0,[(e()(),r.pb(0,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),r.Eb(-1,null,["AKHILA AGENCIES"])),(e()(),r.pb(2,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),r.pb(3,0,null,null,1,"button",[["class","btn btn-danger"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["New Data"])),(e()(),r.pb(5,0,null,null,16,"div",[["class","container"]],null,null,null,null,null)),(e()(),r.pb(6,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.pb(7,0,null,null,6,"a",[["routerLink","fill-details"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Ab(e,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.ob(8,671744,[[2,4]],0,Oi,[Ni,_r,h],{routerLink:[0,"routerLink"]},null),r.ob(9,1720320,null,2,Di,[Ni,r.k,r.B,[2,Ii],[2,Oi]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Cb(603979776,1,{links:1}),r.Cb(603979776,2,{linksWithHrefs:1}),(e()(),r.pb(12,0,null,null,1,"button",[["class","btn btn-success btn-lg"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Fill Details"])),(e()(),r.pb(14,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.pb(15,0,null,null,6,"a",[["routerLink","Excel"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Ab(e,16).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.ob(16,671744,[[4,4]],0,Oi,[Ni,_r,h],{routerLink:[0,"routerLink"]},null),r.ob(17,1720320,null,2,Di,[Ni,r.k,r.B,[2,Ii],[2,Oi]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Cb(603979776,3,{links:1}),r.Cb(603979776,4,{linksWithHrefs:1}),(e()(),r.pb(20,0,null,null,1,"button",[["class","btn btn-info btn-lg"]],null,null,null,null,null)),(e()(),r.Eb(-1,null,["Excel Sheets"])),(e()(),r.pb(22,0,null,null,2,"app-form-fill",[],null,null,null,js,Vs)),r.Bb(512,null,ds.a,ds.a,[]),r.ob(24,49152,null,0,Ls,[ds.a],null,null),(e()(),r.pb(25,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ob(26,212992,null,0,Mi,[Pi,r.M,r.j,[8,null],r.h],null,null)],(function(e,t){e(t,8,0,"fill-details"),e(t,9,0,"active"),e(t,16,0,"Excel"),e(t,17,0,"active"),e(t,26,0)}),(function(e,t){e(t,7,0,r.Ab(t,8).target,r.Ab(t,8).href),e(t,15,0,r.Ab(t,16).target,r.Ab(t,16).href)}))}function Hs(e){return r.Fb(0,[(e()(),r.pb(0,0,null,null,1,"app-root",[],null,null,null,qs,Us)),r.ob(1,49152,null,0,l,[],null,null)],null,null)}var Bs,Ws=r.lb("app-root",l,Hs,{},{},[]),zs=(n("mrSG"),n("Wcq6")),Qs=n.n(zs);const $s=new r.o("angularfire2.app.options"),Gs=new r.o("angularfire2.app.nameOrConfig");class Ks{}function Ys(e,t){const n="object"==typeof t&&t||{};return n.name=n.name||"string"==typeof t&&t||"[DEFAULT]",Qs.a.apps.filter(e=>e&&e.name===n.name)[0]||Qs.a.initializeApp(e,n)}let Zs=Bs=class{static initializeApp(e,t){return{ngModule:Bs,providers:[{provide:$s,useValue:e},{provide:Gs,useValue:t}]}}};class Js extends Be.a{constructor(e,t){super()}schedule(e,t=0){return this}}class Xs extends Js{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}class ea extends Xs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}let ta=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class na extends ta{constructor(e,t=ta.now){super(e,()=>na.delegate&&na.delegate!==this?na.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return na.delegate&&na.delegate!==this?na.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}class ra extends na{}const ia=new ra(ea),oa=new r.o("angularfire2.realtimeDatabaseURL");class sa{constructor(e,t){this.zone=e,this.platformId=t}schedule(...e){return this.zone.runGuarded((function(){return ia.schedule.apply(ia,e)}))}keepUnstableUntilFirst(e){return k(this.platformId)?new F.a(t=>{const n=()=>{},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);e.subscribe(e=>{"scheduled"===r.state&&r.invoke(),t.next(e)},e=>{"scheduled"===r.state&&r.invoke(),t.error(e)},()=>{"scheduled"===r.state&&r.invoke(),t.complete()})}):e}runOutsideAngular(e){return new F.a(t=>this.zone.runOutsideAngular(()=>e.subscribe(e=>this.zone.run(()=>t.next(e)),e=>this.zone.run(()=>t.error(e)),()=>this.zone.run(()=>t.complete()))))}}function aa(e){return null==e}function la(e){return"function"==typeof e.set}function ua(e,t){return la(t)?t:e.ref(t)}function ca(e,t){if("string"==typeof e)return t.stringCase();if(la(e))return t.firebaseCase();if("function"==typeof e.exportVal)return t.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof e}`)}const ha=new na(Xs);let da=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return U(this.value);case"E":return e=this.error,new F.a(t=>t.error(e));case"C":return V()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();class pa{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new fa(e,this.delay,this.scheduler))}}class fa extends re.a{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,r=e.scheduler,i=e.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const t=Math.max(0,n[0].time-r.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(fa.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new ga(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(da.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(da.createComplete()),this.unsubscribe()}}class ga{constructor(e,t){this.time=e,this.notification=t}}var ma=n("w1tV");function _a(e,t,n="on"){return new F.a(r=>{const i=e[n](t,(e,t)=>{r.next({snapshot:e,prevKey:t}),"once"==n&&r.complete()},r.error.bind(r));return"on"==n?{unsubscribe(){e.off(t,i)}}:{unsubscribe(){}}}).pipe(Object(ee.a)(e=>{const{snapshot:n,prevKey:r}=e;let i=null;return n.exists()&&(i=n.key),{type:t,payload:n,prevKey:r,key:i}}),function(e,t=ha){var n;const r=(n=e)instanceof Date&&!isNaN(+n)?+e-t.now():Math.abs(e);return e=>e.lift(new pa(r,t))}(0),Object(ma.a)())}var va=n("VRyK");class ya{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new ba(e,this.compare,this.keySelector))}}class ba extends re.a{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}function wa(e,t){const n=e.length;for(let r=0;r<n;r++)if(e[r].payload.key===t)return r;return-1}function Ca(e,t){const{payload:n,prevKey:r,key:i}=t,o=wa(e,i),s=function(e,t){if(aa(t))return 0;{const n=wa(e,t);return-1===n?e.length:n+1}}(e,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let n=null;t.payload.forEach(t=>{const r={payload:t,type:"value",prevKey:n,key:t.key};return n=t.key,e=[...e,r],!1})}return e;case"child_added":if(o>-1){const i=e[o-1];(i&&i.key||null)!=r&&(e=e.filter(e=>e.payload.key!==n.key)).splice(s,0,t)}else{if(null==r)return[t,...e];(e=e.slice()).splice(s,0,t)}return e;case"child_removed":return e.filter(e=>e.payload.key!==n.key);case"child_changed":return e.map(e=>e.payload.key===i?t:e);case"child_moved":if(o>-1){const t=e.splice(o,1)[0];return(e=e.slice()).splice(s,0,t),e}return e;default:return e}}function Ea(e){return(aa(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function Sa(e,t){return function(e,t){return _a(e,"value","once").pipe(Me(n=>{const r=[U(n)];return t.forEach(t=>r.push(_a(e,t))),Object(va.a)(...r).pipe(Ve(Ca,[]))}),e=>e.lift(new ya(void 0,void 0)))}(e,t=Ea(t))}function Ta(e,t){const n=(t=Ea(t)).map(t=>_a(e,t));return Object(va.a)(...n)}class Aa{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new xa(e,this.observables,this.project))}}class xa extends G.a{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const r=t.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++){let e=t[i];this.add(Object(K.a)(this,e,e,i))}}notifyNext(e,t,n,r,i){this.values[n]=t;const o=this.toRespond;if(o.length>0){const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class Na{constructor(e){this.predicate=e}call(e,t){return t.subscribe(new Ia(e,this.predicate))}}class Ia extends re.a{constructor(e,t){super(e),this.predicate=t,this.skipping=!0,this.index=0}_next(e){const t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}tryCallPredicate(e){try{const t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(t){this.destination.error(t)}}}function Oa(e,t){return function(n,r){return ca(n,{stringCase:()=>e.child(n)[t](r),firebaseCase:()=>n[t](r),snapshotCase:()=>n.ref[t](r)})}}function ka(e){return function(){return _a(e,"value")}}let Da=class{constructor(e,t,n,r,i){this.scheduler=new sa(i,r),this.database=i.runOutsideAngular(()=>Ys(e,t).database(n||void 0))}list(e,t){const n=ua(this.database,e);let r=n;return t&&(r=t(n)),function(e,t){return{query:e,update:Oa(e.ref,"update"),set:Oa(e.ref,"set"),push:t=>e.ref.push(t),remove:(n=e.ref,function(e){return e?ca(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}),snapshotChanges(n){const r=Sa(e,n);return t.scheduler.keepUnstableUntilFirst(t.scheduler.runOutsideAngular(r))},stateChanges(n){const r=Ta(e,n);return t.scheduler.keepUnstableUntilFirst(t.scheduler.runOutsideAngular(r))},auditTrail(n){const r=function(e,t){return function(e,t){return function(e){return _a(e,"value").pipe(Object(ee.a)(e=>{let t;return e.payload.forEach(e=>(t=e.key,!1)),{data:e,lastKeyToLoad:t}}))}(e).pipe(function(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new Aa(e,n))}}(t),Object(ee.a)(([e,t])=>{let n=e.lastKeyToLoad;const r=t.map(e=>e.key);return{actions:t,lastKeyToLoad:n,loadedKeys:r}}),(n=e=>-1===e.loadedKeys.indexOf(e.lastKeyToLoad),e=>e.lift(new Na(n))),Object(ee.a)(e=>e.actions));var n}(e,Ta(e,t).pipe(Ve((e,t)=>[...e,t],[])))}(e,n);return t.scheduler.keepUnstableUntilFirst(t.scheduler.runOutsideAngular(r))},valueChanges(n){const r=Sa(e,n);return t.scheduler.keepUnstableUntilFirst(t.scheduler.runOutsideAngular(r)).pipe(Object(ee.a)(e=>e.map(e=>e.payload.val())))}};var n}(r,this)}object(e){const t=ua(this.database,e);return r=this,{query:n=t,snapshotChanges(){const e=ka(n)();return r.scheduler.keepUnstableUntilFirst(r.scheduler.runOutsideAngular(e))},update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges(){const e=ka(n)();return r.scheduler.keepUnstableUntilFirst(r.scheduler.runOutsideAngular(e)).pipe(Object(ee.a)(e=>e.payload.exists()?e.payload.val():null))}};var n,r}createPushId(){return this.database.ref().push().key}},Ra=class{};class Pa{}var Ma=r.mb(o,[l],(function(e){return r.yb([r.zb(512,r.j,r.X,[[8,[so,As,ks,Fs,Ws]],[3,r.j],r.v]),r.zb(5120,r.s,r.jb,[[3,r.s]]),r.zb(4608,b,w,[r.s,[2,y]]),r.zb(5120,r.fb,r.kb,[r.x]),r.zb(5120,r.c,r.gb,[]),r.zb(5120,r.q,r.hb,[]),r.zb(5120,r.r,r.ib,[]),r.zb(4608,Yt,Zt,[I]),r.zb(6144,r.E,null,[Yt]),r.zb(4608,Bt,zt,[]),r.zb(5120,ht,(function(e,t,n,r,i,o,s,a){return[new qt(e,t,n),new Kt(r),new Qt(i,o,s,a)]}),[I,r.x,r.z,I,I,Bt,r.Y,[2,Wt]]),r.zb(4608,dt,dt,[ht,r.x]),r.zb(135680,gt,gt,[I]),r.zb(4608,Ct,Ct,[dt,gt,r.c]),r.zb(6144,r.C,null,[Ct]),r.zb(6144,ft,null,[gt]),r.zb(4608,r.K,r.K,[r.x]),r.zb(4608,xo,xo,[]),r.zb(5120,_r,Ji,[Ni]),r.zb(4608,ji,ji,[]),r.zb(6144,Li,null,[ji]),r.zb(135680,Ui,Ui,[Ni,r.u,r.i,r.p,Li]),r.zb(4608,Vi,Vi,[]),r.zb(5120,qi,$i,[Ni,D,Hi]),r.zb(5120,no,to,[Xi]),r.zb(5120,r.b,(function(e){return[e]}),[no]),r.zb(5120,Ks,Ys,[$s,[2,Gs]]),r.zb(4608,Da,Da,[$s,[2,Gs],[2,oa],r.z,r.x]),r.zb(4608,us,us,[]),r.zb(4608,ds.a,ds.a,[]),r.zb(1073742336,N,N,[]),r.zb(1024,r.l,an,[]),r.zb(1024,r.w,(function(){return[zi()]}),[]),r.zb(512,Xi,Xi,[r.p]),r.zb(1024,r.d,(function(e,t){return[(n=e,lt("probe",ct),lt("coreTokens",Object.assign({},ut,(n||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>ct),eo(t)];var n}),[[2,r.w],Xi]),r.zb(512,r.e,r.e,[[2,r.d]]),r.zb(131584,r.g,r.g,[r.x,r.Y,r.p,r.l,r.j,r.e]),r.zb(1073742336,r.f,r.f,[r.g]),r.zb(1073742336,ln,ln,[[3,ln]]),r.zb(1073742336,ls,ls,[]),r.zb(1073742336,cs,cs,[]),r.zb(1024,Bi,Ki,[[3,Ni]]),r.zb(512,Kn,Yn,[]),r.zb(512,Pi,Pi,[]),r.zb(256,Hi,{},[]),r.zb(1024,h,Gi,[u,[2,d],Hi]),r.zb(512,p,p,[h,u]),r.zb(512,r.i,r.i,[]),r.zb(512,r.u,r.H,[r.i,[2,r.I]]),r.zb(1024,wi,(function(){return[[{path:"fill-details",component:ps.a},{path:"view-update-delete",component:xs},{path:"Excel",component:Ds}]]}),[]),r.zb(1024,Ni,Zi,[r.g,Kn,Pi,p,r.p,r.u,r.i,wi,Hi,[2,Ei],[2,yi]]),r.zb(1073742336,Qi,Qi,[[2,Bi],[2,Ni]]),r.zb(1073742336,Pa,Pa,[]),r.zb(1073742336,Zs,Zs,[]),r.zb(1073742336,Ra,Ra,[]),r.zb(1073742336,hs,hs,[]),r.zb(1073742336,o,o,[]),r.zb(256,r.W,!0,[]),r.zb(256,$s,{apiKey:"AIzaSyDyY7mhCcOII5I3gO4r4R1v-vgr0ez4naw",authDomain:"dadproject-1ea10.firebaseapp.com",databaseURL:"https://dadproject-1ea10.firebaseio.com",projectId:"dadproject-1ea10",storageBucket:"dadproject-1ea10.appspot.com",messagingSenderId:"371800043381",appId:"1:371800043381:web:7cba2eabc46e8077a66d3c"},[]),r.zb(256,Gs,void 0,[])])}));i.production&&Object(r.Q)(),sn().bootstrapModuleFactory(Ma).catch(e=>console.error(e))},zVF4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=(15&a)<<2|u>>6,h=63&u;l||(h=64,s||(c=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[c],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,l=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==l)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==l&&r.push(a<<6&192|l))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){try{return l.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=c(e[n],t[n]));return e}var h=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p="FirebaseError",f=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name=p,Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,g.prototype.create),i}return r.__extends(t,e),t}(Error),g=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?m(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",l=new f(i,a),u=0,c=Object.keys(r);u<c.length;u++){var h=c[u];"_"!==h.slice(-1)&&(h in l&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),l[h]=r[h])}return l},e}();function m(e,t){return e.replace(_,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}var _=/\{\$([^}]+)}/g;function v(e){return JSON.parse(e)}var y=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=v(u(o[0])||""),n=v(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}},b=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(l^u),o=1518500249):(i=a^l^u,o=1859775393):r<60?(i=a&l|u&(a|l),o=2400959708):(i=a^l^u,o=3395469782);var h=(s<<5|s>>>27)+i+c+o+n[r]&4294967295;c=u,u=l,l=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}(),w=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function C(){}function E(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+r+" argument "}t.CONSTANTS=i,t.Deferred=h,t.ErrorFactory=g,t.FirebaseError=f,t.Sha1=b,t.assert=o,t.assertionError=s,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=l,t.base64Decode=u,t.base64Encode=function(e){var t=a(e);return l.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new w(e,t);return n.subscribe.bind(n)},t.decode=y,t.deepCopy=function(e){return c(void 0,e)},t.deepExtend=c,t.errorPrefix=E,t.getUA=d,t.isAdmin=function(e){var t=y(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isValidFormat=function(e){var t=y(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=y(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=y(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=v,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;o(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(E(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(E(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(E(e,t,r)+"must be a valid firebase namespace.")}},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);